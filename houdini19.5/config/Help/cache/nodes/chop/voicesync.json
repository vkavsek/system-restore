{"type": "root", "attrs": {"type": "node", "context": "chop", "internal": "voicesync", "icon": "CHOP/voicesync", "version": null, "namespace": null}, "body": [{"level": 0, "type": "title", "indent": 0, "text": ["Voice Sync"], "extent": [71, 86]}, {"type": "summary", "indent": 0, "text": ["The Voice Sync CHOP detects phonemes in an audio channel given some\naudio phoneme samples and pro\u2026"], "extent": [86, 195]}, {"type": "para", "indent": 0, "text": ["The Voice Sync CHOP detects phonemes in an audio channel given some\naudio phoneme samples and produces lip control channels."], "extent": [195, 321]}, {"type": "para", "indent": 0, "text": ["In order to set up a lip-synching system based on phoneme detection, you\nneed to model different mouth shapes for each viseme (visually similar\nphonemes) and create a ", {"type": "q", "text": ["phoneme library"]}, " of sample phonemes. "], "extent": [321, 528]}, {"type": "para", "indent": 0, "text": ["Once these\nsteps are complete, the Voice Sync CHOP matches the phoneme library to\nthe audio voice track in input 1. The Voice Sync CHOP outputs a channel\nfor each phoneme (or viseme). Each channel contains the occurrences of\nthe phoneme in the voice track (as ", {"type": "code", "text": ["1"]}, " when detected, ", {"type": "code", "text": ["0"]}, " otherwise)\nover its full length."], "extent": [528, 846]}, {"level": 1, "id": "parameters", "container": true, "type": "parameters_section", "indent": 0, "role": "section", "extent": [846, 858], "body": [{"level": 2, "id": null, "container": true, "type": "h", "indent": 4, "text": ["Voice Sync"], "extent": [858, 880], "body": [{"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 8, "text": ["Quality"], "extent": [880, 898], "body": [{"type": "para", "indent": 12, "text": ["Allows you to trade off between performance and accuracy."], "extent": [898, 968]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 8, "text": ["Silence Level"], "extent": [968, 991], "body": [{"type": "para", "indent": 12, "text": ["Voice Detection will only be performed on the input audio if\n            its average volume for a given segment is higher than this\n            value. It should be adjusted so that background noise is not\n            interpreted as voice."], "extent": [991, 1242]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 8, "text": ["Silence Chan Name"], "extent": [1242, 1269], "body": [{"type": "para", "indent": 12, "text": ["Creates a channel which acts as a 'silence phoneme'."], "extent": [1269, 1334]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 8, "text": ["Vocal Range (Hz)"], "extent": [1334, 1360], "body": [{"type": "para", "indent": 12, "text": ["The approximate vocal range of the voice actor. The defaults\n            are for an average male speaker. This parameter is only used\n            by Voiced Phonemes."], "extent": [1360, 1538]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 8, "text": ["Max Pitch Shift"], "extent": [1538, 1563], "body": [{"type": "para", "indent": 12, "text": ["The maximum number of octaves that a phoneme in the voice\n            track can differ in pitch from the sample phoneme."], "extent": [1563, 1696]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 8, "text": ["Noise Filter (Hz)"], "extent": [1696, 1723], "body": [{"type": "para", "indent": 12, "text": ["Controls the size of the noise filter to smooth out\n            non-voiced phonemes."], "extent": [1723, 1820]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 8, "text": ["Setup Phoneme Library"], "extent": [1820, 1851], "body": [{"type": "para", "indent": 12, "text": ["This button build the phoneme library from the second and\n            third inputs. It is only used in time slice mode. Before\n            starting the realtime synching, initialize the phoneme\n            library by clicking this button."], "extent": [1851, 2103]}], "container": true, "role": "item"}], "container": true, "role": "item_group"}]}, {"level": 2, "id": null, "container": true, "type": "h", "indent": 4, "text": ["Output"], "extent": [2103, 2120], "body": [{"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 8, "text": ["Convert Scores into On/Off States"], "extent": [2120, 2164], "body": [{"type": "para", "indent": 12, "text": ["Produces binary on/off state channels for each viseme into\n            On/Off States rather than outputing the raw scores."], "extent": [2164, 2299]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 8, "text": ["Minimum Score"], "extent": [2299, 2322], "body": [{"type": "para", "indent": 12, "text": ["The viseme with the highest score is chosen to be the match.\n            However, if its score is not above the minimum score, then\n            no visemes will be chosen. This parameter helps to eliminate\n            poor matches."], "extent": [2322, 2565]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 8, "text": ["Voiced Bias"], "extent": [2565, 2586], "body": [{"type": "para", "indent": 12, "text": ["Voiced and Non-Voiced phonemes are detected using the\n            different methods. If you find that either the Voiced or\n            Non-Voiced phonemes are dominating the output, you can shift\n            the bias to balance them. Zero bias doesn\u2019t favor either\n            method, +1 completely favors Voiced phonemes and -1\n            completely favors Non-Voiced phonemes. Normally values\n            should remain close to zero."], "extent": [2586, 3035]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 8, "text": ["Sample Rate"], "extent": [3035, 3056], "body": [{"type": "para", "indent": 12, "text": ["The sample rate of the output channels. This allow partially\n            determines how many matches are done on the input audio."], "extent": [3056, 3198]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 8, "text": ["Super Sample"], "extent": [3198, 3220], "body": [{"type": "para", "indent": 12, "text": ["How many comparisons are done per output sample. A higher\n            super sample will increase the matching accuracy, but will\n            affect performance greatly."], "extent": [3220, 3414]}], "container": true, "role": "item"}], "container": true, "role": "item_group"}]}], "text": "Parameters"}, {"level": 2, "id": "common", "container": true, "type": "h", "indent": 0, "text": ["Common"], "extent": [2334, 2356], "body": [{"type": "para", "indent": 0, "text": ["Some of these parameters may not be available on all CHOP nodes."], "extent": [2356, 2423]}, {"type": "dt_group", "body": [{"type": "dt", "indent": 0, "text": ["Scope"], "extent": [2423, 2430], "body": [{"type": "para", "indent": 4, "text": ["To determine which channels get affected, some CHOPs have a scope string. Patterns can be used in the scope, for example ", {"type": "code", "text": ["*"]}, " (match all), and ", {"type": "code", "text": ["?"]}, " (match single character). "], "extent": [2430, 2612]}, {"type": "para", "indent": 4, "text": ["The following are examples of possible channel name matching options:"], "extent": [2612, 2691]}, {"type": "dt_group", "body": [{"type": "dt", "indent": 4, "text": [{"type": "code", "text": ["chan2"]}], "extent": [2691, 2704], "body": [{"type": "para", "indent": 8, "text": ["Matches a single channel name."], "extent": [2704, 2748]}], "container": true}, {"type": "dt", "indent": 4, "text": [{"type": "code", "text": ["chan3 tx ty tz"]}], "extent": [2748, 2770], "body": [{"type": "para", "indent": 8, "text": ["Matches four channel names, separated by spaces."], "extent": [2770, 2832]}], "container": true}, {"type": "dt", "indent": 4, "text": [{"type": "code", "text": ["chan*"]}], "extent": [2832, 2845], "body": [{"type": "para", "indent": 8, "text": ["Matches each channel that starts with ", {"type": "code", "text": ["chan"]}, "."], "extent": [2845, 2908]}], "container": true}, {"type": "dt", "indent": 4, "text": [{"type": "code", "text": ["*foot*"]}], "extent": [2908, 2922], "body": [{"type": "para", "indent": 8, "text": ["Matches each channel that has ", {"type": "code", "text": ["foot"]}, " in it."], "extent": [2922, 2979]}], "container": true}, {"type": "dt", "indent": 4, "text": [{"type": "code", "text": ["t?"]}], "extent": [2979, 2989], "body": [{"type": "para", "indent": 8, "text": ["The ", {"type": "code", "text": ["?"]}, " matches a single character. ", {"type": "code", "text": ["t?"]}, " matches two-character channels starting with t.  "], "extent": [2989, 3093]}], "container": true}, {"type": "dt", "indent": 4, "text": [{"type": "code", "text": ["r[xyz]"]}], "extent": [3093, 3107], "body": [{"type": "para", "indent": 8, "text": ["Matches channels ", {"type": "code", "text": ["rx"]}, ", ", {"type": "code", "text": ["ry"]}, " and ", {"type": "code", "text": ["rz"]}, "."], "extent": [3107, 3162]}], "container": true}, {"type": "dt", "indent": 4, "text": [{"type": "code", "text": ["blend[3-7:2]"]}], "extent": [3162, 3182], "body": [{"type": "para", "indent": 8, "text": ["Matches number ranges giving ", {"type": "code", "text": ["blend3"]}, ", ", {"type": "code", "text": ["blend5"]}, ", and ", {"type": "code", "text": ["blend7"]}, "."], "extent": [3182, 3262]}], "container": true}, {"type": "dt", "indent": 4, "text": [{"type": "code", "text": ["blend[2-3,5,13]"]}], "extent": [3262, 3285], "body": [{"type": "para", "indent": 8, "text": ["Matches channels ", {"type": "code", "text": ["blend2"]}, ", ", {"type": "code", "text": ["blend3"]}, ", ", {"type": "code", "text": ["blend5"]}, ", ", {"type": "code", "text": ["blend13"]}, "."], "extent": [3285, 3356]}], "container": true}, {"type": "dt", "indent": 4, "text": [{"type": "code", "text": ["t[xyz]"]}], "extent": [3356, 3370], "body": [{"type": "para", "indent": 8, "text": [{"type": "code", "text": ["[xyz]"]}, "matches three characters, giving channels ", {"type": "code", "text": ["tx"]}, ", ", {"type": "code", "text": ["ty"]}, " and ", {"type": "code", "text": ["tz"]}, "."], "extent": [3370, 3458]}], "container": true}], "container": true}], "container": true}, {"type": "dt", "indent": 0, "text": ["Sample Rate Match"], "extent": [3458, 3477], "body": [{"type": "para", "indent": 4, "text": ["The Sample Rate Match Options handle cases where multiple input CHOPs\u2019 sample rates are different."], "extent": [3477, 3585]}, {"type": "dt_group", "body": [{"type": "dt", "indent": 4, "text": ["Resample At First Input\u2019s Rate"], "extent": [3585, 3621], "body": [{"type": "para", "indent": 8, "text": ["Use rate of first input to resample others."], "extent": [3621, 3682]}], "container": true}, {"type": "dt", "indent": 4, "text": ["Resample At Maximum Rate"], "extent": [3682, 3712], "body": [{"type": "para", "indent": 8, "text": ["Resample to highest sample rate."], "extent": [3712, 3758]}], "container": true}, {"type": "dt", "indent": 4, "text": ["Resample At Minimum Rate"], "extent": [3758, 3788], "body": [{"type": "para", "indent": 8, "text": ["Resample to the lowest sample rate."], "extent": [3788, 3841]}], "container": true}, {"type": "dt", "indent": 4, "text": ["Error if Rates Differ"], "extent": [3841, 3868], "body": [{"type": "para", "indent": 8, "text": ["Does not accept conflicting sample rates."], "extent": [3868, 3923]}], "container": true}], "container": true}], "container": true}, {"type": "dt", "indent": 0, "text": ["Units"], "extent": [3923, 3930], "body": [{"type": "para", "indent": 4, "text": ["The units for which time parameters are specified."], "extent": [3930, 3990]}, {"type": "para", "indent": 4, "text": ["For example, you can specify the amount of time a lag should last for in seconds (default), frames (at the Houdini FPS), or samples (in the CHOP\u2019s sample rate)."], "extent": [3990, 4160]}, {"type": "note_group", "body": [{"type": "note", "indent": 4, "role": "item", "extent": [4160, 4170], "body": [{"type": "para", "indent": 8, "text": ["When you change the Units parameter, it does not convert the existing parameters to the new units."], "extent": [4170, 4282]}], "container": true}], "container": true, "role": "item_group"}], "container": true}, {"type": "dt", "indent": 0, "text": ["Time Slice"], "extent": [4282, 4294], "body": [{"type": "para", "indent": 4, "text": ["Time Slicing is a feature which boosts cooking performance and reduces memory usage. Traditionally, CHOPs calculate the channel over its entire frame range. If the channel does need to be evaluated every frame, then cooking the entire range of the channel is unnecessary. It is more efficient to calculate only the fraction of the channel that is needed. This fraction is known as a Time Slice."], "extent": [4294, 4694]}], "container": true}, {"type": "dt", "indent": 0, "text": ["Unload"], "extent": [4694, 4702], "body": [{"type": "para", "indent": 4, "text": ["Causes the memory consumed by a CHOP to be released after it is cooked and the data passed to the next CHOP."], "extent": [4702, 4816]}], "container": true}, {"type": "dt", "indent": 0, "text": ["Export Prefix"], "extent": [4816, 4836], "body": [{"type": "para", "indent": 4, "text": ["The Export prefix is prepended to CHOP channel names to determine where to export to. "], "extent": [4836, 4932]}, {"type": "para", "indent": 4, "text": ["For example, if the CHOP channel was named ", {"type": "code", "text": ["geo1:tx"]}, ", and the prefix was ", {"type": "code", "text": ["/obj"]}, ", the channel would be exported to ", {"type": "code", "text": ["/obj/geo1/tx"]}, "."], "extent": [4932, 5071]}, {"type": "note_group", "body": [{"type": "note", "indent": 4, "role": "item", "extent": [5071, 5081], "body": [{"type": "para", "indent": 8, "text": ["You can leave the ", {"type": "ui", "text": ["Export Prefix"]}, " blank, but then your CHOP track names need to be absolute paths, such as ", {"type": "code", "text": ["obj:geo1:tx"]}, "."], "extent": [5081, 5214]}], "container": true}], "container": true, "role": "item_group"}], "container": true}, {"type": "dt", "indent": 0, "text": ["Graph Color"], "extent": [5214, 5227], "body": [{"type": "para", "indent": 4, "text": ["Every CHOP has this option. Each CHOP gets a default color assigned for display in the Graph port, but you can override the color in the Common page under Graph Color. There are 36 RGB color combinations in the Palette."], "extent": [5227, 5452]}], "container": true}, {"type": "dt", "indent": 0, "text": ["Graph Color Step"], "extent": [5452, 5470], "body": [{"type": "para", "indent": 4, "text": ["When the graph displays the animation curves and a CHOP has two or more channels, this defines the difference in color from one channel to the next, giving a rainbow spectrum of colors."], "extent": [5470, 5661]}], "container": true}], "container": true}]}, {"level": 1, "id": "related", "container": true, "type": "related_section", "indent": 0, "role": "section", "extent": [3439, 3448], "body": [{"type": "bullet_group", "body": [{"blevel": 6, "type": "bullet", "indent": 4, "text": [{"scheme": "Node", "value": "/nodes/chop/phoneme", "type": "link", "text": "", "fullpath": "/nodes/chop/phoneme"}], "extent": [3448, 3474]}, {"blevel": 6, "type": "bullet", "indent": 4, "text": [{"scheme": "Node", "value": "/nodes/chop/voicesplit", "type": "link", "text": "", "fullpath": "/nodes/chop/voicesplit"}], "extent": [3474, 3504]}], "container": true}], "text": "Related"}], "title": ["Voice Sync"], "summary": ["The Voice Sync CHOP detects phonemes in an audio channel given some\naudio phoneme samples and pro\u2026"], "included": ["/nodes/chop/common"]}