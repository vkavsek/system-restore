{"type": "root", "attrs": {"type": "node", "context": "cop2", "internal": "layer", "icon": "COP2/layer", "version": null, "namespace": null}, "body": [{"level": 0, "type": "title", "indent": 0, "text": ["Layer"], "extent": [63, 73]}, {"type": "summary", "indent": 0, "text": ["Layers a series of inputs together by compositing them one by one on\nthe background image (input 1)."], "extent": [73, 182]}, {"type": "para", "indent": 0, "text": ["This operation does a series of composite operations (over, under,\ninside, add, etc.) on the background image (input 1) using the foreground\nimages (inputs 2 and up). The compositing operation may be changed per\nforeground input, and each foreground input has its own transform. The\nfirst input is always the background image, and subsequent inputs are\ncomposited in order. The size of the resulting image is the size of the\nbackground image."], "extent": [182, 626]}, {"type": "para", "indent": 0, "text": ["In the case of an over, the result image is:"], "extent": [626, 672]}, {"lang": null, "type": "pre", "indent": 0, "text": ["\n4 over (3 over (2 over 1))\n"], "extent": [672, 707]}, {"type": "para", "indent": 0, "text": ["for four inputs, 1 to 4."], "extent": [707, 734]}, {"type": "tip_group", "body": [{"type": "tip", "indent": 0, "role": "item", "extent": [734, 739], "body": [{"type": "para", "indent": 4, "text": ["Tip: For a more traditional A over B method, use the ", {"scheme": "Node", "value": "/nodes/cop2/composite", "type": "link", "text": ["Composite\n    COP"], "fullpath": "/nodes/cop2/composite"}, "."], "extent": [739, 839]}], "container": true}], "container": true, "role": "item_group"}, {"level": 1, "id": "parameters", "container": true, "type": "parameters_section", "indent": 0, "role": "section", "extent": [839, 851], "body": [{"level": 2, "id": null, "container": true, "type": "h", "indent": 4, "text": ["Composite"], "extent": [851, 872], "body": [{"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 8, "text": ["Operation"], "extent": [872, 892], "body": [{"type": "para", "indent": 12, "text": ["Specifies the global compositing operation:"], "extent": [892, 949]}, {"type": "dt_group", "body": [{"type": "dt", "indent": 12, "text": ["Over"], "extent": [949, 967], "body": [{"type": "para", "indent": 16, "text": ["Places the foreground over the background."], "extent": [967, 1026]}], "container": true}, {"type": "dt", "indent": 12, "text": ["Under"], "extent": [1026, 1045], "body": [{"type": "para", "indent": 16, "text": ["Places the foreground under the background\u2019s alpha."], "extent": [1045, 1113]}], "container": true}, {"type": "dt", "indent": 12, "text": ["Atop"], "extent": [1113, 1131], "body": [{"type": "para", "indent": 16, "text": ["Places the foreground over the background only where the\n                background alpha exists."], "extent": [1131, 1245]}], "container": true}, {"type": "dt", "indent": 12, "text": ["Inside"], "extent": [1245, 1265], "body": [{"type": "para", "indent": 16, "text": ["Places the foreground inside the background\u2019s alpha."], "extent": [1265, 1334]}], "container": true}, {"type": "dt", "indent": 12, "text": ["Outside"], "extent": [1334, 1355], "body": [{"type": "para", "indent": 16, "text": ["Places the foreground outside the background\u2019s alpha."], "extent": [1355, 1425]}], "container": true}, {"type": "dt", "indent": 12, "text": ["Screen"], "extent": [1425, 1445], "body": [{"type": "para", "indent": 16, "text": ["Acts as a saturating add, much like photographic\n                addition."], "extent": [1445, 1536]}], "container": true}, {"type": "dt", "indent": 12, "text": ["Add"], "extent": [1536, 1553], "body": [{"type": "para", "indent": 16, "text": ["Adds the foreground to the background."], "extent": [1553, 1608]}], "container": true}, {"type": "dt", "indent": 12, "text": ["Subtract"], "extent": [1608, 1630], "body": [{"type": "para", "indent": 16, "text": ["Subtracts the foreground from the background."], "extent": [1630, 1692]}], "container": true}, {"type": "dt", "indent": 12, "text": ["Diff"], "extent": [1692, 1710], "body": [{"type": "para", "indent": 16, "text": ["Takes the absolute difference between the foreground and\n                the background."], "extent": [1710, 1815]}], "container": true}, {"type": "dt", "indent": 12, "text": ["Multiply"], "extent": [1815, 1837], "body": [{"type": "para", "indent": 16, "text": ["Multiplies the background by the foreground."], "extent": [1837, 1898]}], "container": true}, {"type": "dt", "indent": 12, "text": ["Minimum"], "extent": [1898, 1919], "body": [{"type": "para", "indent": 16, "text": ["Takes the minimum of the foreground and background."], "extent": [1919, 1987]}], "container": true}, {"type": "dt", "indent": 12, "text": ["Maximum"], "extent": [1987, 2008], "body": [{"type": "para", "indent": 16, "text": ["Takes the maximum of the foreground and background."], "extent": [2008, 2076]}], "container": true}, {"type": "dt", "indent": 12, "text": ["Average"], "extent": [2076, 2097], "body": [{"type": "para", "indent": 16, "text": ["Takes the average of the foreground and background."], "extent": [2097, 2165]}], "container": true}, {"type": "dt", "indent": 12, "text": ["Xor"], "extent": [2165, 2182], "body": [{"type": "para", "indent": 16, "text": ["Takes the exclusive or of the two alpha planes, so that\n                alpha areas that overlap are removed."], "extent": [2182, 2308]}], "container": true}], "container": true}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 8, "text": ["Alpha Operation"], "extent": [2308, 2333], "body": [{"type": "para", "indent": 12, "text": ["Specifies the compositing operation for the alpha plane,\n            which is normally the same as the global compositing\n            operations (see above)."], "extent": [2333, 2503]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 8, "text": ["Image Units"], "extent": [2503, 2524], "body": [{"type": "para", "indent": 12, "text": ["Selects pixels or UV units for the transforms."], "extent": [2524, 2583]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 8, "text": ["Image Filter"], "extent": [2583, 2605], "body": [{"type": "para", "indent": 12, "text": ["Specifies the filter to use when transforming."], "extent": [2605, 2664]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 8, "text": ["Motion Blur"], "extent": [2664, 2685], "body": [{"type": "para", "indent": 12, "text": ["Toggles on motion blur, and specifies the time range around\n            the current frame to blur."], "extent": [2685, 2796]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 8, "text": ["Motion Frame Bias"], "extent": [2796, 2823], "body": [{"type": "para", "indent": 12, "text": ["Shifts the time range for the blur."], "extent": [2823, 2871]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 8, "text": ["Motion Blur Segments"], "extent": [2871, 2901], "body": [{"type": "para", "indent": 12, "text": ["Number of samples to blur together in the specified time\n            range."], "extent": [2901, 2989]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 8, "text": ["Motion Blur Method"], "extent": [2989, 3018], "body": [{"type": "dt_group", "body": [{"type": "dt", "indent": 12, "text": ["Velocity"], "extent": [3018, 3040], "body": [{"type": "para", "indent": 16, "text": ["Only uses the current frame and the transform to compute\n                past and future positions."], "extent": [3040, 3156]}], "container": true}, {"type": "dt", "indent": 12, "text": ["Deformation"], "extent": [3156, 3181], "body": [{"type": "para", "indent": 16, "text": ["Cooks the images at all time samples."], "extent": [3181, 3236]}], "container": true}], "container": true}], "container": true, "role": "item"}], "container": true, "role": "item_group"}]}, {"level": 2, "id": null, "container": true, "type": "h", "indent": 4, "text": ["Transform (1 set per foreground input)"], "extent": [3236, 3285], "body": [{"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 8, "text": ["Operation"], "extent": [3285, 3305], "body": [{"type": "para", "indent": 12, "text": ["Specifies the composite operation for this input. The\n            default compositing operation is ", {"type": "q", "text": ["global"]}, " which uses the\n            operation specified on the Layer page."], "extent": [3305, 3491]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 8, "text": ["Alpha Operation"], "extent": [3491, 3516], "body": [{"type": "para", "indent": 12, "text": ["Specifies the composite operation for the alpha channel of\n            this input. By default, this input\u2019s compositing operation\n            is used (which also may point to the global compositing\n            operation)."], "extent": [3516, 3750]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 8, "text": ["Image Wrap"], "extent": [3750, 3770], "body": [{"type": "para", "indent": 12, "text": ["What this input shows when data outside its image bounds is\n            needed."], "extent": [3770, 3863]}, {"type": "dt_group", "body": [{"type": "dt", "indent": 12, "text": ["Repeat"], "extent": [3863, 3883], "body": [{"type": "para", "indent": 16, "text": ["Repeat the image again, as if tiled."], "extent": [3883, 3936]}], "container": true}, {"type": "dt", "indent": 12, "text": ["Clamp"], "extent": [3936, 3955], "body": [{"type": "para", "indent": 16, "text": ["Holds the edge pixels' values (useful for ramps)."], "extent": [3955, 4021]}], "container": true}, {"type": "dt", "indent": 12, "text": ["Decal"], "extent": [4021, 4040], "body": [{"type": "para", "indent": 16, "text": ["Use black and zero alpha."], "extent": [4040, 4082]}], "container": true}, {"type": "dt", "indent": 12, "text": ["Mirror"], "extent": [4082, 4102], "body": [{"type": "para", "indent": 16, "text": ["Repeat the image again, reversing it every other time."], "extent": [4102, 4173]}], "container": true}], "container": true}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 8, "text": ["Translate, Rotate, Scale, Pivot"], "extent": [4173, 4214], "body": [{"type": "para", "indent": 12, "text": ["Transforms this foreground in X,Y relative to the\n            background."], "extent": [4214, 4301]}], "container": true, "role": "item"}], "container": true, "role": "item_group"}]}, {"level": 2, "id": null, "container": true, "type": "h", "indent": 4, "text": ["Merge"], "extent": [4301, 4317], "body": [{"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 8, "text": ["Overview"], "extent": [4317, 4336], "body": [{"type": "para", "indent": 12, "text": ["These parameters specify how to build the output sequence\n            when there are differences between the input sequences."], "extent": [4336, 4474]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 8, "text": ["Plane Merge"], "extent": [4474, 4495], "body": [{"type": "para", "indent": 12, "text": ["If the planes in the inputs differ, this specifies what the\n            output planes should be."], "extent": [4495, 4604]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 8, "text": ["Raster Depth"], "extent": [4604, 4626], "body": [{"type": "para", "indent": 12, "text": ["If the raster depth for a given plane differs between\n            inputs, this specifies what the output raster depth for the\n            plane should be."], "extent": [4626, 4793]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 8, "text": ["Frame Range"], "extent": [4793, 4814], "body": [{"type": "para", "indent": 12, "text": ["If the frame ranges of the inputs differ, this determines\n            what the output range should be."], "extent": [4814, 4929]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 8, "text": ["Frame Rate"], "extent": [4929, 4949], "body": [{"type": "para", "indent": 12, "text": ["If the frame rates of the inputs differ, this determines\n            what the output frame rate should be."], "extent": [4949, 5068]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 8, "text": ["Frame Match"], "extent": [5068, 5089], "body": [{"type": "para", "indent": 12, "text": ["If the frame rates of the inputs differ, this determines\n            which input frame to pick when the cook time doesn\u2019t reside\n            on a frame boundary."], "extent": [5089, 5263]}], "container": true, "role": "item"}], "container": true, "role": "item_group"}]}], "text": "Parameters"}, {"level": 1, "id": "locals", "container": true, "type": "locals_section", "indent": 0, "role": "section", "extent": [5263, 5271], "body": [{"type": "dt_group", "body": [{"type": "dt", "indent": 0, "text": ["L"], "extent": [15, 18], "body": [{"type": "para", "indent": 4, "text": ["Sequence length"], "extent": [18, 38]}], "container": true}, {"type": "dt", "indent": 0, "text": ["S"], "extent": [38, 41], "body": [{"type": "para", "indent": 4, "text": ["Start of sequence"], "extent": [41, 63]}], "container": true}, {"type": "dt", "indent": 0, "text": ["E"], "extent": [63, 66], "body": [{"type": "para", "indent": 4, "text": ["End of sequence"], "extent": [66, 86]}], "container": true}, {"type": "dt", "indent": 0, "text": ["IL"], "extent": [86, 90], "body": [{"type": "para", "indent": 4, "text": ["Input sequence length"], "extent": [90, 116]}], "container": true}, {"type": "dt", "indent": 0, "text": ["SR"], "extent": [116, 120], "body": [{"type": "para", "indent": 4, "text": ["Sequence frame rate"], "extent": [120, 144]}], "container": true}, {"type": "dt", "indent": 0, "text": ["NP"], "extent": [144, 148], "body": [{"type": "para", "indent": 4, "text": ["Number of planes in sequence"], "extent": [148, 181]}], "container": true}, {"type": "dt", "indent": 0, "text": ["W,H"], "extent": [181, 186], "body": [{"type": "para", "indent": 4, "text": ["Width and height of image"], "extent": [186, 216]}], "container": true}, {"type": "dt", "indent": 0, "text": ["I"], "extent": [216, 219], "body": [{"type": "para", "indent": 4, "text": ["Image index (0 at start frame)"], "extent": [219, 254]}], "container": true}, {"type": "dt", "indent": 0, "text": ["IT"], "extent": [254, 258], "body": [{"type": "para", "indent": 4, "text": ["Image time (0 at start frame)"], "extent": [258, 292]}], "container": true}, {"type": "dt", "indent": 0, "text": ["AI"], "extent": [292, 296], "body": [{"type": "para", "indent": 4, "text": ["Current plane array index"], "extent": [296, 326]}], "container": true}, {"type": "dt", "indent": 0, "text": ["PI"], "extent": [326, 330], "body": [{"type": "para", "indent": 4, "text": ["Current plane index"], "extent": [330, 354]}], "container": true}, {"type": "dt", "indent": 0, "text": ["PC"], "extent": [354, 358], "body": [{"type": "para", "indent": 4, "text": ["Num of channels in current plane"], "extent": [358, 395]}], "container": true}, {"type": "dt", "indent": 0, "text": ["CXRES"], "extent": [395, 402], "body": [{"type": "para", "indent": 4, "text": ["Composite Project X resolution"], "extent": [402, 437]}], "container": true}, {"type": "dt", "indent": 0, "text": ["CYRES"], "extent": [437, 444], "body": [{"type": "para", "indent": 4, "text": ["Composite Project Y resolution"], "extent": [444, 479]}], "container": true}, {"type": "dt", "indent": 0, "text": ["CPIXA"], "extent": [479, 486], "body": [{"type": "para", "indent": 4, "text": ["Composite Project pixel aspect ratio"], "extent": [486, 527]}], "container": true}, {"type": "dt", "indent": 0, "text": ["CDEPTH"], "extent": [527, 535], "body": [{"type": "para", "indent": 4, "text": ["Composite Project raster depth"], "extent": [535, 570]}], "container": true}, {"type": "dt", "indent": 0, "text": ["CBP"], "extent": [570, 575], "body": [{"type": "para", "indent": 4, "text": ["Composite Project black point"], "extent": [575, 609]}], "container": true}, {"type": "dt", "indent": 0, "text": ["CWP"], "extent": [609, 614], "body": [{"type": "para", "indent": 4, "text": ["Composite Project white point"], "extent": [614, 648]}], "container": true}], "container": true}], "text": "Locals"}, {"level": 1, "id": "related", "container": true, "type": "related_section", "indent": 0, "role": "section", "extent": [5300, 5309], "body": [{"type": "bullet_group", "body": [{"blevel": 6, "type": "bullet", "indent": 4, "text": [{"scheme": "Node", "value": "/nodes/cop2/composite", "type": "link", "text": "", "fullpath": "/nodes/cop2/composite"}], "extent": [5309, 5337]}, {"blevel": 6, "type": "bullet", "indent": 4, "text": [{"scheme": "Node", "value": "/nodes/cop2/add", "type": "link", "text": "", "fullpath": "/nodes/cop2/add"}], "extent": [5337, 5359]}, {"blevel": 6, "type": "bullet", "indent": 4, "text": [{"scheme": "Node", "value": "/nodes/cop2/atop", "type": "link", "text": "", "fullpath": "/nodes/cop2/atop"}], "extent": [5359, 5382]}, {"blevel": 6, "type": "bullet", "indent": 4, "text": [{"scheme": "Node", "value": "/nodes/cop2/average", "type": "link", "text": "", "fullpath": "/nodes/cop2/average"}], "extent": [5382, 5408]}, {"blevel": 6, "type": "bullet", "indent": 4, "text": [{"scheme": "Node", "value": "/nodes/cop2/diff", "type": "link", "text": "", "fullpath": "/nodes/cop2/diff"}], "extent": [5408, 5431]}, {"blevel": 6, "type": "bullet", "indent": 4, "text": [{"scheme": "Node", "value": "/nodes/cop2/inside", "type": "link", "text": "", "fullpath": "/nodes/cop2/inside"}], "extent": [5431, 5456]}, {"blevel": 6, "type": "bullet", "indent": 4, "text": [{"scheme": "Node", "value": "/nodes/cop2/max", "type": "link", "text": "", "fullpath": "/nodes/cop2/max"}], "extent": [5456, 5478]}, {"blevel": 6, "type": "bullet", "indent": 4, "text": [{"scheme": "Node", "value": "/nodes/cop2/min", "type": "link", "text": "", "fullpath": "/nodes/cop2/min"}], "extent": [5478, 5500]}, {"blevel": 6, "type": "bullet", "indent": 4, "text": [{"scheme": "Node", "value": "/nodes/cop2/over", "type": "link", "text": "", "fullpath": "/nodes/cop2/over"}], "extent": [5500, 5523]}, {"blevel": 6, "type": "bullet", "indent": 4, "text": [{"scheme": "Node", "value": "/nodes/cop2/screen", "type": "link", "text": "", "fullpath": "/nodes/cop2/screen"}], "extent": [5523, 5548]}, {"blevel": 6, "type": "bullet", "indent": 4, "text": [{"scheme": "Node", "value": "/nodes/cop2/subtract", "type": "link", "text": "", "fullpath": "/nodes/cop2/subtract"}], "extent": [5548, 5575]}, {"blevel": 6, "type": "bullet", "indent": 4, "text": [{"scheme": "Node", "value": "/nodes/cop2/under", "type": "link", "text": "", "fullpath": "/nodes/cop2/under"}], "extent": [5575, 5599]}, {"blevel": 6, "type": "bullet", "indent": 4, "text": [{"scheme": "Node", "value": "/nodes/cop2/xor", "type": "link", "text": "", "fullpath": "/nodes/cop2/xor"}], "extent": [5599, 5622]}], "container": true}], "text": "Related"}], "title": ["Layer"], "summary": ["Layers a series of inputs together by compositing them one by one on\nthe background image (input 1)."], "included": ["/nodes/cop2/coplocalvars"]}