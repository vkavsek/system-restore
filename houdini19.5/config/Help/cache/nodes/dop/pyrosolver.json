{"type": "root", "attrs": {"type": "node", "context": "dop", "internal": "pyrosolver::2.0", "icon": "DOP/pyrosolver", "tags": "pyro", "version": "2.0", "since": "12.0", "namespace": null}, "body": [{"level": 0, "type": "title", "indent": 0, "text": ["Pyro Solver"], "extent": [115, 131]}, {"type": "summary", "indent": 0, "text": ["Sets and configures a Pyro solver. This solver can be used to create both fire and smoke."], "extent": [131, 229]}, {"type": "para", "indent": 0, "text": ["The Pyro solver is an extension of the ", {"scheme": "Node", "value": "/nodes/dop/smokesolver", "type": "link", "text": ["Smoke Solver"], "fullpath": "/nodes/dop/smokesolver"}, ". If you just want to generate smoke without combustion (flames), you might consider using the Smoke Solver since it\u2019s a little simpler, however the Pyro solver is more flexible."], "extent": [229, 483]}, {"type": "para", "indent": 0, "text": ["See [how to use the ", {"scheme": null, "value": "/pyro/pyro", "type": "link", "text": ["Pyro tools"], "fullpath": "/pyro/pyro"}, " for information on creating simulations using the shelf tools. See ", {"scheme": null, "value": "/pyro/pyro_look", "type": "link", "text": ["Pyro look development"], "fullpath": "/pyro/pyro_look"}, " for information on using the parameters to achieve different flame and smoke looks."], "extent": [483, 719]}, {"level": 2, "id": "setup", "container": true, "type": "h", "indent": 0, "text": ["Setting up"], "extent": [849, 874], "body": [{"type": "para", "indent": 0, "text": ["If you ", {"scheme": null, "value": "/pyro/pyro", "type": "link", "text": ["use the shelf tools"], "fullpath": "/pyro/pyro"}, " to create Pyro effects, they will set up the sourcing, solver, and output object for you automatically."], "extent": [874, 1020]}, {"type": "para", "indent": 0, "text": ["If you are setting up a pyro network from scratch, you can use the ", {"scheme": "Node", "value": "/nodes/dop/smokeobject", "type": "link", "text": ["Smoke Object node"], "fullpath": "/nodes/dop/smokeobject"}, " to create a DOP object with the data required by the Pyro solver already attached. If you already have a DOP object, you can use the ", {"scheme": "Node", "value": "/nodes/dop/smokeconfigureobject", "type": "link", "text": ["Smoke Configure Object node"], "fullpath": "/nodes/dop/smokeconfigureobject"}, " to add the necessary data to it."], "extent": [1020, 1355]}, {"type": "para", "indent": 0, "text": ["This solver makes use of various field subdata on the object."], "extent": [1355, 1418]}, {"type": "bullet_group", "body": [{"blevel": 2, "type": "bullet", "indent": 0, "text": ["The object should have a scalar field ", {"type": "code", "text": ["density"]}, " for the density of the smoke."], "extent": [1418, 1499]}, {"blevel": 2, "type": "bullet", "indent": 0, "text": ["The object should have a vector field ", {"type": "code", "text": ["vel"]}, " for the velocity at each voxel."], "extent": [1499, 1578]}, {"blevel": 2, "type": "bullet", "indent": 0, "text": ["Optionally, the object can have a scalar field ", {"type": "code", "text": ["temperature"]}, " for internal buoyancy calculations."], "extent": [1578, 1678]}], "container": true}]}, {"level": 1, "id": "inputs", "container": true, "type": "inputs_section", "indent": 0, "role": "section", "extent": [748, 756], "body": [{"type": "dt_group", "body": [{"type": "dt", "indent": 0, "text": ["Object"], "extent": [1686, 1695], "body": [{"type": "para", "indent": 4, "text": ["A ", {"scheme": "Node", "value": "/nodes/dop/smokeobject", "type": "link", "text": ["Smoke object"], "fullpath": "/nodes/dop/smokeobject"}, " to work on. Note that a smoke\n    object can contain multiple containers."], "extent": [1722, 1839]}], "container": true, "attrs": {"id": "object_input"}}, {"type": "dt", "indent": 0, "text": ["Pre-solve"], "extent": [1839, 1850], "body": [{"type": "para", "indent": 4, "text": ["Run the network branch attached to this input before each solving\n    step. In the standard ", {"scheme": null, "value": "/pyro/pyro", "type": "link", "text": ["pyro setup"], "fullpath": "/pyro/pyro"}, ", the attached node (", {"scheme": "Node", "value": "/nodes/dop/gasresizefluiddynamic", "type": "link", "text": ["Gas Resize Fluid Dynamic"], "fullpath": "/nodes/dop/gasresizefluiddynamic"}, ") automatically resizes the fluid containers at each step."], "extent": [1879, 2136]}], "container": true, "attrs": {"id": "presolve_input"}}, {"type": "dt", "indent": 0, "text": ["Velocity update"], "extent": [2136, 2153], "body": [{"type": "para", "indent": 4, "text": ["Nodes attached to this input can edit the simulation network\u2019s velocity fields, for example to apply custom forces, ", {"type": "em", "text": ["before"]}, " the ", {"type": "q", "text": ["project gas non-divergent"]}, " step (see also the ", {"type": "q", "text": ["Sourcing (post-solve)"]}, " input below)."], "extent": [2183, 2402]}], "container": true, "attrs": {"id": "velupdate_input"}}, {"type": "dt", "indent": 0, "text": ["Advection"], "extent": [2402, 2413], "body": [{"type": "para", "indent": 4, "text": ["Connect a ", {"scheme": "Node", "value": "/nodes/dop/gasadvect", "type": "link", "text": ["Gas Advect node"], "fullpath": "/nodes/dop/gasadvect"}, " to this input to allow the it to advect the points of geometry data attached to the container based on the fields in this solver."], "extent": [2443, 2630]}], "container": true, "attrs": {"id": "advection_input"}}, {"type": "dt", "indent": 0, "text": ["Sourcing (post-solve)"], "extent": [2630, 2653], "body": [{"type": "para", "indent": 4, "text": ["The main use for this input is to add volumes attached to this input as fuel sources, density sources, sinks, collision fields, pumps, etc. This will usually be done by a ", {"scheme": "Node", "value": "/nodes/dop/volumesource", "type": "link", "text": ["Volume Source node"], "fullpath": "/nodes/dop/volumesource"}, " that imports volumes from a geometry network. See ", {"scheme": null, "value": "/dyno/fluid_sourcing", "type": "link", "text": ["pyro sourcing"], "fullpath": "/dyno/fluid_sourcing"}, " for more information."], "extent": [2682, 3014]}, {"type": "para", "indent": 4, "text": ["Nodes attached to this input can also edit the simulation network\u2019s velocity fields, for example to apply custom forces, ", {"type": "em", "text": ["after"]}, " the ", {"type": "q", "text": ["project gas non-divergent"]}, " step."], "extent": [3014, 3186]}], "container": true, "attrs": {"id": "sourcing_input"}}], "container": true}], "text": "Inputs"}, {"level": 1, "id": "parameters", "container": true, "type": "parameters_section", "indent": 0, "role": "section", "extent": [943, 955], "body": [{"level": 2, "id": null, "container": true, "type": "h", "indent": 0, "text": ["Simulation"], "extent": [955, 973], "body": [{"type": "para", "indent": 0, "text": ["These parameters control how the simulation develops over time. See ", {"scheme": null, "value": "/pyro/pyro", "type": "link", "text": ["how pyro simulations work"], "fullpath": "/pyro/pyro"}, " for information on how the temperature and velocity fields drive the simulation to a great extent."], "extent": [973, 1181]}, {"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 0, "text": ["Time Scale"], "extent": [1181, 1193], "body": [{"type": "para", "indent": 4, "text": ["A scaling factor for time inside this solver. ", {"type": "code", "text": ["1"]}, " is normal speed, greater than ", {"type": "code", "text": ["1"]}, " makes the pyro sim appear sped up, less than ", {"type": "code", "text": ["1"]}, " makes the pyro sim appear to be in slow motion."], "extent": [1213, 1399]}, {"type": "para", "indent": 4, "text": ["You can use expression functions such as ", {"scheme": "Exp", "value": "/expressions/doptime", "type": "link", "text": "", "fallback_text": "doptime()", "fullpath": "/expressions/doptime"}, ", ", {"scheme": "Exp", "value": "/expressions/dopframe", "type": "link", "text": "", "fallback_text": "dopframe()", "fullpath": "/expressions/dopframe"}, ",", {"scheme": "Exp", "value": "/expressions/dopsttot", "type": "link", "text": "", "fallback_text": "dopsttot()", "fullpath": "/expressions/dopsttot"}, ", and ", {"scheme": "Exp", "value": "/expressions/dopttost", "type": "link", "text": "", "fallback_text": "dopttost()", "fullpath": "/expressions/dopttost"}, " to convert between global times and simulation times."], "extent": [1399, 1564]}, {"type": "note_group", "body": [{"type": "note", "indent": 4, "role": "item", "extent": [1564, 1574], "body": [{"type": "para", "indent": 8, "text": ["Changing the ", {"type": "ui", "text": ["Time Scale"]}, " only affects the timestep of the simulation. If adding velocities calculated in SOPs to the simulation for collisions or pumps with the ", {"scheme": "Node", "value": "/nodes/dop/volumesource", "type": "link", "text": ["Volume Source DOP"], "fullpath": "/nodes/dop/volumesource"}, ", scale the incoming velocities by ", {"type": "code", "text": ["1 / timescale"]}, " to match the timestep of the simulation."], "extent": [1574, 1888]}], "container": true}], "container": true, "role": "item_group"}], "container": true, "attrs": {"id": "timescale"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Temperature Diffusion"], "extent": [1888, 1911], "body": [{"type": "para", "indent": 4, "text": ["A Gaussian blur factor on the temperature field. Higher values spread the temperature out more and create a less sharply defined effect and more cooling. For example, a value of ", {"type": "code", "text": ["2 "]}, "will blur the temperature field by a radius of 2 every second."], "extent": [1911, 2165]}, {"type": "para", "indent": 4, "text": ["(The real-world motivation for this parameter is to simulate turbulence at a finer scale than the sim\u2019s resolution, which spreads the field out.)"], "extent": [2165, 2316]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Cooling Rate"], "extent": [2316, 2330], "body": [{"type": "para", "indent": 4, "text": ["How fast the temperature field cools to zero. A value of 0.9 will decrease\n    the temperature of hot gas by 90% (to 10% of its original value) every\n    second."], "extent": [2330, 2501]}, {"type": "warning_group", "body": [{"type": "warning", "indent": 4, "role": "item", "extent": [2501, 2514], "body": [{"type": "para", "indent": 8, "text": ["This is the inverse of the ", {"type": "ui", "text": ["Cooling Rate"]}, " parameter in Houdini 11 and lower versions."], "extent": [2514, 2611]}], "container": true}], "container": true, "role": "item_group"}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Viscosity"], "extent": [2611, 2622], "body": [{"type": "para", "indent": 4, "text": ["The ", {"type": "q", "text": ["fluid-ness"]}, " of the velocity field. Higher values make neighboring voxels have the same velocity, creating a more flowing look. A value of ", {"type": "code", "text": ["0"]}, " allows adjacent voxels to move any direction without resistance, creating a more chaotic, turbulent look."], "extent": [2622, 2884]}, {"type": "para", "indent": 4, "text": ["(Inside the solver, higher viscosity values introduce a penalty when a voxel\u2019s velocity varies from that of its neighbors. This is currently implemented by applying a diffusive term to the velocity field.)"], "extent": [2884, 3095]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Buoyancy Lift"], "extent": [3095, 3110], "body": [{"type": "para", "indent": 4, "text": ["An upward force at each voxel scaled by the difference between the ambient temperature and voxel\u2019s temperature, so hotter areas will get more lift and cooler areas will sink. Increasing this makes the effect rise faster and go higher."], "extent": [3110, 3350]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Buoyancy Dir"], "extent": [3350, 3364], "body": [{"type": "para", "indent": 4, "text": ["The direction in which buoyancy is applied.  This is usually the Up direction of your simulation, but often can be altered to quickly tweak the look of a sim."], "extent": [3364, 3532]}], "container": true, "role": "item"}], "container": true, "role": "item_group"}]}, {"level": 2, "id": null, "container": true, "type": "h", "indent": 0, "text": ["Combustion"], "extent": [3532, 3549], "body": [{"type": "para", "indent": 0, "text": ["The combustion model takes the fuel field and turns it into burn, temperature, and density (smoke)."], "extent": [3549, 3651]}, {"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 0, "text": ["Enable Combustion"], "extent": [3651, 3670], "body": [{"type": "para", "indent": 4, "text": ["Enables the combustion model for the Pyro Solver. If this is off, the fuel field and everything else related to burning is ignored."], "extent": [3670, 3807]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Ignition Temperature"], "extent": [1360, 1383], "body": [{"type": "para", "indent": 4, "text": ["The combustion model will only occur if the temperature\n    field is above this value.  If you want all fuel to\n    instantly ignite, use a negative value."], "extent": [1410, 1571]}], "container": true, "attrs": {"id": "ignitiontemp"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Burn Rate"], "extent": [1571, 1582], "body": [{"type": "para", "indent": 4, "text": ["The amount of fuel to burn per second.  This is a\n    ratio: 0.9 means after one second 90% will be burned."], "extent": [1605, 1718]}], "container": true, "attrs": {"id": "burnrate"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Fuel Inefficiency"], "extent": [1718, 1737], "body": [{"type": "para", "indent": 4, "text": ["Controls how much of the burned fuel is actually not burned,\n    but kept.  0 means all burned fuel is removed from the fuel\n    field.  1 means that no fuel is removed from the fuel field\n    when it is burnt."], "extent": [1763, 1979]}], "container": true, "attrs": {"id": "fuelinefficiency"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Temperature Output"], "extent": [1979, 1999], "body": [{"type": "para", "indent": 4, "text": ["The amount to increase the temperature field by for every\n    unit of fuel consumed."], "extent": [2024, 2114]}, {"type": "para", "indent": 4, "text": ["This is affected by both the heat and burn fields, as per the influence\n    parameters."], "extent": [2114, 2207]}], "container": true, "attrs": {"id": "heatoutput"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Gas Released"], "extent": [2207, 2221], "body": [{"type": "para", "indent": 4, "text": ["A scale factor controlling how much gas is injected into\n    locations where fuel is burnt.  This causes burning areas\n    to blow outwards."], "extent": [2246, 2392]}, {"type": "para", "indent": 4, "text": ["The gas release is scaled by both the heat and burn fields\n    according to the influence parameters."], "extent": [2392, 2499]}], "container": true, "attrs": {"id": "gasrelease"}, "role": "item"}], "container": true, "role": "item_group"}, {"level": 3, "id": null, "container": true, "type": "h", "indent": 0, "text": ["Flames"], "extent": [3989, 4004], "body": [{"type": "para", "indent": 0, "text": ["Options controlling the flames (heat)."], "extent": [4004, 4045]}, {"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 0, "text": ["Flame Height"], "extent": [4045, 4059], "body": [{"type": "para", "indent": 4, "text": ["Scaling factor for flames. Higher values give taller flames, lower values give smaller flames. This value is not measured in any unit (it is not the height of the flames in Houdini units), it simply affects the amount of cooling applied to the flames."], "extent": [4059, 4320]}, {"type": "para", "indent": 4, "text": ["Very low values will not necessarily result in very small flames, since the cooling factor will often not be enough to counteract a hot temperature field."], "extent": [4320, 4484]}, {"type": "para", "indent": 4, "text": ["The inverse of this value (multiplied by the cooling field, see below) is subtracted from the heat field, so lower values give more cooling and smaller flames."], "extent": [4484, 4653]}, {"type": "para", "indent": 4, "text": ["You can use the cooling field controls below to vary the flame height value based on the value in a field (by default the temperature field). "], "extent": [4653, 4805]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Cooling Field"], "extent": [4805, 4820], "body": [{"type": "para", "indent": 4, "text": ["When enabled, the values in the given field (by default, ", {"type": "code", "text": ["temperature"]}, ") are used to vary the flame\u2019s cooling rate across the container."], "extent": [4820, 4961]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Cooling field range"], "extent": [4961, 4982], "body": [{"type": "para", "indent": 4, "text": ["The range of values in the control field to map onto cooling amounts."], "extent": [4982, 5061]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Remap heat cool field"], "extent": [5061, 5084], "body": [{"type": "para", "indent": 4, "text": ["The ramp\u2019s vertical axis is ", {"type": "em", "text": ["amount of cooling"]}, " and the horizontal axis is the ", {"type": "em", "text": ["value in the control field"]}, ". For example, the default ramp\u2019s shape, which is high on the left and low on the right, applies more cooling where the temperature is low."], "extent": [5084, 5336]}], "container": true, "role": "item"}], "container": true, "role": "item_group"}]}, {"level": 3, "id": null, "container": true, "type": "h", "indent": 0, "text": ["Smoke"], "extent": [5336, 5350], "body": [{"type": "para", "indent": 0, "text": ["Options controlling the emission of smoke/soot (density)."], "extent": [5350, 5410]}, {"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 0, "text": ["Emit Smoke"], "extent": [5410, 5422], "body": [{"type": "para", "indent": 4, "text": ["Enables the emission of smoke/soot from burning objects."], "extent": [5422, 5488]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Create Dense Smoke"], "extent": [5488, 5508], "body": [{"type": "para", "indent": 4, "text": ["Adds smoke to the system without considering how much smoke is already present. This is good for heavy explosions or big plumes of smoke. When this option is off, smoke is only added up to a certain maximum amount in each voxel, giving a lighter, less dense smoke."], "extent": [5508, 5778]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Source"], "extent": [5778, 5786], "body": [{"type": "para", "indent": 4, "text": ["Where the smoke is emitted. The best choice is usually ", {"type": "q", "text": ["Heat"]}, ", which is more realistic and prevents the smoke from obscuring the flames at source."], "extent": [5786, 5938]}, {"type": "dt_group", "body": [{"type": "dt", "indent": 4, "text": ["Burn"], "extent": [5938, 5948], "body": [{"type": "para", "indent": 8, "text": ["Emit smoke at the point of flame ignition (the burn field) and nowhere else."], "extent": [5948, 6042]}], "container": true}, {"type": "dt", "indent": 4, "text": ["Heat"], "extent": [6042, 6052], "body": [{"type": "para", "indent": 8, "text": ["Emit smoke wherever the flames cool to a certain value."], "extent": [6052, 6121]}], "container": true}], "container": true}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Smoke Amount"], "extent": [6121, 6135], "body": [{"type": "para", "indent": 4, "text": ["Scales the amount of smoke to be added. The base smoke value depends on the value in the field set by the ", {"type": "ui", "text": ["Source"]}, " parameter (burn or heat)."], "extent": [6135, 6287]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Heat Cutoff"], "extent": [6287, 6300], "body": [{"type": "para", "indent": 4, "text": ["The value of the heat field at which smoke is emitted. This option is only available when ", {"type": "ui", "text": ["Source"]}, " is ", {"type": "q", "text": ["Heat"]}, ". For example, if ", {"type": "ui", "text": ["Heat cutoff"]}, " is ", {"type": "code", "text": ["0.2"]}, ", smoke appears where the heat field is ", {"type": "code", "text": ["0.2"]}, " or cooler. The ", {"type": "ui", "text": ["Blend amount"]}, " parameter controls what happens above the heat cutoff point."], "extent": [6300, 6596]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Blend Amount"], "extent": [6596, 6610], "body": [{"type": "para", "indent": 4, "text": ["Increasing this parameter gives a smoother fire-to-smoke transition by adding a falloff above the ", {"type": "ui", "text": ["Heat Cutoff"]}, " value. This option is only available when ", {"type": "ui", "text": ["Source"]}, " is ", {"type": "q", "text": ["Heat"]}, "."], "extent": [6610, 6797]}, {"type": "para", "indent": 4, "text": ["The value controls the blend between the full amount of smoke being added at and below the ", {"type": "ui", "text": ["Heat cutoff"]}, ", and no smoke being added at the highest heat (", {"type": "code", "text": ["1.0"]}, "). A value of ", {"type": "code", "text": ["0"]}, " adds no smoke above the heat cutoff. A value of ", {"type": "code", "text": ["1"]}, " blends from adding full smoke at the cutoff point, through decreasing amounts of smoke at higher heat values, up to the highest heat. "], "extent": [6797, 7170]}, {"type": "para", "indent": 4, "text": [{"scheme": "Image", "value": "/images/nodes/pyro_smoke_blend_amount.png", "type": "link", "text": "", "fullpath": "/images/nodes/pyro_smoke_blend_amount.png"}], "extent": [7170, 7225]}], "container": true, "role": "item"}], "container": true, "role": "item_group"}]}, {"level": 3, "id": null, "container": true, "type": "h", "indent": 0, "text": ["Fuel"], "extent": [7225, 7238], "body": [{"type": "para", "indent": 0, "text": ["Options controlling the influence of fuel."], "extent": [7238, 7283]}, {"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 0, "text": ["Advect Fuel"], "extent": [7283, 7296], "body": [{"type": "para", "indent": 4, "text": ["When this option is off (the default), fuel is stationary and is not affected by the velocity field. When this option is on, the fuel field as advected just like temperature, heat, and density. Turning this option on makes results more unpredictable and is also slower to calculate."], "extent": [7296, 7584]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Fuel Speed"], "extent": [7584, 7596], "body": [{"type": "para", "indent": 4, "text": ["The maximum speed at which fuel can move by advection."], "extent": [7596, 7656]}], "container": true, "role": "item"}], "container": true, "role": "item_group"}]}]}, {"level": 2, "id": "shapetab", "container": true, "type": "h", "indent": 0, "text": ["Shape"], "extent": [7656, 7679], "body": [{"type": "para", "indent": 4, "text": ["The parameters on this tab control the shape and development of the flame/smoke. All except dissipation affect the velocity field as internal forces."], "extent": [7679, 7835]}, {"type": "para", "indent": 4, "text": ["Remember that the resolution of the ", {"scheme": "Node", "value": "/nodes/dop/smokeobject", "type": "link", "text": ["Smoke object"], "fullpath": "/nodes/dop/smokeobject"}, " determines how much detail you can get in the fire/smoke. However, the pyro solver is largely resolution independent, so you can often work in low resolution and then bump up the resolution with similar, more detailed results."], "extent": [7835, 8139]}, {"type": "para", "indent": 4, "text": ["Houdini includes two different ways to add turbulent noise to fire: ", {"type": "em", "text": ["shredding"]}, " and ", {"type": "em", "text": ["turbulence"]}, "."], "extent": [8139, 8242]}, {"type": "bullet_group", "body": [{"blevel": 6, "type": "bullet", "indent": 4, "text": ["Shredding is the main way to add ", {"type": "q", "text": ["high frequency"]}, " noise to flames. It squashes and stretches the velocity field to create the licks and flows typical of fire."], "extent": [8242, 8408]}, {"blevel": 6, "type": "bullet", "indent": 4, "text": ["You should use the turbulence to add ", {"type": "q", "text": ["low frequency"]}, " noise: rolling, churning, large-scale motion. "], "extent": [8408, 8515]}], "container": true}, {"type": "para", "indent": 4, "text": ["For each shaping parameter, there is a checkbox to turn the shaping type on, and a scaling factor to control how much of the shaping type to apply, and below those parameters are tabs containing control and visualization parameters for each shaping type."], "extent": [8515, 8775]}, {"type": "para", "indent": 4, "text": ["Expert users: The Pyro solver is implemented using the ", {"scheme": "Node", "value": "/nodes/dop/smokesolver", "type": "link", "text": ["Smoke solver"], "fullpath": "/nodes/dop/smokesolver"}, " with additional subsolvers to provide ", {"scheme": "Node", "value": "/nodes/dop/gaslocalsharpen", "type": "link", "text": ["Gas Sharpening"], "fullpath": "/nodes/dop/gaslocalsharpen"}, ", ", {"scheme": "Node", "value": "/nodes/dop/gasvortexconfinement", "type": "link", "text": ["Confinement"], "fullpath": "/nodes/dop/gasvortexconfinement"}, ", ", {"scheme": "Node", "value": "/nodes/dop/gasshred", "type": "link", "text": ["Shredding"], "fullpath": "/nodes/dop/gasshred"}, ", ", {"scheme": "Node", "value": "/nodes/dop/gasturbulence", "type": "link", "text": ["Turbulence"], "fullpath": "/nodes/dop/gasturbulence"}, ", ", {"scheme": "Node", "value": "/nodes/dop/gasdissipate", "type": "link", "text": ["Dissipation"], "fullpath": "/nodes/dop/gasdissipate"}, ", and ", {"scheme": "Node", "value": "/nodes/dop/gasdisturb", "type": "link", "text": ["Disturbance"], "fullpath": "/nodes/dop/gasdisturb"}, "."], "extent": [8775, 9141]}, {"type": "note_group", "body": [{"type": "note", "indent": 4, "role": "item", "extent": [9141, 9151], "body": [{"type": "para", "indent": 8, "text": ["You can attach additional velocity field updating DOPs such as ", {"scheme": "Node", "value": "/nodes/dop/gasvortexequalizer", "type": "link", "text": ["Vortex Equalizer"], "fullpath": "/nodes/dop/gasvortexequalizer"}, ", ", {"scheme": "Node", "value": "/nodes/dop/gaswind", "type": "link", "text": ["Gas Wind Dop"], "fullpath": "/nodes/dop/gaswind"}, " and ", {"scheme": "Node", "value": "/nodes/dop/gasdamp", "type": "link", "text": ["Gas Damp Dop"], "fullpath": "/nodes/dop/gasdamp"}, " to the Pyro solver\u2019s second input (", {"type": "q", "text": ["velocity update"]}, ")."], "extent": [9151, 9394]}], "container": true}], "container": true, "role": "item_group"}, {"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 4, "text": ["Dissipation"], "extent": [9394, 9411], "body": [{"type": "para", "indent": 8, "text": ["Causes smoke (density) to disappear over time. Low values cause smoke to disappear slowly, high values cause smoke to disappear quickly."], "extent": [9411, 9565]}, {"type": "para", "indent": 8, "text": ["For example, a value of ", {"type": "code", "text": ["0.1"]}, " means 10% of the smoke will disappear every\n        twenty-fourth of a second. A value of ", {"type": "code", "text": ["1"]}, " will make all smoke disappear\n        immediately."], "extent": [9565, 9757]}, {"type": "para", "indent": 8, "text": ["See the ", {"scheme": null, "value": "#dissipationtab", "type": "link", "text": ["Dissipation tab"], "fullpath": "/nodes/dop/pyrosolver#dissipationtab", "fragment": "#dissipationtab"}, " below."], "extent": [9757, 9823]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Disturbance"], "extent": [9823, 9840], "body": [{"type": "para", "indent": 12, "text": ["Introduces detail of a certain size in the smoke or fire without changing the general motion or shape of the simulation."], "extent": [9840, 9982]}, {"type": "para", "indent": 8, "text": ["See the ", {"scheme": null, "value": "#disturbancetab", "type": "link", "text": ["Disturbance tab"], "fullpath": "/nodes/dop/pyrosolver#disturbancetab", "fragment": "#disturbancetab"}, " below."], "extent": [9982, 10048]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Shredding"], "extent": [10048, 10063], "body": [{"type": "para", "indent": 8, "text": ["Pushes and pulls the velocity field based on gradient of the heat field to create the streaks, separation, and ", {"type": "q", "text": ["licks"]}, " typical of fire."], "extent": [10063, 10216]}, {"type": "para", "indent": 8, "text": ["Very high values tend to give a random, fractal look, while very low values or no shredding gives blobby flames without much character."], "extent": [10216, 10369]}, {"type": "para", "indent": 8, "text": ["Since shredding works on the gradient of the temperature field, lower temperature diffusion results in a more noticeable shred effect. When temperature diffuses more, the gradient becomes less dynamic, resulting in bigger streaks. The higher the grid resolution, the more detailed the gradient becomes."], "extent": [10369, 10689]}, {"type": "para", "indent": 8, "text": ["See the ", {"scheme": null, "value": "#shreddingtab", "type": "link", "text": ["Shredding tab"], "fullpath": "/nodes/dop/pyrosolver#shreddingtab", "fragment": "#shreddingtab"}, " below."], "extent": [10689, 10743]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Sharpening"], "extent": [10743, 10759], "body": [{"type": "para", "indent": 8, "text": ["Sharpens features in the velocity field, making smoke more wispy/streaky rather than soft/fluffy. This can be useful when you're not using much shredding, to increase the definition of the features in the flame, but oversharpening can give artifacts in the volume."], "extent": [10759, 11041]}, {"type": "para", "indent": 8, "text": ["See the ", {"scheme": null, "value": "#sharpeningtab", "type": "link", "text": ["Sharpening tab"], "fullpath": "/nodes/dop/pyrosolver#sharpeningtab", "fragment": "#sharpeningtab"}, " below."], "extent": [11041, 11097]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Turbulence"], "extent": [11097, 11113], "body": [{"type": "para", "indent": 8, "text": ["Adds ", {"type": "q", "text": ["churning"]}, " noise to the velocity field. You should generally use this to add powerful, large-scale/low-frequency noise and rely on shredding for smaller features. This is especially useful when you have a very fast-moving fire and you want to add more character to it."], "extent": [11113, 11404]}, {"type": "para", "indent": 8, "text": ["See the ", {"scheme": null, "value": "#turbtab", "type": "link", "text": ["Turbulence tab"], "fullpath": "/nodes/dop/pyrosolver#turbtab", "fragment": "#turbtab"}, " below."], "extent": [11404, 11454]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Confinement"], "extent": [11454, 11471], "body": [{"type": "para", "indent": 8, "text": ["Boosts swirls (vortices) where they exist, increasing ", {"type": "q", "text": ["curliness"]}, " in the simulation that would otherwise be lost by the grid resolution. Too high values can make the simulation unstable and blow up. Negative values suppress vortices and smooth out the simulation, but it is usually better to just use a lower resolution grid."], "extent": [11471, 11806]}, {"type": "para", "indent": 8, "text": ["(The Pyro solver does not use explicit vorticles, it can detect vortex locations directly in from the velocity field.)"], "extent": [11806, 11942]}, {"type": "para", "indent": 8, "text": ["You can use a ramp to remap the amount of confinement based on the curl amount, for example to apply more confinement to larger vortices."], "extent": [11942, 12097]}, {"type": "para", "indent": 8, "text": ["See the ", {"scheme": null, "value": "#confinementtab", "type": "link", "text": ["Confinement tab"], "fullpath": "/nodes/dop/pyrosolver#confinementtab", "fragment": "#confinementtab"}, " below."], "extent": [12097, 12155]}], "container": true, "role": "item"}], "container": true, "role": "item_group"}, {"level": 3, "id": "dissipationtab", "container": true, "type": "h", "indent": 4, "text": ["Dissipation"], "extent": [12155, 12196], "body": [{"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 4, "text": ["Control field"], "extent": [12196, 12216], "body": [{"type": "para", "indent": 4, "text": ["When enabled, the force exerted is scaled by the content of this field."], "extent": [59, 136]}], "container": true, "attrs": {"id": "dissipation_control_field"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Control range"], "extent": [12317, 12336], "body": [{"type": "para", "indent": 4, "text": ["Map from this range of values in the control field."], "extent": [350, 407]}], "container": true, "attrs": {"id": "dissipation_control_range"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Remap dissipation field"], "extent": [12437, 12466], "body": [{"type": "para", "indent": 8, "text": ["The ramp\u2019s vertical axis is ", {"type": "em", "text": ["amount of dissipation"]}, " and the horizontal axis is the ", {"type": "em", "text": ["value in the control field"]}, ". For example, the default ramp\u2019s shape, which is high on the left and low on the right, makes smoke disappear more quickly where the temperature is low."], "extent": [12512, 12786]}], "container": true, "attrs": {"id": "remap_dissipation_field"}, "role": "item"}], "container": true, "role": "item_group"}]}, {"level": 3, "id": "disturbancetab", "container": true, "type": "h", "indent": 4, "text": ["Disturbance"], "extent": [12786, 12827], "body": [{"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 4, "text": ["Field To Disturb"], "extent": [12827, 12850], "body": [{"type": "para", "indent": 12, "text": ["The field to apply the disturbance forces to."], "extent": [12850, 12917]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Cutoff"], "extent": [12917, 12929], "body": [{"type": "para", "indent": 4, "text": ["Ignore voxels with values higher than this in the ", {"type": "q", "text": ["threshold field"]}, " (density by default, you can change the field on the ", {"type": "ui", "text": ["Bindings"]}, " tab). This lets you only affect the edges of the smoke."], "extent": [1423, 1626]}], "container": true, "attrs": {"id": "dist_density_cutoff"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Use Block Size"], "extent": [13004, 13024], "body": [{"type": "para", "indent": 4, "text": ["When this option is on, use the ", {"type": "ui", "text": ["Block size"]}, " parameter to set the size of disturbance elements in word space units. When this option is off, use ", {"type": "ui", "text": ["Locality"]}, " to control the size of disturbance elements in voxels. Using block sizes avoids issues if you scale the container."], "extent": [1671, 1959]}], "container": true, "attrs": {"id": "dist_override_block_size"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Block Size"], "extent": [13117, 13133], "body": [{"type": "para", "indent": 4, "text": ["Size in world units of the details added. Higher values give larger disturbance elements. Available when ", {"type": "ui", "text": ["Use block size"]}, " is on."], "extent": [1991, 2135]}], "container": true, "attrs": {"id": "dist_block_size"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Locality"], "extent": [13216, 13230], "body": [{"type": "para", "indent": 4, "text": ["Number of voxels are sampled into a certain disturbance value. Higher values give larger disturbance elements. Available when ", {"type": "ui", "text": ["Use block size"]}, " is off."], "extent": [2163, 2329]}], "container": true, "attrs": {"id": "dist_locality"}, "role": "item"}], "container": true, "role": "item_group"}, {"level": 4, "id": null, "container": true, "type": "h", "indent": 4, "text": ["Control settings"], "extent": [13301, 13332], "body": [{"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 0, "text": ["Control Field"], "extent": [16, 31], "body": [{"type": "para", "indent": 4, "text": ["When enabled, the force exerted is scaled by the content of this field."], "extent": [59, 136]}], "container": true, "attrs": {"id": "control_field"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Control Influence"], "extent": [136, 155], "body": [{"type": "para", "indent": 4, "text": ["A scaling factor on the control field\u2019s influence on the effect. A value of ", {"type": "code", "text": ["0"]}, " makes the field have no influence."], "extent": [187, 307]}], "container": true, "attrs": {"id": "control_influence"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Control Range"], "extent": [307, 322], "body": [{"type": "para", "indent": 4, "text": ["Map from this range of values in the control field."], "extent": [350, 407]}], "container": true, "attrs": {"id": "control_range"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Remap Control Field"], "extent": [407, 428], "body": [{"type": "para", "indent": 4, "text": ["Enables or disables the control field ramp."], "extent": [462, 511]}], "container": true, "attrs": {"id": "remap_control_field"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Control Field Ramp"], "extent": [511, 531], "body": [{"type": "para", "indent": 4, "text": ["The ramp\u2019s vertical axis is ", {"type": "em", "text": ["strength of the effect"]}, " and the horizontal axis is the ", {"type": "em", "text": ["value in the control field"]}, "."], "extent": [564, 682]}], "container": true, "attrs": {"id": "control_field_ramp"}, "role": "item"}], "container": true}]}, {"level": 4, "id": null, "container": true, "type": "h", "indent": 4, "text": ["Bindings"], "extent": [13365, 13388], "body": [{"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 4, "text": ["Threshold Field"], "extent": [13388, 13410], "body": [{"type": "para", "indent": 8, "text": ["Voxels with values higher than the value of the ", {"type": "ui", "text": ["Cutoff"]}, " parameter in this field will not be disturbed."], "extent": [13450, 13565]}], "container": true, "attrs": {"id": "dist_thresh_field"}, "role": "item"}], "container": true, "role": "item_group"}]}]}, {"level": 3, "id": "shreddingtab", "container": true, "type": "h", "indent": 4, "text": ["Shredding"], "extent": [13565, 13602], "body": [{"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 4, "text": ["Temperature threshold"], "extent": [13602, 13630], "body": [{"type": "para", "indent": 8, "text": ["At temperatures lower than this value the velocity field will be stretched, at temperatures higher than this the velocity will be squashed. Lower values give more shredding at the edges of the flame, where the temperature is lower."], "extent": [13630, 13871]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Threshold width"], "extent": [13871, 13892], "body": [{"type": "para", "indent": 8, "text": ["The width of an area around the ", {"type": "ui", "text": ["Temperature threshold"]}, " where squash and stretch are blended. Lower values give harsher squash and stretch, higher values give smoother streaks."], "extent": [13892, 14080]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Squash"], "extent": [14080, 14092], "body": [{"type": "para", "indent": 8, "text": ["How much to squash the velocity field when the temperature is above the ", {"type": "ui", "text": ["Temperature threshold"]}, "."], "extent": [14092, 14200]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Stretch"], "extent": [14200, 14213], "body": [{"type": "para", "indent": 8, "text": ["How much to stretch the velocity field when the temperature is below the ", {"type": "ui", "text": ["Temperature threshold"]}, "."], "extent": [14213, 14322]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Clip gradient"], "extent": [14322, 14341], "body": [{"type": "para", "indent": 8, "text": ["Clips the calculated temperature gradient to this maximum value. This is useful when a simulation has very high temperatures (for example, an exploding fireball) to keep the high temperatures from translating into extreme, bizarre shredding."], "extent": [14341, 14592]}], "container": true, "role": "item"}], "container": true, "role": "item_group"}, {"level": 4, "id": null, "container": true, "type": "h", "indent": 4, "text": ["Control settings"], "extent": [14592, 14623], "body": [{"type": "para", "indent": 4, "text": ["The controls on this tab let you vary the amount of shredding across the container based on the values in a field."], "extent": [14623, 14744]}, {"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 0, "text": ["Control Field"], "extent": [16, 31], "body": [{"type": "para", "indent": 4, "text": ["When enabled, the force exerted is scaled by the content of this field."], "extent": [59, 136]}], "container": true, "attrs": {"id": "control_field"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Control Influence"], "extent": [136, 155], "body": [{"type": "para", "indent": 4, "text": ["A scaling factor on the control field\u2019s influence on the effect. A value of ", {"type": "code", "text": ["0"]}, " makes the field have no influence."], "extent": [187, 307]}], "container": true, "attrs": {"id": "control_influence"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Control Range"], "extent": [307, 322], "body": [{"type": "para", "indent": 4, "text": ["Map from this range of values in the control field."], "extent": [350, 407]}], "container": true, "attrs": {"id": "control_range"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Remap Control Field"], "extent": [407, 428], "body": [{"type": "para", "indent": 4, "text": ["Enables or disables the control field ramp."], "extent": [462, 511]}], "container": true, "attrs": {"id": "remap_control_field"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Control Field Ramp"], "extent": [511, 531], "body": [{"type": "para", "indent": 4, "text": ["The ramp\u2019s vertical axis is ", {"type": "em", "text": ["strength of the effect"]}, " and the horizontal axis is the ", {"type": "em", "text": ["value in the control field"]}, "."], "extent": [564, 682]}], "container": true, "attrs": {"id": "control_field_ramp"}, "role": "item"}], "container": true}]}, {"level": 4, "id": null, "container": true, "type": "h", "indent": 4, "text": ["Visualization"], "extent": [14776, 14804], "body": [{"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 4, "text": ["Visualize shredding"], "extent": [14804, 14830], "body": [{"type": "para", "indent": 8, "text": ["Turn this on to see a viewport visualization of the forces applied to the velocity field by this effect."], "extent": [14878, 14992]}, {"type": "para", "indent": 8, "text": ["See the ", {"scheme": "Node", "value": "/nodes/dop/scalarfieldvisualization", "type": "link", "text": ["Scalar Field Visualization"], "fullpath": "/nodes/dop/scalarfieldvisualization"}, " and ", {"scheme": "Node", "value": "/nodes/dop/vectorfieldvisualization", "type": "link", "text": ["Vector Field Visualization"], "fullpath": "/nodes/dop/vectorfieldvisualization"}, " node help for information on the visualization parameters."], "extent": [14992, 15198]}], "container": true, "attrs": {"id": "shred_visualize_shredding"}, "role": "item"}], "container": true, "role": "item_group"}]}, {"level": 4, "id": null, "container": true, "type": "h", "indent": 4, "text": ["Bindings"], "extent": [15198, 15221], "body": [{"type": "para", "indent": 4, "text": ["Do not change the values on this tab unless you really know what you're doing."], "extent": [15221, 15306]}]}]}, {"level": 3, "id": "sharpnesstab", "container": true, "type": "h", "indent": 4, "text": ["Sharpness"], "extent": [15306, 15343], "body": [{"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 4, "text": ["Field name"], "extent": [15343, 15360], "body": [{"type": "para", "indent": 8, "text": ["The name of the field to sharpen (usually ", {"type": "code", "text": ["density"]}, ", which represents smoke)."], "extent": [15360, 15455]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Locality"], "extent": [15455, 15469], "body": [{"type": "para", "indent": 8, "text": ["The number of voxels the solver samples when sharpening. When sharpening, small disconnected blobs of cloud can be ", {"type": "q", "text": ["sharpened away"]}, ". This parameter determines the largest size of blob that can be sharpened away."], "extent": [15469, 15698]}, {"type": "para", "indent": 8, "text": [{"scheme": "Image", "value": "/images/nodes/sharpen_out.png", "type": "link", "text": "", "fullpath": "/images/nodes/sharpen_out.png"}], "extent": [15698, 15745]}], "container": true, "role": "item"}], "container": true, "role": "item_group"}]}, {"level": 3, "id": "turbtab", "container": true, "type": "h", "indent": 4, "text": ["Turbulence"], "extent": [15745, 15778], "body": [{"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 4, "text": ["Swirl size"], "extent": [15778, 15795], "body": [{"type": "para", "indent": 8, "text": ["Sets the rough size of the swirls, in Houdini units."], "extent": [15795, 15857]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Grain"], "extent": [15857, 15868], "body": [{"type": "para", "indent": 8, "text": ["A scale on the noise added to the swirls with the ", {"type": "ui", "text": ["Turbulence"]}, " parameter."], "extent": [15868, 15953]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Pulse length"], "extent": [15953, 15971], "body": [{"type": "para", "indent": 8, "text": ["The frequency of the noise in time."], "extent": [15971, 16016]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Seed"], "extent": [16016, 16026], "body": [{"type": "para", "indent": 8, "text": ["Seeds the random number generator for the noise. Change this number to get different random swirls."], "extent": [16026, 16135]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Influence threshold"], "extent": [16135, 16160], "body": [{"type": "para", "indent": 8, "text": ["Turbulence will not apply to voxels with density lower than this value (you can change the field in the ", {"type": "ui", "text": ["Bindings"]}, " tab). This is largely a performance optimization: the higher you set this value, the faster the turbulence will tend to run because it can skip more voxels."], "extent": [16160, 16443]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Turbulence"], "extent": [16443, 16459], "body": [{"type": "para", "indent": 8, "text": ["The amount of noise to add to the swirls."], "extent": [16459, 16510]}], "container": true, "role": "item"}], "container": true, "role": "item_group"}, {"level": 4, "id": null, "container": true, "type": "h", "indent": 4, "text": ["Control settings"], "extent": [16510, 16541], "body": [{"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 0, "text": ["Control Field"], "extent": [16, 31], "body": [{"type": "para", "indent": 4, "text": ["When enabled, the force exerted is scaled by the content of this field."], "extent": [59, 136]}], "container": true, "attrs": {"id": "control_field"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Control Influence"], "extent": [136, 155], "body": [{"type": "para", "indent": 4, "text": ["A scaling factor on the control field\u2019s influence on the effect. A value of ", {"type": "code", "text": ["0"]}, " makes the field have no influence."], "extent": [187, 307]}], "container": true, "attrs": {"id": "control_influence"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Control Range"], "extent": [307, 322], "body": [{"type": "para", "indent": 4, "text": ["Map from this range of values in the control field."], "extent": [350, 407]}], "container": true, "attrs": {"id": "control_range"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Remap Control Field"], "extent": [407, 428], "body": [{"type": "para", "indent": 4, "text": ["Enables or disables the control field ramp."], "extent": [462, 511]}], "container": true, "attrs": {"id": "remap_control_field"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Control Field Ramp"], "extent": [511, 531], "body": [{"type": "para", "indent": 4, "text": ["The ramp\u2019s vertical axis is ", {"type": "em", "text": ["strength of the effect"]}, " and the horizontal axis is the ", {"type": "em", "text": ["value in the control field"]}, "."], "extent": [564, 682]}], "container": true, "attrs": {"id": "control_field_ramp"}, "role": "item"}], "container": true}]}, {"level": 4, "id": null, "container": true, "type": "h", "indent": 4, "text": ["Visualization"], "extent": [16574, 16602], "body": [{"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 4, "text": ["Visualize turbulence"], "extent": [16602, 16629], "body": [{"type": "para", "indent": 8, "text": ["Turn this on to see a viewport visualization of the forces applied to the velocity field by this effect."], "extent": [14878, 14992]}, {"type": "para", "indent": 8, "text": ["See the ", {"scheme": "Node", "value": "/nodes/dop/scalarfieldvisualization", "type": "link", "text": ["Scalar Field Visualization"], "fullpath": "/nodes/dop/scalarfieldvisualization"}, " and ", {"scheme": "Node", "value": "/nodes/dop/vectorfieldvisualization", "type": "link", "text": ["Vector Field Visualization"], "fullpath": "/nodes/dop/vectorfieldvisualization"}, " node help for information on the visualization parameters."], "extent": [14992, 15198]}], "container": true, "attrs": {"id": "turb_vis_turbulence"}, "role": "item"}], "container": true, "role": "item_group"}]}, {"level": 4, "id": null, "container": true, "type": "h", "indent": 4, "text": ["Bindings"], "extent": [16712, 16735], "body": [{"type": "para", "indent": 4, "text": ["Do not change the values on this tab unless you really know what you're doing."], "extent": [16735, 16820]}]}]}, {"level": 3, "id": "confinementtab", "container": true, "type": "h", "indent": 4, "text": ["Confinement"], "extent": [16820, 16861], "body": [{"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 4, "text": ["Control field"], "extent": [16861, 16881], "body": [{"type": "para", "indent": 8, "text": ["When enabled, the force exerted is scaled by the content of this field. The default control field is ", {"type": "code", "text": ["confinement"]}, ", which holds the calculated curl at each voxel (high curl means small vortices)."], "extent": [16922, 17135]}, {"type": "para", "indent": 8, "text": ["The ", {"type": "code", "text": ["Gas Ramp"]}, " field might also be useful as a control field."], "extent": [17135, 17206]}], "container": true, "attrs": {"id": "conf_control_field"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Control Range"], "extent": [307, 322], "body": [{"type": "para", "indent": 4, "text": ["Map from this range of values in the control field."], "extent": [350, 407]}], "container": true, "attrs": {"id": "control_range"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Control Influence"], "extent": [136, 155], "body": [{"type": "para", "indent": 4, "text": ["A scaling factor on the control field\u2019s influence on the effect. A value of ", {"type": "code", "text": ["0"]}, " makes the field have no influence."], "extent": [187, 307]}], "container": true, "attrs": {"id": "control_influence"}, "role": "item"}], "container": true, "role": "item_group"}, {"level": 4, "id": null, "container": true, "type": "h", "indent": 4, "text": ["Visualization"], "extent": [17302, 17330], "body": [{"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 4, "text": ["Visualize confinement"], "extent": [17330, 17358], "body": [{"type": "para", "indent": 8, "text": ["Turn this on to see a viewport visualization of the forces applied to the velocity field by this effect."], "extent": [14878, 14992]}, {"type": "para", "indent": 8, "text": ["See the ", {"scheme": "Node", "value": "/nodes/dop/scalarfieldvisualization", "type": "link", "text": ["Scalar Field Visualization"], "fullpath": "/nodes/dop/scalarfieldvisualization"}, " and ", {"scheme": "Node", "value": "/nodes/dop/vectorfieldvisualization", "type": "link", "text": ["Vector Field Visualization"], "fullpath": "/nodes/dop/vectorfieldvisualization"}, " node help for information on the visualization parameters."], "extent": [14992, 15198]}], "container": true, "attrs": {"id": "conf_visualize_confinement"}, "role": "item"}], "container": true, "role": "item_group"}]}, {"level": 4, "id": null, "container": true, "type": "h", "indent": 4, "text": ["Control field ramp"], "extent": [17448, 17481], "body": [{"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 0, "text": ["Remap Control Field"], "extent": [407, 428], "body": [{"type": "para", "indent": 4, "text": ["Enables or disables the control field ramp."], "extent": [462, 511]}], "container": true, "attrs": {"id": "remap_control_field"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Control field ramp"], "extent": [17518, 17542], "body": [{"type": "para", "indent": 8, "text": ["The ramp\u2019s vertical axis is ", {"type": "em", "text": ["amount of confinement"]}, " and the horizontal axis is the ", {"type": "em", "text": ["value in the control field"]}, ". For example, the default ramp\u2019s shape, which is low on the left side and high on the right side, adds more confinement where the curl is high (that is, where the vortices are small)."], "extent": [17542, 17855]}, {"type": "para", "indent": 8, "text": [{"scheme": "Image", "value": "/images/nodes/vortex_size.png", "type": "link", "text": "", "fullpath": "/images/nodes/vortex_size.png"}], "extent": [17855, 17902]}], "container": true, "role": "item"}], "container": true, "role": "item_group"}]}, {"level": 4, "id": null, "container": true, "type": "h", "indent": 4, "text": ["Bindings"], "extent": [17902, 17925], "body": [{"type": "para", "indent": 4, "text": ["Do not change the values on this tab unless you really know what you're doing."], "extent": [17925, 18010]}]}]}]}, {"level": 2, "id": "colortab", "container": true, "type": "h", "indent": 0, "text": ["Color"], "extent": [5781, 5804], "body": [{"type": "para", "indent": 0, "text": ["The solver is capable of managing the smoke object\u2019s color data. To this end, it takes care of two\nfields: ", {"type": "code", "text": ["Cd"]}, ", which stores the color value that can be used as the ", {"type": "ui", "text": ["Diffuse Field"]}, " for visualization,\nand ", {"type": "code", "text": ["Alpha"]}, ", which contains the amount of color at each point in space. The ", {"type": "code", "text": ["Alpha"]}, " field is important\nfor determining how colors should be mixed. For example, if white and black smoke mix, the resultant\ngray will be lighter if the white component has a higher ", {"type": "code", "text": ["Alpha"]}, " value. The clip below provides a\nvisual comparison: yellow smoke in the right clip is sourced with a larger value of ", {"type": "code", "text": ["Alpha"]}, "."], "extent": [5804, 6404]}, {"type": "video_group", "body": [{"ext": null, "type": "video", "indent": 0, "role": "item", "extent": [6404, 6412], "body": [], "container": true, "attrs": {"src": "/videos/smoke_color_alpha.mp4"}}], "container": true, "role": "item_group"}, {"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 0, "text": ["Dissipation"], "extent": [6453, 6466], "body": [{"type": "para", "indent": 4, "text": ["Causes the amount of color (", {"type": "code", "text": ["Alpha"]}, " field) to reduce over time. Note that this does not directly\n    affect smoke\u2019s color, but makes it easier to mix in new color via sourcing."], "extent": [6511, 6693]}], "container": true, "attrs": {"id": "enable_color_dissipation color_evap"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Blur"], "extent": [6693, 6699], "body": [{"type": "para", "indent": 4, "text": ["Blurs the smoke\u2019s color field by mixing its values in neighborhoods of the given size."], "extent": [6737, 6829]}], "container": true, "attrs": {"id": "enable_color_blur color_blur"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Sharpening"], "extent": [6829, 6841], "body": [{"type": "para", "indent": 4, "text": ["Sharpens the smoke\u2019s color field, effectively discouraging mixing of different colors."], "extent": [6891, 6983]}, {"type": "note_group", "body": [{"type": "note", "indent": 4, "role": "item", "extent": [6983, 6993], "body": [{"type": "para", "indent": 8, "text": ["Large values of the sharpening parameter may introduce visible artifacts. In some cases,\n        the added noise may be reduced by increasing the sharpening ", {"type": "ui", "text": ["Threshold"]}, "."], "extent": [6993, 7174]}], "container": true}], "container": true, "role": "item_group"}], "container": true, "attrs": {"id": "enable_color_sharpening color_sharpening"}, "role": "item"}], "container": true, "role": "item_group"}, {"level": 3, "id": "colordissipationtab", "container": true, "type": "h", "indent": 0, "text": ["Dissipation"], "extent": [7174, 7216], "body": [{"type": "para", "indent": 0, "text": ["When dissipation is enabled, the amount of color in the smoke reduces over time, making it easier to\nsource new color."], "extent": [7216, 7337]}, {"type": "video_group", "body": [{"ext": null, "type": "video", "indent": 0, "role": "item", "extent": [7337, 7345], "body": [], "container": true, "attrs": {"src": "/videos/smoke_color_dissipate.mp4"}}], "container": true, "role": "item_group"}, {"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 0, "text": ["Control Field"], "extent": [7390, 7405], "body": [{"type": "para", "indent": 4, "text": ["When enabled, the amount of dissipation is scaled by the content of this field."], "extent": [7466, 7551]}], "container": true, "attrs": {"id": "use_color_dissipation_field color_dissipation_field"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Control Range"], "extent": [7551, 7566], "body": [{"type": "para", "indent": 4, "text": ["Map from this range of values in the control field."], "extent": [7607, 7664]}], "container": true, "attrs": {"id": "color_dissipation_control_range"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Remap Dissipation Field"], "extent": [7664, 7689], "body": [{"type": "para", "indent": 4, "text": ["The ramp\u2019s vertical axis is amount of dissipation, and the horizontal axis spans ", {"type": "ui", "text": ["Control Range"]}, ".\n    The default ramp, for example, reduces the amount of color faster in areas where temperature is low."], "extent": [7722, 7932]}], "container": true, "attrs": {"id": "color_remap_dissipation"}, "role": "item"}], "container": true, "role": "item_group"}]}, {"level": 3, "id": "colorblurtab", "container": true, "type": "h", "indent": 0, "text": ["Blur"], "extent": [7932, 7960], "body": [{"type": "para", "indent": 0, "text": ["Blur encourages mixing of smoke colors."], "extent": [7960, 8002]}, {"type": "video_group", "body": [{"ext": null, "type": "video", "indent": 0, "role": "item", "extent": [8002, 8010], "body": [], "container": true, "attrs": {"src": "/videos/smoke_color_blur.mp4"}}], "container": true, "role": "item_group"}, {"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 0, "text": ["Radius"], "extent": [8050, 8058], "body": [{"type": "para", "indent": 4, "text": ["Controls how far out the colors will blur per second."], "extent": [8085, 8144]}], "container": true, "attrs": {"id": "color_blur_radius"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Filter"], "extent": [8144, 8152], "body": [{"type": "para", "indent": 4, "text": ["Shape of the blur kernel."], "extent": [8179, 8210]}], "container": true, "attrs": {"id": "color_blur_radius"}, "role": "item"}], "container": true, "role": "item_group"}]}, {"level": 3, "id": "colorsharpnesstab", "container": true, "type": "h", "indent": 0, "text": ["Sharpness"], "extent": [8210, 8248], "body": [{"type": "para", "indent": 0, "text": ["Sharpening fights mixing, helping preserve sharp boundaries between colors."], "extent": [8248, 8326]}, {"type": "video_group", "body": [{"ext": null, "type": "video", "indent": 0, "role": "item", "extent": [8326, 8334], "body": [], "container": true, "attrs": {"src": "/videos/smoke_color_sharpen.mp4"}}], "container": true, "role": "item_group"}, {"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 0, "text": ["Radius"], "extent": [8377, 8385], "body": [{"type": "para", "indent": 4, "text": ["Sharpening boosts the deviation of colors from averaged (blurred) values. This parameter controls\n    the distance to which blurring is performed."], "extent": [8415, 8567]}], "container": true, "attrs": {"id": "color_sharpen_radius"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Threshold"], "extent": [8567, 8578], "body": [{"type": "para", "indent": 4, "text": ["Sharpening boosts the deviation of colors from averaged (blurred) values. If the deviation falls\n    below this threshold at a voxel, no sharpening is done to it. Increasing this value can help reduce\n    the amount of introduced sharpening noise."], "extent": [8611, 8864]}], "container": true, "attrs": {"id": "color_sharpen_threshold"}, "role": "item"}], "container": true, "role": "item_group"}]}]}, {"level": 2, "id": "relationships", "container": true, "type": "h", "indent": 0, "text": ["Relationships"], "extent": [8864, 8900], "body": [{"type": "para", "indent": 0, "text": ["Prior to Houdini 12, the Pyro solver used DOP relationships to associate sources, pumps, sinks, and collision geometry with a fluid container, using the ", {"scheme": "Node", "value": "/nodes/dop/merge", "type": "link", "text": ["Merge DOP"], "fullpath": "/nodes/dop/merge"}, " and/or ", {"scheme": "Node", "value": "/nodes/dop/applyrel", "type": "link", "text": ["Apply relationship DOP"], "fullpath": "/nodes/dop/applyrel"}, " to create the relationship. The preferred method in Houdini 12 and later is to ", {"scheme": null, "value": "/dyno/fluid_sourcing", "type": "link", "text": ["use SOP networks to create sources, pumps, sinks, and collision geometry"], "fullpath": "/dyno/fluid_sourcing"}, " and import them using the ", {"scheme": "Node", "value": "/nodes/dop/sourcevolume", "type": "link", "text": ["Source volume DOP"], "fullpath": "/nodes/dop/sourcevolume"}, "."], "extent": [16, 491]}, {"type": "para", "indent": 0, "text": ["If you want to use the old relationship method to set up sources, sinks, etc., you can enable relationships using the parameters on this tab. By default, relationships are turned off, and the solver ignores relationship data."], "extent": [491, 718]}, {"type": "para", "indent": 0, "text": ["You can use both methods (import SOP geometry and attach it to the solver\u2019s ", {"type": "q", "text": ["sourcing"]}, " input, as well as set up DOP object relationships). When relationships are enabled, the solver will combine the sources, sinks, etc. from both methods."], "extent": [718, 958]}, {"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 0, "text": ["Enable Relationships"], "extent": [958, 980], "body": [{"type": "para", "indent": 4, "text": ["Use object relationship data to add sources, pumps, sinks, and collision geometry to the simulation (in addition to imported data connected to the sourcing input, if any)."], "extent": [980, 1156]}], "container": true, "role": "item"}], "container": true}, {"level": 3, "id": null, "container": true, "type": "h", "indent": 0, "text": ["Sources"], "extent": [8930, 8946], "body": [{"type": "tip_group", "body": [{"type": "tip", "indent": 0, "role": "item", "extent": [8946, 8952], "body": [{"type": "para", "indent": 8, "text": ["When using a source relationship, make sure the source object is emitting temperature. You can set this up on the object\u2019s physical properties tab."], "extent": [8952, 9109]}], "container": true}], "container": true, "role": "item_group"}, {"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 0, "text": ["Enable Source Relationship"], "extent": [9109, 9137], "body": [{"type": "para", "indent": 8, "text": ["Use DOP objects with a ", {"type": "q", "text": ["source"]}, " relationship to the solver."], "extent": [9137, 9214]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Add Source To"], "extent": [9214, 9229], "body": [{"type": "para", "indent": 8, "text": ["The field to add the source to. The default is ", {"type": "code", "text": ["density"]}, ", which will create smoke. To create flame, you could change this to ", {"type": "code", "text": ["fuel"]}, " and set the temperature physical property of the source object."], "extent": [9229, 9442]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Source Merge"], "extent": [9442, 9456], "body": [{"type": "para", "indent": 8, "text": ["How the source object\u2019s volume will be added to the simulation.\n        Scale controls the addition amount."], "extent": [9456, 9581]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Velocity Merge"], "extent": [9581, 9597], "body": [{"type": "para", "indent": 4, "text": ["How the source object\u2019s velocity will affect the\n    container\u2019s velocity field. Scale controls the amount to add.   "], "extent": [9597, 9720]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Temperature Merge"], "extent": [9720, 9739], "body": [{"type": "para", "indent": 4, "text": ["How the source object\u2019s temperature physical\n    parameter will affect the container\u2019s temperature field. Scale controls the amount of temperature to add."], "extent": [9739, 9903]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Velocity Type"], "extent": [9903, 9918], "body": [{"type": "para", "indent": 4, "text": ["How to measure velocity on the source object. If the source geometry does not deform (change shape) over time, use ", {"type": "q", "text": ["Rigid velocity"]}, ". If the source deforms but does not change topology over time, use ", {"type": "q", "text": ["Point velocity"]}, "."], "extent": [9940, 10162]}, {"type": "dt_group", "body": [{"type": "dt", "indent": 4, "text": ["Rigid Velocity"], "extent": [10162, 10182], "body": [{"type": "para", "indent": 8, "text": ["Treat the source object as non-deforming."], "extent": [10182, 10241]}], "container": true}, {"type": "dt", "indent": 4, "text": ["Point Velocity"], "extent": [10241, 10261], "body": [{"type": "para", "indent": 8, "text": ["Use point history to allow deforming geometry. This only\n        works if the topology of the source geometry doesn\u2019t change."], "extent": [10261, 10404]}], "container": true}, {"type": "dt", "indent": 4, "text": ["Volume Velocity"], "extent": [10404, 10425], "body": [{"type": "para", "indent": 8, "text": ["Use the SDF representation of the object. Allows deforming geometry and does not require a fixed topology over time, but cannot detect tangential velocities."], "extent": [10425, 10592]}], "container": true}], "container": true}], "container": true, "attrs": {"id": "veltype"}, "role": "item"}], "container": true, "role": "item_group"}]}, {"level": 3, "id": null, "container": true, "type": "h", "indent": 0, "text": ["Pumps"], "extent": [10592, 10606], "body": [{"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 0, "text": ["Enable Pump Relationship"], "extent": [10606, 10633], "body": [{"type": "para", "indent": 8, "text": ["Use DOP objects with a ", {"type": "q", "text": ["pump"]}, " relationship to the solver."], "extent": [10633, 10708]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Velocity Merge"], "extent": [10708, 10724], "body": [{"type": "para", "indent": 4, "text": ["How the source object\u2019s velocity will affect the\n    container\u2019s velocity field. Scale controls the amount of velocity to add."], "extent": [10724, 10856]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Velocity Type"], "extent": [10856, 10871], "body": [], "container": true, "attrs": {"id": "pumpveltype", "contentfromt": "#veltype"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Temperature Merge"], "extent": [10921, 10940], "body": [{"type": "para", "indent": 4, "text": ["Whether the object\u2019s temperature property affects the temperature field of the container. If you choose ", {"type": "q", "text": ["Set interior"]}, ", the part of the temperature field corresponding to the inside the object will be set to the object\u2019s temperature."], "extent": [10975, 11214]}], "container": true, "attrs": {"id": "pumptemperaturemerge"}, "role": "item"}], "container": true, "role": "item_group"}]}, {"level": 3, "id": null, "container": true, "type": "h", "indent": 0, "text": ["Collisions"], "extent": [11214, 11233], "body": [{"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 0, "text": ["Enable Collide Relationship"], "extent": [11233, 11263], "body": [{"type": "para", "indent": 8, "text": ["Use DOP objects with a ", {"type": "q", "text": ["collision"]}, " relationship to the solver."], "extent": [11263, 11335]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Temperature Merge"], "extent": [11335, 11354], "body": [{"type": "para", "indent": 4, "text": ["Whether the object\u2019s temperature property affects the temperature field of the container. If you choose ", {"type": "q", "text": ["Collision interior"]}, ", the part of the temperature field corresponding to the inside the object will be set to the object\u2019s temperature."], "extent": [11394, 11639]}], "container": true, "attrs": {"id": "collisiontemperaturemerge"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Restrict Mask to Bandwidth"], "extent": [11639, 11667], "body": [{"type": "para", "indent": 4, "text": ["Normally the collision mask SDF is only calculated up to a certain distance from the original collision geometry. Turn this off to compute the full range of the mask if you need it for some special effect, such as having things react before they reach the object."], "extent": [11667, 11940]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Use Point Velocity for Collisions"], "extent": [11940, 11975], "body": [{"type": "para", "indent": 4, "text": ["Turn this on if the collision geometry is deforming (changing shape) over time, but has consistent topology (e.g. number of points). If the topology changes over time, turn on ", {"type": "ui", "text": ["Use volume velocity for collisions"]}, "."], "extent": [11975, 12196]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Use Volume Velocity for Collisions"], "extent": [12196, 12232], "body": [{"type": "para", "indent": 4, "text": ["Turn this on if the collision geometry is deforming (changing shape) and topology (e.g. number of points) over time."], "extent": [12232, 12354]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Collide with Non-SDF"], "extent": [12354, 12376], "body": [{"type": "para", "indent": 4, "text": ["Allows the fluid to collide with objects that don\u2019t have\n    Geometry/SDF, such as other fluids."], "extent": [12376, 12478]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Extrapolate into Collisions"], "extent": [12478, 12507], "body": [{"type": "para", "indent": 4, "text": ["Copies the density and fuel fields into the collision field. This causes the smoke to become ", {"type": "q", "text": ["sticky"]}, " to avoid an air gap between the smoke and the collision field. This also prevents smoke from passing through moving collision fields."], "extent": [12507, 12748]}], "container": true, "role": "item"}], "container": true, "role": "item_group"}]}, {"level": 3, "id": null, "container": true, "type": "h", "indent": 0, "text": ["Sink"], "extent": [12748, 12761], "body": [{"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 0, "text": ["Enable Sink Relationship"], "extent": [12761, 12788], "body": [{"type": "para", "indent": 4, "text": ["Use DOP objects with a ", {"type": "q", "text": ["sink"]}, " relationship to the solver."], "extent": [12788, 12851]}], "container": true, "role": "item"}], "container": true, "role": "item_group"}]}]}, {"level": 2, "id": null, "container": true, "type": "h", "indent": 0, "text": ["Advanced"], "extent": [18079, 18094], "body": [{"type": "para", "indent": 0, "text": ["You should generally not need to change these parameters."], "extent": [18094, 18154]}, {"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 0, "text": ["Use OpenCL"], "extent": [12926, 12938], "body": [{"type": "bullet_group", "body": [{"blevel": 6, "type": "bullet", "indent": 4, "text": ["Caching is enabled by default in DOPs."], "extent": [14731, 14781]}, {"blevel": 6, "type": "bullet", "indent": 4, "text": ["Resizing is enabled by default. Resizing has to go through the CPU to manage the field changes. It can also fragment the GPU memory resulting in out-of-memory errors."], "extent": [14781, 14955]}], "container": true}], "container": true, "attrs": {"id": "opencl"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Min Substeps"], "extent": [14955, 14969], "body": [{"type": "para", "indent": 4, "text": ["Forces the solver to run a minimum number of substeps. Normally the pyro solver works best with no substeps. If you have smoke and unusual forces you may want to increase this parameter for better stability. Increasing this will usually make the simulation much slower."], "extent": [14999, 15274]}], "container": true, "attrs": {"id": "minimumsubsteps"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Max Substeps"], "extent": [15274, 15288], "body": [{"type": "para", "indent": 4, "text": ["Forces the solver to not run more substeps than this maximum. Normally the pyro solver works best with no substeps. If you have smoke and unusual forces you may want to increase this parameter for better stability. Increasing this will usually make the simulation much slower."], "extent": [15311, 15593]}], "container": true, "attrs": {"id": "substeps"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["CFL Condition"], "extent": [15593, 15608], "body": [{"type": "para", "indent": 4, "text": ["When ", {"type": "ui", "text": ["Max Substeps"]}, " is greater than ", {"type": "code", "text": ["1"]}, ", the solver uses this parameter to decide the number of substeps. The ", {"type": "q", "text": ["condition"]}, " is that no substep can allow objects to interpenetrate by more than this many voxels. Higher values allow a substep to move smoke by more voxels, possibly letting it pass through collision objects."], "extent": [15630, 15957]}], "container": true, "attrs": {"id": "cflcond"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Quantize to Max Substeps"], "extent": [15957, 15983], "body": [{"type": "para", "indent": 4, "text": ["Always use substeps that divide up the frame by ", {"type": "ui", "text": ["Max Substeps"]}, ".  For example,\n    if ", {"type": "ui", "text": ["Max Substeps"]}, " is set to 4, but the ", {"type": "ui", "text": ["CFL Condition"]}, " only requires 3 substeps,\n    the solver will take frame steps of 0.25, 0.5, and 0.25.  This option can be useful for\n    re-using input geometry that has been cached to file at increments of 1/", {"type": "ui", "text": ["Max Substeps"]}, "."], "extent": [16006, 16366]}], "container": true, "attrs": {"id": "quantize"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Frames Before Solve"], "extent": [16366, 16387], "body": [{"type": "para", "indent": 4, "text": ["Delays the actual simulation this many frames after the object creation.\n    Sourcing will still occur in these frames.  This may be needed if\n    some solve nodes can\u2019t be processed before certain initial conditions\n    have been met."], "extent": [16421, 16662]}], "container": true, "attrs": {"id": "frames_before_solve"}, "role": "item"}], "container": true, "role": "item_group"}, {"level": 3, "id": "adv_externaltab", "container": true, "type": "h", "indent": 0, "text": ["External Forces"], "extent": [16662, 16704], "body": [{"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 0, "text": ["Scaled Forces"], "extent": [16704, 16720], "body": [{"type": "para", "indent": 4, "text": ["A list of forces to scale by the value of the ", {"type": "code", "text": ["forcescale"]}, " field at each voxel. The default is all forces except gravity."], "extent": [16720, 16847]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Absolute Forces"], "extent": [16847, 16864], "body": [{"type": "para", "indent": 4, "text": ["A list of forces to apply uniformly to all voxels, ignoring the ", {"type": "code", "text": ["forcescale"]}, " field."], "extent": [16864, 16953]}], "container": true, "role": "item"}], "container": true, "role": "item_group"}]}, {"level": 3, "id": "adv_restfieldtab", "container": true, "type": "h", "indent": 0, "text": ["Rest Field"], "extent": [16953, 16991], "body": [{"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 0, "text": ["Enable Rest"], "extent": [16991, 17005], "body": [{"type": "para", "indent": 4, "text": ["Creates rest fields, which can be used to track the position of the fluid over time. Turn this on to correctly map noise or textures in the volume shader."], "extent": [17005, 17165]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Dual Rest Fields"], "extent": [17165, 17183], "body": [{"type": "para", "indent": 4, "text": ["Creates a ", {"type": "code", "text": ["rest2"]}, " field that is one back from the main ", {"type": "code", "text": ["rest"]}, " field, allowing you to run long simulations without popping."], "extent": [17183, 17315]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Frames Between Solve"], "extent": [17315, 17337], "body": [{"type": "para", "indent": 4, "text": ["Number of frames before resetting the rest field."], "extent": [17337, 17392]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Frame Offset"], "extent": [17392, 17406], "body": [{"type": "para", "indent": 4, "text": ["Which frame the rest field will be reset on. If you are prerolling the simulation, delaying the rest field initialization until after the preroll will usually give a better result."], "extent": [17406, 17596]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Time Scale"], "extent": [17596, 17608], "body": [{"type": "para", "indent": 4, "text": ["How fast the rest field moves in response to the velocity field. A value of ", {"type": "code", "text": ["1"]}, " would make the rest field match the fluid exactly, however that would quickly smear the rest field out in streaks. Values lower than ", {"type": "code", "text": ["1"]}, " move the rest field slower than the actual fluid, decreasing streaking."], "extent": [17632, 17926]}], "container": true, "attrs": {"id": "timescale"}, "role": "item"}], "container": true, "role": "item_group"}]}, {"level": 3, "id": "adv_projectiontab", "container": true, "type": "h", "indent": 0, "text": ["Projection"], "extent": [17926, 17965], "body": [{"type": "para", "indent": 0, "text": ["The ", {"type": "q", "text": ["project non-divergent"]}, " step of the simulation removes the divergence components in the velocity field."], "extent": [17965, 18075]}, {"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 0, "text": ["Projection Method"], "extent": [18075, 18094], "body": [{"type": "para", "indent": 4, "text": ["The project non-divergence algorithm. ", {"type": "q", "text": ["PCG"]}, " has more accurate boundary conditions and avoids computation inside collision objects. Multigrid is significantly faster, especially on large or high resolution containers."], "extent": [18094, 18316]}, {"type": "note_group", "body": [{"type": "note", "indent": 4, "role": "item", "extent": [18316, 18326], "body": [{"type": "para", "indent": 8, "text": ["PCG is only used for face-sampled velocity fields.  If set to center-sampled, a different relaxation method is used.  For center-sampled, multigrid should always be used."], "extent": [18326, 18506]}], "container": true}], "container": true, "role": "item_group"}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Multigrid Iterations"], "extent": [18506, 18528], "body": [{"type": "para", "indent": 4, "text": ["The multigrid project non-divergence method has inaccurate boundary enforcement. You can increase this number to run the enforcement/projection multiple times, making it more accurate. You should not have to set this higher than ", {"type": "code", "text": ["5"]}, "."], "extent": [18528, 18767]}], "container": true, "role": "item"}], "container": true, "role": "item_group"}]}, {"level": 3, "id": "adv_advectiontab", "container": true, "type": "h", "indent": 0, "text": ["Advection"], "extent": [18767, 18804], "body": [{"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 0, "text": ["Advection Type"], "extent": [18804, 18821], "body": [{"type": "para", "indent": 4, "text": ["The algorithm to use for advecting the fields."], "extent": [18821, 18877]}, {"type": "dt_group", "body": [{"type": "dt", "indent": 4, "text": ["Single stage"], "extent": [18877, 18895], "body": [{"type": "para", "indent": 8, "text": ["Equivalent to the ", {"scheme": "Node", "value": "/nodes/dop/gasadvect", "type": "link", "text": ["Gas Advect DOP"], "fullpath": "/nodes/dop/gasadvect"}, ", where each point is back traced through the velocity field once to find the new voxel value."], "extent": [18895, 19052]}], "container": true}, {"type": "dt", "indent": 4, "text": ["BFECC and Modified MacCormack"], "extent": [19052, 19087], "body": [{"type": "para", "indent": 8, "text": ["Run a second basic advection stage, resulting in a sharper fluid that doesn\u2019t disperse as much."], "extent": [19087, 19192]}], "container": true}], "container": true}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Clamp Values"], "extent": [19192, 19206], "body": [{"type": "para", "indent": 4, "text": ["The error correction of the BFECC and Modified MacCormack advection types can move voxel values outside the container, leading to strange effects such as negative density values. This parameter lets you choose a method to avoid this problem. The default is ", {"type": "q", "text": ["Revert"]}, "."], "extent": [19206, 19482]}, {"type": "dt_group", "body": [{"type": "dt", "indent": 4, "text": ["None"], "extent": [19482, 19492], "body": [{"type": "para", "indent": 8, "text": ["Do not attempt to prevent error correction from moving values outside the container."], "extent": [19492, 19594]}], "container": true}, {"type": "dt", "indent": 4, "text": ["Clamp"], "extent": [19594, 19605], "body": [{"type": "para", "indent": 8, "text": ["Restrict each voxel to the range of values possible given its eight original values."], "extent": [19605, 19699]}], "container": true}, {"type": "dt", "indent": 4, "text": ["Revert"], "extent": [19699, 19711], "body": [{"type": "para", "indent": 8, "text": ["If the error-corrected voxel is out of range, return it to the single-stage value."], "extent": [19711, 19811]}], "container": true}], "container": true}, {"type": "para", "indent": 4, "text": ["Reverting can avoid checker artifacts where the error correction breaks down."], "extent": [19811, 19894]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Blend"], "extent": [19894, 19901], "body": [{"type": "para", "indent": 4, "text": ["Apply a smooth blend between non-clamped and clamped values as the advected field\n    approaches the clamping limit. Particularly with the ", {"type": "ui", "text": ["Revert"]}, " option, applying a small\n    amount of ", {"type": "ui", "text": ["Blend"]}, " (e.g. 0.05 - 0.1) can reduce grid artifacts in the advected field\n    at the cost of some additional smoothing of the field."], "extent": [19901, 20230]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Vel Advection Type"], "extent": [20230, 20250], "body": [{"type": "para", "indent": 4, "text": ["The algorithm to use for advecting the velocity field. Higher types in the list will reduce the apparent viscosity of the field, but may add energy or cause chatter."], "extent": [20250, 20421]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Advection Method"], "extent": [20421, 20439], "body": [{"type": "para", "indent": 4, "text": ["Controls particle tracing."], "extent": [20439, 20475]}, {"type": "dt_group", "body": [{"type": "dt", "indent": 4, "text": ["Single step"], "extent": [20475, 20492], "body": [{"type": "para", "indent": 8, "text": ["Takes the velocity at each voxel and makes a single step in\n        that direction for the time step. This is fastest and is\n        independent of the speed of the velocity field, but will start\n        to break up for large time steps."], "extent": [20492, 20747]}], "container": true}, {"type": "dt", "indent": 4, "text": ["Trace"], "extent": [20747, 20758], "body": [{"type": "para", "indent": 8, "text": ["Ensures the backtracking does not move more than a single\n        voxel before its velocity is updated, allowing for larger\n        time steps."], "extent": [20758, 20919]}], "container": true}, {"type": "dt", "indent": 4, "text": ["Trace Midpoint"], "extent": [20919, 20939], "body": [{"type": "para", "indent": 8, "text": ["Like ", {"type": "ui", "text": ["Trace"]}, " but uses second order advection for more accuracy\n        but slower simulation."], "extent": [20939, 21052]}], "container": true}, {"type": "dt", "indent": 4, "text": ["HJWENO"], "extent": [21052, 21064], "body": [{"type": "para", "indent": 8, "text": ["A non-lagrangian integrator, this allows for theoretically more\n        accurate advection of divergent fields.  Unfortunately, if too large\n        substeps are taken, it will explode."], "extent": [21064, 21267]}], "container": true}, {"type": "dt", "indent": 4, "text": ["Upwind"], "extent": [21267, 21279], "body": [{"type": "para", "indent": 8, "text": ["A faster but less accurate non-lagrangian integrator."], "extent": [21279, 21342]}], "container": true}, {"type": "dt", "indent": 4, "text": ["Trace RK3"], "extent": [21342, 21357], "body": [{"type": "para", "indent": 8, "text": ["Like ", {"type": "ui", "text": ["Trace"]}, " but uses third order advection for more accuracy\n        but slower simulation."], "extent": [21357, 21461]}], "container": true}, {"type": "dt", "indent": 4, "text": ["Trace RK4"], "extent": [21461, 21476], "body": [{"type": "para", "indent": 8, "text": ["Like ", {"type": "ui", "text": ["Trace"]}, " but uses fourth order advection for more accuracy\n        but slower simulation."], "extent": [21476, 21581]}], "container": true}], "container": true}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Advection CFL"], "extent": [21581, 21596], "body": [{"type": "para", "indent": 4, "text": ["When tracing the particles, this controls how many voxels the particles can move in a single iterations. Higher values give faster tracing and faster advection, but more errors."], "extent": [21596, 21779]}], "container": true, "role": "item"}], "container": true, "role": "item_group"}]}, {"level": 3, "id": null, "container": true, "type": "h", "indent": 0, "text": ["Time Scale"], "extent": [18521, 18540], "body": [{"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 0, "text": ["Burn Influence"], "extent": [18540, 18557], "body": [{"type": "para", "indent": 4, "text": ["The amount the solver\u2019s ", {"type": "ui", "text": ["Time Scale"]}, " parameter affects the burn model. You should leave this set to ", {"type": "code", "text": ["0"]}, ", since the burn model field calculations don\u2019t scale well and can give unexpected results when changed."], "extent": [18557, 18772]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Heat Influence"], "extent": [18772, 18788], "body": [{"type": "para", "indent": 8, "text": ["The amount the solver\u2019s ", {"type": "ui", "text": ["Time Scale"]}, " parameter affects the flame height. This parameter compensates for the natural flame loss caused when you change the solver\u2019s ", {"type": "ui", "text": ["Time Scale"]}, ". Setting this to ", {"type": "code", "text": ["1"]}, " will correctly scale the flames as ", {"type": "ui", "text": ["Time Scale"]}, " changes, but the flames will be smaller."], "extent": [18788, 19089]}], "container": true, "role": "item"}], "container": true, "role": "item_group"}, {"level": 4, "id": "adv_collisionstab", "container": true, "type": "h", "indent": 0, "text": ["Collisions"], "extent": [21779, 21818], "body": [{"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 0, "text": ["Correct Collisions"], "extent": [21818, 21839], "body": [{"type": "para", "indent": 4, "text": ["Sets the specified fields to ", {"type": "code", "text": ["0"]}, " inside collision objects, which helps prevent leaking through moving objects."], "extent": [21839, 21955]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Fields to Correct"], "extent": [21955, 21974], "body": [{"type": "para", "indent": 4, "text": ["When ", {"type": "ui", "text": ["Correct Collisions"]}, " is enabled, fields in this list will have a correction applied inside collision objects."], "extent": [21974, 22096]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Feedback Scale"], "extent": [22096, 22112], "body": [{"type": "para", "indent": 4, "text": ["A scale factor for applying feedback forces to other objects. Setting this to ", {"type": "code", "text": ["0"]}, " will prevent any feedback."], "extent": [22112, 22230]}], "container": true, "role": "item"}], "container": true, "role": "item_group"}]}, {"level": 4, "id": "adv_cleartab", "container": true, "type": "h", "indent": 0, "text": ["Clear"], "extent": [22230, 22259], "body": [{"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 0, "text": ["Fields to Clear"], "extent": [22259, 22277], "body": [{"type": "para", "indent": 8, "text": ["Zeros out the specified types of fields after the solve step. This ensures the ", {"type": "code", "text": [".sim"]}, " files, which store the complete state of the simulation, do not have extra information, reducing their size and saving time."], "extent": [22277, 22505]}, {"type": "dt_group", "body": [{"type": "dt", "indent": 4, "text": ["None"], "extent": [22505, 22515], "body": [{"type": "para", "indent": 12, "text": ["Do not clear fields."], "extent": [22515, 22553]}], "container": true}, {"type": "dt", "indent": 4, "text": ["Hidden"], "extent": [22553, 22565], "body": [{"type": "para", "indent": 8, "text": ["Clear fields not needed for the next time step that do not have guide parameters."], "extent": [22565, 22660]}], "container": true}, {"type": "dt", "indent": 4, "text": ["Static"], "extent": [22660, 22672], "body": [{"type": "para", "indent": 8, "text": ["Clear fields not needed for next time step. Some of these fields will have guides and the guides will start showing zero values since the underlying field was cleared."], "extent": [22672, 22853]}], "container": true}], "container": true}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Additional"], "extent": [22853, 22865], "body": [{"type": "para", "indent": 8, "text": ["A space separated list of fields to clear after each solve."], "extent": [22865, 22934]}], "container": true, "role": "item"}], "container": true, "role": "item_group"}]}]}]}], "text": "Parameters"}, {"level": 1, "id": "outputs", "container": true, "type": "outputs_section", "indent": 0, "role": "section", "extent": [19166, 19175], "body": [{"type": "dt_group", "body": [{"type": "dt", "indent": 0, "text": ["First Output"], "extent": [15, 29], "body": [{"type": "para", "indent": 4, "text": ["The operation of this output depends on what inputs are connected\n    to this node. If an object stream is input to this node, the output\n    is also an object stream containing the same objects as the input\n    (but with the data from this node attached). "], "extent": [29, 296]}, {"type": "para", "indent": 4, "text": ["If no object stream is\n    connected to this node, the output is a data output. This data\n    output can be connected to an ", {"scheme": "Node", "value": "/nodes/dop/applydata", "type": "link", "text": ["Apply Data DOP"], "fullpath": "/nodes/dop/applydata"}, ",\n    or connected directly to a data input of another data node, to\n    attach the data from this node to an object or another piece of\n    data."], "extent": [296, 606]}], "container": true}], "container": true}], "text": "Outputs"}, {"level": 1, "id": "locals", "container": true, "type": "locals_section", "indent": 0, "role": "section", "extent": [19209, 19217], "body": [{"type": "dt_group", "body": [{"type": "dt", "indent": 0, "text": ["channelname"], "extent": [16, 29], "body": [{"type": "para", "indent": 4, "text": ["This DOP node defines a local variable for each channel and\n    parameter on the Data Options page, with the same name as the\n    channel. So for example, the node may have channels for Position\n    (positionx, positiony, positionz) and a parameter for an object name\n    (objectname). "], "extent": [29, 325]}, {"type": "para", "indent": 4, "text": ["Then there will also be local variables with the names\n    positionx, positiony, positionz, and objectname. These variables\n    will evaluate to the previous value for that parameter. "], "extent": [325, 519]}, {"type": "para", "indent": 4, "text": ["This previous value is always stored as part of the data attached to the\n    object being processed. This is essentially a shortcut for a\n    dopfield expression like:"], "extent": [519, 692]}, {"lang": null, "type": "pre", "indent": 4, "text": ["\n    dopfield($DOPNET, $OBJID, dataName, \"Options\", 0, channelname)\n    "], "extent": [692, 775]}, {"type": "para", "indent": 4, "text": ["If the data does not already exist, then a value of zero or an\n    empty string will be returned."], "extent": [775, 883]}], "container": true}, {"type": "dt", "indent": 0, "text": ["DATACT"], "extent": [883, 891], "body": [{"type": "para", "indent": 4, "text": ["This value is the simulation time (see variable ST) at which the\n    current data was created. This value may not be the same as the\n    current simulation time if this node is modifying existing data,\n    rather than creating new data."], "extent": [891, 1132]}], "container": true}, {"type": "dt", "indent": 0, "text": ["DATACF"], "extent": [1132, 1140], "body": [{"type": "para", "indent": 4, "text": ["This value is the simulation frame (see variable SF) at which the\n    current data was created. This value may not be the same as the\n    current simulation frame if this node is modifying existing data,\n    rather than creating new data."], "extent": [1140, 1383]}], "container": true}, {"type": "dt", "indent": 0, "text": ["RELNAME"], "extent": [1383, 1392], "body": [{"type": "para", "indent": 4, "text": ["This value will be set only when data is being attached to a relationship\n    (such as when Constraint Anchor DOP is connected to the second, third, of\n    fourth inputs of a Constraint DOP). "], "extent": [1392, 1594]}, {"type": "para", "indent": 4, "text": ["In this case, this value is set to the\n    name of the relationship the data to which the data is being attached."], "extent": [1594, 1712]}], "container": true}, {"type": "dt", "indent": 0, "text": ["RELOBJIDS"], "extent": [1712, 1723], "body": [{"type": "para", "indent": 4, "text": ["This value will be set only when data is being attached to a relationship\n    (such as when Constraint Anchor DOP is connected to the second, third, of\n    fourth inputs of a Constraint DOP). "], "extent": [1723, 1925]}, {"type": "para", "indent": 4, "text": ["In this case, this value is set to a\n    string that is a space separated list of the object identifiers for all\n    the Affected Objects of the relationship to which the data is being\n    attached."], "extent": [1925, 2128]}], "container": true}, {"type": "dt", "indent": 0, "text": ["RELOBJNAMES"], "extent": [2128, 2141], "body": [{"type": "para", "indent": 4, "text": ["This value will be set only when data is being attached to a relationship\n    (such as when Constraint Anchor DOP is connected to the second, third, of\n    fourth inputs of a Constraint DOP). "], "extent": [2141, 2343]}, {"type": "para", "indent": 4, "text": ["In this case, this value is set to a\n    string that is a space separated list of the names of all the Affected\n    Objects of the relationship to which the data is being attached."], "extent": [2343, 2528]}], "container": true}, {"type": "dt", "indent": 0, "text": ["RELAFFOBJIDS"], "extent": [2528, 2542], "body": [{"type": "para", "indent": 4, "text": ["This value will be set only when data is being attached to a relationship\n    (such as when Constraint Anchor DOP is connected to the second, third, of\n    fourth inputs of a Constraint DOP). "], "extent": [2542, 2744]}, {"type": "para", "indent": 4, "text": ["In this case, this value is set to a\n    string that is a space separated list of the object identifiers for all\n    the Affector Objects of the relationship to which the data is being\n    attached."], "extent": [2744, 2947]}], "container": true}, {"type": "dt", "indent": 0, "text": ["RELAFFOBJNAMES"], "extent": [2947, 2963], "body": [{"type": "para", "indent": 4, "text": ["This value will be set only when data is being attached to a relationship\n    (such as when Constraint Anchor DOP is connected to the second, third, of\n    fourth inputs of a Constraint DOP). "], "extent": [2963, 3165]}, {"type": "para", "indent": 4, "text": ["In this case, this value is set to a\n    string that is a space separated list of the names of all the Affector\n    Objects of the relationship to which the data is being attached."], "extent": [3165, 3350]}], "container": true}, {"type": "dt", "indent": 0, "text": ["ST"], "extent": [16, 20], "body": [{"type": "para", "indent": 4, "text": ["This value is the simulation time for which the node is being\n    evaluated. "], "extent": [20, 107]}, {"type": "para", "indent": 4, "text": ["This value may not be equal to the current Houdini time\n    represented by the variable T, depending on the settings of the ", {"scheme": "Node", "value": "/nodes/obj/dopnet", "type": "link", "text": ["DOP\n    Network"], "fullpath": "/nodes/obj/dopnet"}, " ", {"type": "ui", "text": ["Offset Time"]}, " and ", {"type": "ui", "text": ["Time Scale"]}, "\n    parameters. "], "extent": [107, 326]}, {"type": "para", "indent": 4, "text": ["This value is guaranteed to have a value of zero at the\n    start of a simulation, so when testing for the first timestep of a\n    simulation, it is best to use a test like ", {"type": "code", "text": ["$ST == 0"]}, " rather than\n    ", {"type": "code", "text": ["$T == 0"]}, " or ", {"type": "code", "text": ["$FF == 1"]}, "."], "extent": [326, 555]}], "container": true}, {"type": "dt", "indent": 0, "text": ["SF"], "extent": [555, 559], "body": [{"type": "para", "indent": 4, "text": ["This value is the simulation frame (or more accurately, the\n    simulation time step number) for which the node is being evaluated."], "extent": [559, 700]}, {"type": "para", "indent": 4, "text": ["This value may not be equal to the current Houdini frame number\n    represented by the variable F, depending on the settings of the ", {"scheme": "Node", "value": "/nodes/obj/dopnet", "type": "link", "text": ["DOP\n    Network"], "fullpath": "/nodes/obj/dopnet"}, " parameters. Instead, this value is equal to\n    the simulation time (ST) divided by the simulation timestep size\n    (TIMESTEP)."], "extent": [700, 999]}], "container": true}, {"type": "dt", "indent": 0, "text": ["TIMESTEP"], "extent": [999, 1009], "body": [{"type": "para", "indent": 4, "text": ["This value is the size of a simulation timestep. This value is\n    useful to scale values that are expressed in units per second, but\n    are applied on each timestep."], "extent": [1009, 1181]}], "container": true}, {"type": "dt", "indent": 0, "text": ["SFPS"], "extent": [1181, 1187], "body": [{"type": "para", "indent": 4, "text": ["This value is the inverse of the TIMESTEP value. It is the number\n    of timesteps per second of simulation time."], "extent": [1187, 1305]}], "container": true}, {"type": "dt", "indent": 0, "text": ["SNOBJ"], "extent": [1305, 1312], "body": [{"type": "para", "indent": 4, "text": ["This is the number of objects in the simulation. For nodes that\n    create objects such as the ", {"scheme": "Node", "value": "/nodes/dop/emptyobject", "type": "link", "text": ["Empty Object"], "fullpath": "/nodes/dop/emptyobject"}, " node,\n    this value will increase for each object that is evaluated. "], "extent": [1312, 1523]}, {"type": "para", "indent": 4, "text": ["A good way to guarantee unique object names is to use an expression\n    like ", {"type": "code", "text": ["object_$SNOBJ"]}, "."], "extent": [1523, 1621]}], "container": true}, {"type": "dt", "indent": 0, "text": ["NOBJ"], "extent": [1621, 1627], "body": [{"type": "para", "indent": 4, "text": ["This value is the number of objects that will be evaluated by the\n    current node during this timestep. This value will often be\n    different from SNOBJ, as many nodes do not process all the objects\n    in a simulation. "], "extent": [1627, 1859]}, {"type": "para", "indent": 4, "text": ["This value may return 0 if the node does not\n    process each object sequentially (such as the ", {"scheme": "Node", "value": "/nodes/dop/group", "type": "link", "text": ["Group\n    DOP"], "fullpath": "/nodes/dop/group"}, ")."], "extent": [1859, 1991]}], "container": true}, {"type": "dt", "indent": 0, "text": ["OBJ"], "extent": [1991, 1996], "body": [{"type": "para", "indent": 4, "text": ["This value is the index of the specific object being processed by\n    the node. This value will always run from zero to NOBJ-1 in a given\n    timestep. This value does not identify the current object within the\n    simulation like OBJID or OBJNAME, just the object\u2019s position in the\n    current order of processing. "], "extent": [1996, 2322]}, {"type": "para", "indent": 4, "text": ["This value is useful for generating a\n    random number for each object, or simply splitting the objects into\n    two or more groups to be processed in different ways. This value\n    will be -1 if the node does not process objects sequentially (such\n    as the ", {"scheme": "Node", "value": "/nodes/dop/group", "type": "link", "text": ["Group DOP"], "fullpath": "/nodes/dop/group"}, ")."], "extent": [2322, 2616]}], "container": true}, {"type": "dt", "indent": 0, "text": ["OBJID"], "extent": [2616, 2623], "body": [{"type": "para", "indent": 4, "text": ["This is the unique object identifier for the object being\n    processed. Every object is assigned an integer value that is unique\n    among all objects in the simulation for all time. Even if an object\n    is deleted, its identifier is never reused. "], "extent": [2623, 2883]}, {"type": "para", "indent": 4, "text": ["The object identifier\n    can always be used to uniquely identify a given object. This makes\n    this variable very useful in situations where each object needs to\n    be treated differently. It can be used to produce a unique random\n    number for each object, for example. "], "extent": [2883, 3168]}, {"type": "para", "indent": 4, "text": ["This value is also the best way\n    to look up information on an object using the dopfield expression\n    function. This value will be -1 if the node does not process objects\n    sequentially (such as the ", {"scheme": "Node", "value": "/nodes/dop/group", "type": "link", "text": ["Group DOP"], "fullpath": "/nodes/dop/group"}, ")."], "extent": [3168, 3406]}], "container": true}, {"type": "dt", "indent": 0, "text": ["ALLOBJIDS"], "extent": [3406, 3417], "body": [{"type": "para", "indent": 4, "text": ["This string contains a space separated list of the unique object\n    identifiers for every object being processed by the current node."], "extent": [3417, 3556]}], "container": true}, {"type": "dt", "indent": 0, "text": ["ALLOBJNAMES"], "extent": [3556, 3569], "body": [{"type": "para", "indent": 4, "text": ["This string contains a space separated list of the names of every\n    object being processed by the current node."], "extent": [3569, 3687]}], "container": true}, {"type": "dt", "indent": 0, "text": ["OBJCT"], "extent": [3687, 3694], "body": [{"type": "para", "indent": 4, "text": ["This value is the simulation time (see variable ST) at which the\n    current object was created. "], "extent": [3694, 3801]}, {"type": "para", "indent": 4, "text": ["Therefore, to check if an object was created\n    on the current timestep, the expression ", {"type": "code", "text": ["$ST == $OBJCT"]}, " should\n    always be used. This value will be zero if the node does not process\n    objects sequentially (such as the ", {"scheme": "Node", "value": "/nodes/dop/group", "type": "link", "text": ["Group DOP"], "fullpath": "/nodes/dop/group"}, ")."], "extent": [3801, 4057]}], "container": true}, {"type": "dt", "indent": 0, "text": ["OBJCF"], "extent": [4057, 4064], "body": [{"type": "para", "indent": 4, "text": ["This value is the simulation frame (see variable SF) at which the\n    current object was created. "], "extent": [4064, 4172]}, {"type": "para", "indent": 4, "text": ["This value is equivalent to using the\n    dopsttoframe expression on the OBJCT variable. This value will be\n    zero if the node does not process objects sequentially (such as the\n    ", {"scheme": "Node", "value": "/nodes/dop/group", "type": "link", "text": ["Group DOP"], "fullpath": "/nodes/dop/group"}, ")."], "extent": [4172, 4389]}], "container": true}, {"type": "dt", "indent": 0, "text": ["OBJNAME"], "extent": [4389, 4398], "body": [{"type": "para", "indent": 4, "text": ["This is a string value containing the name of the object being\n    processed. "], "extent": [4398, 4486]}, {"type": "para", "indent": 4, "text": ["Object names are not guaranteed to be unique within a\n    simulation. However, if you name your objects carefully so that they\n    are unique, the object name can be a much easier way to identify an\n    object than the unique object identifier, OBJID. "], "extent": [4486, 4748]}, {"type": "para", "indent": 4, "text": ["The object name can\n    also be used to treat a number of similar objects (with the same\n    name) as a virtual group. If there are 20 objects named ", {"type": "q", "text": ["myobject"]}, ",\n    specifying ", {"type": "code", "text": ["strcmp($OBJNAME, \"myobject\") == 0"]}, " in the activation field\n    of a DOP will cause that DOP to operate only on those 20 objects. This\n    value will be the empty string if the node does not process objects\n    sequentially (such as the ", {"scheme": "Node", "value": "/nodes/dop/group", "type": "link", "text": ["Group DOP"], "fullpath": "/nodes/dop/group"}, ")."], "extent": [4748, 5194]}], "container": true}, {"type": "dt", "indent": 0, "text": ["DOPNET"], "extent": [5194, 5202], "body": [{"type": "para", "indent": 4, "text": ["This is a string value containing the full path of the current DOP\n    Network. This value is most useful in DOP subnet digital assets\n    where you want to know the path to the DOP Network that contains the\n    node."], "extent": [5202, 5425]}], "container": true}, {"type": "dt", "indent": 0, "text": ["ST"], "extent": [16, 20], "body": [{"type": "para", "indent": 4, "text": ["This value is the simulation time for which the node is being\n    evaluated. "], "extent": [20, 107]}, {"type": "para", "indent": 4, "text": ["This value may not be equal to the current Houdini time\n    represented by the variable T, depending on the settings of the ", {"scheme": "Node", "value": "/nodes/obj/dopnet", "type": "link", "text": ["DOP\n    Network"], "fullpath": "/nodes/obj/dopnet"}, " ", {"type": "ui", "text": ["Offset Time"]}, " and ", {"type": "ui", "text": ["Time Scale"]}, "\n    parameters. "], "extent": [107, 326]}, {"type": "para", "indent": 4, "text": ["This value is guaranteed to have a value of zero at the\n    start of a simulation, so when testing for the first timestep of a\n    simulation, it is best to use a test like ", {"type": "code", "text": ["$ST == 0"]}, " rather than\n    ", {"type": "code", "text": ["$T == 0"]}, " or ", {"type": "code", "text": ["$FF == 1"]}, "."], "extent": [326, 555]}], "container": true}, {"type": "dt", "indent": 0, "text": ["SF"], "extent": [555, 559], "body": [{"type": "para", "indent": 4, "text": ["This value is the simulation frame (or more accurately, the\n    simulation time step number) for which the node is being evaluated."], "extent": [559, 700]}, {"type": "para", "indent": 4, "text": ["This value may not be equal to the current Houdini frame number\n    represented by the variable F, depending on the settings of the ", {"scheme": "Node", "value": "/nodes/obj/dopnet", "type": "link", "text": ["DOP\n    Network"], "fullpath": "/nodes/obj/dopnet"}, " parameters. Instead, this value is equal to\n    the simulation time (ST) divided by the simulation timestep size\n    (TIMESTEP)."], "extent": [700, 999]}], "container": true}, {"type": "dt", "indent": 0, "text": ["TIMESTEP"], "extent": [999, 1009], "body": [{"type": "para", "indent": 4, "text": ["This value is the size of a simulation timestep. This value is\n    useful to scale values that are expressed in units per second, but\n    are applied on each timestep."], "extent": [1009, 1181]}], "container": true}, {"type": "dt", "indent": 0, "text": ["SFPS"], "extent": [1181, 1187], "body": [{"type": "para", "indent": 4, "text": ["This value is the inverse of the TIMESTEP value. It is the number\n    of timesteps per second of simulation time."], "extent": [1187, 1305]}], "container": true}, {"type": "dt", "indent": 0, "text": ["SNOBJ"], "extent": [1305, 1312], "body": [{"type": "para", "indent": 4, "text": ["This is the number of objects in the simulation. For nodes that\n    create objects such as the ", {"scheme": "Node", "value": "/nodes/dop/emptyobject", "type": "link", "text": ["Empty Object"], "fullpath": "/nodes/dop/emptyobject"}, " node,\n    this value will increase for each object that is evaluated. "], "extent": [1312, 1523]}, {"type": "para", "indent": 4, "text": ["A good way to guarantee unique object names is to use an expression\n    like ", {"type": "code", "text": ["object_$SNOBJ"]}, "."], "extent": [1523, 1621]}], "container": true}, {"type": "dt", "indent": 0, "text": ["NOBJ"], "extent": [1621, 1627], "body": [{"type": "para", "indent": 4, "text": ["This value is the number of objects that will be evaluated by the\n    current node during this timestep. This value will often be\n    different from SNOBJ, as many nodes do not process all the objects\n    in a simulation. "], "extent": [1627, 1859]}, {"type": "para", "indent": 4, "text": ["This value may return 0 if the node does not\n    process each object sequentially (such as the ", {"scheme": "Node", "value": "/nodes/dop/group", "type": "link", "text": ["Group\n    DOP"], "fullpath": "/nodes/dop/group"}, ")."], "extent": [1859, 1991]}], "container": true}, {"type": "dt", "indent": 0, "text": ["OBJ"], "extent": [1991, 1996], "body": [{"type": "para", "indent": 4, "text": ["This value is the index of the specific object being processed by\n    the node. This value will always run from zero to NOBJ-1 in a given\n    timestep. This value does not identify the current object within the\n    simulation like OBJID or OBJNAME, just the object\u2019s position in the\n    current order of processing. "], "extent": [1996, 2322]}, {"type": "para", "indent": 4, "text": ["This value is useful for generating a\n    random number for each object, or simply splitting the objects into\n    two or more groups to be processed in different ways. This value\n    will be -1 if the node does not process objects sequentially (such\n    as the ", {"scheme": "Node", "value": "/nodes/dop/group", "type": "link", "text": ["Group DOP"], "fullpath": "/nodes/dop/group"}, ")."], "extent": [2322, 2616]}], "container": true}, {"type": "dt", "indent": 0, "text": ["OBJID"], "extent": [2616, 2623], "body": [{"type": "para", "indent": 4, "text": ["This is the unique object identifier for the object being\n    processed. Every object is assigned an integer value that is unique\n    among all objects in the simulation for all time. Even if an object\n    is deleted, its identifier is never reused. "], "extent": [2623, 2883]}, {"type": "para", "indent": 4, "text": ["The object identifier\n    can always be used to uniquely identify a given object. This makes\n    this variable very useful in situations where each object needs to\n    be treated differently. It can be used to produce a unique random\n    number for each object, for example. "], "extent": [2883, 3168]}, {"type": "para", "indent": 4, "text": ["This value is also the best way\n    to look up information on an object using the dopfield expression\n    function. This value will be -1 if the node does not process objects\n    sequentially (such as the ", {"scheme": "Node", "value": "/nodes/dop/group", "type": "link", "text": ["Group DOP"], "fullpath": "/nodes/dop/group"}, ")."], "extent": [3168, 3406]}], "container": true}, {"type": "dt", "indent": 0, "text": ["ALLOBJIDS"], "extent": [3406, 3417], "body": [{"type": "para", "indent": 4, "text": ["This string contains a space separated list of the unique object\n    identifiers for every object being processed by the current node."], "extent": [3417, 3556]}], "container": true}, {"type": "dt", "indent": 0, "text": ["ALLOBJNAMES"], "extent": [3556, 3569], "body": [{"type": "para", "indent": 4, "text": ["This string contains a space separated list of the names of every\n    object being processed by the current node."], "extent": [3569, 3687]}], "container": true}, {"type": "dt", "indent": 0, "text": ["OBJCT"], "extent": [3687, 3694], "body": [{"type": "para", "indent": 4, "text": ["This value is the simulation time (see variable ST) at which the\n    current object was created. "], "extent": [3694, 3801]}, {"type": "para", "indent": 4, "text": ["Therefore, to check if an object was created\n    on the current timestep, the expression ", {"type": "code", "text": ["$ST == $OBJCT"]}, " should\n    always be used. This value will be zero if the node does not process\n    objects sequentially (such as the ", {"scheme": "Node", "value": "/nodes/dop/group", "type": "link", "text": ["Group DOP"], "fullpath": "/nodes/dop/group"}, ")."], "extent": [3801, 4057]}], "container": true}, {"type": "dt", "indent": 0, "text": ["OBJCF"], "extent": [4057, 4064], "body": [{"type": "para", "indent": 4, "text": ["This value is the simulation frame (see variable SF) at which the\n    current object was created. "], "extent": [4064, 4172]}, {"type": "para", "indent": 4, "text": ["This value is equivalent to using the\n    dopsttoframe expression on the OBJCT variable. This value will be\n    zero if the node does not process objects sequentially (such as the\n    ", {"scheme": "Node", "value": "/nodes/dop/group", "type": "link", "text": ["Group DOP"], "fullpath": "/nodes/dop/group"}, ")."], "extent": [4172, 4389]}], "container": true}, {"type": "dt", "indent": 0, "text": ["OBJNAME"], "extent": [4389, 4398], "body": [{"type": "para", "indent": 4, "text": ["This is a string value containing the name of the object being\n    processed. "], "extent": [4398, 4486]}, {"type": "para", "indent": 4, "text": ["Object names are not guaranteed to be unique within a\n    simulation. However, if you name your objects carefully so that they\n    are unique, the object name can be a much easier way to identify an\n    object than the unique object identifier, OBJID. "], "extent": [4486, 4748]}, {"type": "para", "indent": 4, "text": ["The object name can\n    also be used to treat a number of similar objects (with the same\n    name) as a virtual group. If there are 20 objects named ", {"type": "q", "text": ["myobject"]}, ",\n    specifying ", {"type": "code", "text": ["strcmp($OBJNAME, \"myobject\") == 0"]}, " in the activation field\n    of a DOP will cause that DOP to operate only on those 20 objects. This\n    value will be the empty string if the node does not process objects\n    sequentially (such as the ", {"scheme": "Node", "value": "/nodes/dop/group", "type": "link", "text": ["Group DOP"], "fullpath": "/nodes/dop/group"}, ")."], "extent": [4748, 5194]}], "container": true}, {"type": "dt", "indent": 0, "text": ["DOPNET"], "extent": [5194, 5202], "body": [{"type": "para", "indent": 4, "text": ["This is a string value containing the full path of the current DOP\n    Network. This value is most useful in DOP subnet digital assets\n    where you want to know the path to the DOP Network that contains the\n    node."], "extent": [5202, 5425]}], "container": true}], "container": true}, {"type": "note_group", "body": [{"type": "note", "indent": 0, "role": "item", "extent": [5425, 5431], "body": [{"type": "para", "indent": 4, "text": ["Most dynamics nodes have local variables with the same names as the\n    node\u2019s parameters. For example, in a ", {"scheme": "Node", "value": "/nodes/dop/position", "type": "link", "text": ["Position node"], "fullpath": "/nodes/dop/position"}, ",\n    you could write the expression:"], "extent": [5431, 5620]}, {"lang": null, "type": "pre", "indent": 4, "text": ["\n    $tx + 0.1\n    "], "extent": [5620, 5650]}, {"type": "para", "indent": 4, "text": ["\u2026to make the object move 0.1 units along the X axis at each timestep."], "extent": [5650, 5730]}], "container": true}], "container": true, "role": "item_group"}], "text": "Locals"}, {"level": 1, "id": "related", "container": true, "type": "related_section", "indent": 0, "role": "section", "extent": [19277, 19286], "body": [{"type": "bullet_group", "body": [{"blevel": 2, "type": "bullet", "indent": 0, "text": [{"scheme": null, "value": "/pyro/pyro", "type": "link", "text": ["Pyro Effects"], "fullpath": "/pyro/pyro"}], "extent": [19286, 19315]}, {"blevel": 2, "type": "bullet", "indent": 0, "text": [{"scheme": "Node", "value": "/nodes/dop/smokeobject", "type": "link", "text": "", "fullpath": "/nodes/dop/smokeobject"}], "extent": [19315, 19340]}, {"blevel": 2, "type": "bullet", "indent": 0, "text": [{"scheme": "Node", "value": "/nodes/sop/pyrosource", "type": "link", "text": "", "fullpath": "/nodes/sop/pyrosource"}], "extent": [19340, 19364]}, {"blevel": 2, "type": "bullet", "indent": 0, "text": [{"scheme": "Node", "value": "/nodes/dop/smokesolver", "type": "link", "text": "", "fullpath": "/nodes/dop/smokesolver"}], "extent": [19364, 19392]}], "container": true}], "text": "Related"}], "title": ["Pyro Solver"], "summary": ["Sets and configures a Pyro solver. This solver can be used to create both fire and smoke."], "included": ["/nodes/dop/control_settings", "/nodes/dop/gascombustion", "/nodes/dop/gasdisturb-", "/nodes/dop/old_relationships", "/nodes/dop/smokesolver", "/nodes/dop/standard_data_locals", "/nodes/dop/standard_data_outputs", "/nodes/dop/standard_gas_stencil", "/nodes/dop/standard_locals"]}