{"type": "root", "attrs": {"type": "node", "context": "dop", "icon": "SHELF/whitewater", "internal": "whitewatersolver::2.0", "tags": "FLIP", "version": "2.0", "since": "17.0", "namespace": null}, "body": [{"level": 0, "type": "title", "indent": 0, "text": ["Whitewater Solver"], "extent": [123, 145]}, {"type": "summary", "indent": 0, "text": [" Sets and configures a Whitewater Solver. "], "extent": [145, 196]}, {"type": "para", "indent": 0, "text": ["The Whitewater Solver simulates whitewater particles from a source liquid\nsimulation. This solver can be used to enhance the look of the underlying\nsimulation by adding dynamic foam, spray, and bubble particles to it. These\nparticles are influenced by the liquid\u2019s motion and interact with each other,\nexhibiting controllably-realistic fluid-like behavior."], "extent": [196, 554]}, {"level": 2, "id": null, "container": true, "type": "h", "indent": 0, "text": ["Setup"], "extent": [554, 566], "body": [{"type": "para", "indent": 0, "text": ["To operate, the solver needs an emission volume, as well as the liquid\u2019s\nvelocity and signed distance fields. The velocity field can be either a vector\nVDB (", {"type": "code", "text": ["vel"]}, ") or a triplet of separated volumes (", {"type": "code", "text": ["vel.x"]}, ", ", {"type": "code", "text": ["vel.y"]}, ", ", {"type": "code", "text": ["vel.z"]}, "). The\nsigned distance field must be called ", {"type": "code", "text": ["surface"]}, " (if this volume is dense and not\na sparse VDB, then the checkbox by ", {"type": "ui", "text": ["Maximum Half-Width"]}, " must be unchecked).\nTo facilitate birthing of whitewater particles, an emission volume (", {"type": "code", "text": ["emit"]}, ")\nmust also be provided. A ", {"scheme": "Node", "value": "/nodes/sop/whitewatersource", "type": "link", "text": ["Whitewater Source"], "fullpath": "/nodes/sop/whitewatersource"}, " node can\nbe used to extract this data from a FLIP simulation. "], "extent": [566, 1167]}, {"type": "note_group", "body": [{"type": "note", "indent": 0, "role": "item", "extent": [1167, 1173], "body": [{"type": "para", "indent": 4, "text": ["An external ", {"scheme": "Node", "value": "/nodes/dop/whitewateremitter", "type": "link", "text": ["Whitewater Emitter"], "fullpath": "/nodes/dop/whitewateremitter"}, " is no longer\n    required, but can be hooked in to manually inject particles into the\n    simulation. However, the recommended route to additional sourcing is by\n    modifying the ", {"type": "code", "text": ["emit"]}, " volume; this can be accomplished, for example, by\n    providing a second input to ", {"scheme": "Node", "value": "/nodes/sop/whitewatersource", "type": "link", "text": ["Whitewater Source"], "fullpath": "/nodes/sop/whitewatersource"}, "\n    and enabling its ", {"type": "ui", "text": ["Add Extra Sources"]}, " option."], "extent": [1173, 1604]}], "container": true}], "container": true, "role": "item_group"}]}, {"level": 1, "id": "inputs", "container": true, "type": "inputs_section", "indent": 0, "role": "section", "extent": [1604, 1612], "body": [{"type": "dt_group", "body": [{"type": "dt", "indent": 0, "text": ["Objects to Solve"], "extent": [1612, 1631], "body": [{"type": "para", "indent": 4, "text": ["A ", {"scheme": "Node", "value": "/nodes/dop/whitewaterobject", "type": "link", "text": ["Whitewater Object"], "fullpath": "/nodes/dop/whitewaterobject"}, " to contain the particle\n    geometry."], "extent": [1631, 1722]}], "container": true}, {"type": "dt", "indent": 0, "text": ["Particle Forces"], "extent": [1722, 1739], "body": [{"type": "para", "indent": 4, "text": ["Additional forces to apply to the particles; at this point, the various\n    force components have been calculated, but not yet combined."], "extent": [1739, 1881]}], "container": true}, {"type": "dt", "indent": 0, "text": ["Extra Sources"], "extent": [1881, 1896], "body": [{"type": "para", "indent": 4, "text": ["Additional whitewater particles to add to the geometry; at this point,\n    internal emission has been taken care of, and newly birthed particles are\n    put into the ", {"type": "code", "text": ["justborn"]}, " group."], "extent": [1896, 2085]}], "container": true}, {"type": "dt", "indent": 0, "text": ["Post-Solve"], "extent": [2085, 2097], "body": [{"type": "para", "indent": 4, "text": ["Solvers that act after the Whitewater Solver performs its stepping."], "extent": [2097, 2170]}], "container": true}], "container": true}], "text": "Inputs"}, {"level": 1, "id": "parameters", "container": true, "type": "parameters_section", "indent": 0, "role": "section", "extent": [2170, 2182], "body": [{"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 0, "text": ["Volume Source"], "extent": [2182, 2198], "body": [{"type": "para", "indent": 4, "text": ["The path of the SOP node providing the source volumes (liquid\u2019s velocity\n    and signed distance fields) for the solver."], "extent": [2214, 2340]}], "container": true, "attrs": {"id": "source"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Import Volumes"], "extent": [2340, 2356], "body": [{"type": "para", "indent": 4, "text": ["Enabling this option will copy the liquid volumes into the whitewater\n    object, allowing for visualization as well as easy access."], "extent": [2379, 2517]}], "container": true, "attrs": {"id": "importvolumes"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Whitewater Scale"], "extent": [2517, 2535], "body": [{"type": "para", "indent": 4, "text": ["Controls the separation between nearby whitewater particles. Reducing this\n    parameter increases the number of particles in the simulation (with cubic\n    scaling)."], "extent": [2550, 2722]}], "container": true, "attrs": {"id": "scale"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Voxel Size"], "extent": [2722, 2734], "body": [{"type": "para", "indent": 4, "text": ["Voxel size for the density volume. The volume is used for emission limiting,\n    foam erosion, as well as repellant seeding when ", {"type": "ui", "text": ["Density Threshold"]}, " is\n    enabled. ", {"type": "ui", "text": ["Voxel Size"]}, " should be at least twice as large as ", {"type": "ui", "text": ["Whitewater\n    Scale"]}, "."], "extent": [2753, 3003]}], "container": true, "attrs": {"id": "voxelsize"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Foam Location"], "extent": [3003, 3018], "body": [{"type": "para", "indent": 4, "text": ["Location of foam with respect to the liquid surface. Note that all depth\n    ranges respect this parameter; that is ", {"type": "ui", "text": ["Foam Location"]}, " can be changed to\n    raise or lower the foam layer without having to modify other parameters."], "extent": [3037, 3271]}], "container": true, "attrs": {"id": "goaldepth"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Depth Range"], "extent": [3271, 3284], "body": [{"type": "para", "indent": 4, "text": ["This parameter controls the interval around the foam layer in which the\n    forces and aging rates are interpolated. Horizontal axes of ", {"type": "ui", "text": ["Buoyancy by\n    Depth"]}, ", ", {"type": "ui", "text": ["Advection by Depth"]}, ", ", {"type": "ui", "text": ["Multiplier by Depth"]}, ", and ", {"type": "ui", "text": ["Repulsion\n    by Depth"]}, " span a distance of twice this ", {"type": "ui", "text": ["Depth Range"]}, " around 0."], "extent": [3304, 3608]}], "container": true, "attrs": {"id": "depthrange"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Add State Attributes"], "extent": [3608, 3630], "body": [{"type": "para", "indent": 4, "text": ["When enabled, whitewater particles will acquire ", {"type": "code", "text": ["bubble"]}, ", ", {"type": "code", "text": ["foam"]}, ", and\n    ", {"type": "code", "text": ["spray"]}, " point attributes. Values for these attributes lie in the 0-1 range,\n    signalling how ", {"type": "q", "text": ["strongly"]}, " each particle is of the respective state."], "extent": [3652, 3879]}], "container": true, "attrs": {"id": "addstatevars"}, "role": "item"}], "container": true, "role": "item_group"}, {"level": 2, "id": "emission", "container": true, "type": "h", "indent": 0, "text": ["Emission"], "extent": [3879, 3905], "body": [{"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 0, "text": ["Emission Source"], "extent": [3905, 3923], "body": [{"type": "para", "indent": 4, "text": ["The path of the SOP node containing the emission VDB (", {"type": "code", "text": ["emit"]}, ")."], "extent": [3940, 4008]}], "container": true, "attrs": {"id": "soppath"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Limit Emission"], "extent": [4008, 4024], "body": [{"type": "para", "indent": 4, "text": ["Turning this option on reduces emission rates in already whitewater-dense\n    areas."], "extent": [4047, 4137]}], "container": true, "attrs": {"id": "limitemission"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Emission Amount"], "extent": [4137, 4154], "body": [{"type": "para", "indent": 4, "text": ["A multiplier for the amount of emitted whitewater."], "extent": [4178, 4234]}], "container": true, "attrs": {"id": "emissionamount"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Velocity Offset"], "extent": [4234, 4251], "body": [{"type": "para", "indent": 4, "text": ["The location along a source point\u2019s velocity vector where the whitewater\n    particles will be created (in world units)."], "extent": [4270, 4396]}], "container": true, "attrs": {"id": "veloffset"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Velocity Multiplier"], "extent": [4396, 4417], "body": [{"type": "para", "indent": 4, "text": ["A multiplier applied to a source point\u2019s velocity before its whitewater\n    particles inherit it."], "extent": [4445, 4548]}], "container": true, "attrs": {"id": "velocitymultiplier"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Maximum Initial Speed"], "extent": [4548, 4571], "body": [{"type": "para", "indent": 4, "text": ["Speed of a newly-birthed whitewater particle is not allowed to exceed this\n    value."], "extent": [4589, 4680]}], "container": true, "attrs": {"id": "maxspeed"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Lifespan"], "extent": [4680, 4690], "body": [{"type": "para", "indent": 4, "text": ["Average lifespan of a whitewater particle (in seconds)."], "extent": [4708, 4769]}], "container": true, "attrs": {"id": "lifespan"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Seed"], "extent": [4769, 4775], "body": [{"type": "para", "indent": 4, "text": ["Seed that controls all of the random aspects of particle emission and\n    death."], "extent": [4789, 4875]}], "container": true, "attrs": {"id": "seed"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Bubbles Aging Rate"], "extent": [4875, 4895], "body": [{"type": "para", "indent": 4, "text": ["Aging rate for bubbles. Can be used to extend or reduce the lifetime of\n    bubble particles."], "extent": [4921, 5020]}, {"type": "note_group", "body": [{"type": "note", "indent": 4, "role": "item", "extent": [5020, 5030], "body": [{"type": "para", "indent": 8, "text": ["This parameter augments a particle\u2019s death chance; the ", {"type": "code", "text": ["age"]}, " attribute\n        still contains its real age."], "extent": [5030, 5147]}], "container": true}], "container": true, "role": "item_group"}], "container": true, "attrs": {"id": "bubblesagingrate"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Foam Aging Rate"], "extent": [5147, 5164], "body": [{"type": "para", "indent": 4, "text": ["Aging rate for foam. Can be used to extend or reduce the lifetime of foam\n    particles."], "extent": [5187, 5281]}, {"type": "note_group", "body": [{"type": "note", "indent": 4, "role": "item", "extent": [5281, 5291], "body": [{"type": "para", "indent": 8, "text": ["This parameter augments a particle\u2019s death chance; the ", {"type": "code", "text": ["age"]}, " attribute\n        still contains its real age."], "extent": [5291, 5408]}], "container": true}], "container": true, "role": "item_group"}], "container": true, "attrs": {"id": "foamagingrate"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Spray Aging Rate"], "extent": [5408, 5426], "body": [{"type": "para", "indent": 4, "text": ["Aging rate for spray. Can be used to extend or reduce the lifetime of spray\n    particles."], "extent": [5450, 5546]}, {"type": "note_group", "body": [{"type": "note", "indent": 4, "role": "item", "extent": [5546, 5556], "body": [{"type": "para", "indent": 8, "text": ["This parameter augments a particle\u2019s death chance; the ", {"type": "code", "text": ["age"]}, " attribute\n        still contains its real age."], "extent": [5556, 5673]}], "container": true}], "container": true, "role": "item_group"}], "container": true, "attrs": {"id": "sprayagingrate"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Add Noise"], "extent": [5673, 5684], "body": [{"type": "para", "indent": 4, "text": ["Enabling this option adds velocity noise to newly birthed particles. See\n    help for ", {"scheme": "Node", "value": "/nodes/vop/turbnoise", "type": "link", "text": ["Turbulent Noise"], "fullpath": "/nodes/vop/turbnoise"}, " for more information on noise\n    control."], "extent": [5702, 5873]}], "container": true, "attrs": {"id": "addnoise"}, "role": "item"}], "container": true, "role": "item_group"}]}, {"level": 2, "id": "limitbehavior", "container": true, "type": "h", "indent": 0, "text": ["Limits"], "extent": [5873, 5902], "body": [{"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 0, "text": ["Collision SOP"], "extent": [5902, 5918], "body": [{"type": "para", "indent": 4, "text": ["The path of the SOP node containing a signed distance field for static\n    collision geometry. This field should be provided if foam is expected to\n    peel away from the liquid surface and settle atop solids (for example, on\n    a beach)."], "extent": [5944, 6189]}], "container": true, "attrs": {"id": "collisionpresent"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["SDF Name"], "extent": [6189, 6199], "body": [{"type": "para", "indent": 4, "text": ["Name of the signed distance VDB or volume in ", {"type": "ui", "text": ["Collision SOP"]}, "."], "extent": [6221, 6290]}], "container": true, "attrs": {"id": "collisionsdf"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Closed Boundaries"], "extent": [6290, 6309], "body": [{"type": "para", "indent": 4, "text": ["These parameters select which boundaries are closed. Particles bounce off\n    of closed boundaries, while those venturing beyond open boundaries are\n    killed."], "extent": [6329, 6495]}], "container": true, "attrs": {"id": "closedends"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Limit Size"], "extent": [6495, 6507], "body": [{"type": "para", "indent": 4, "text": ["Size of the whitewater domain."], "extent": [6526, 6562]}], "container": true, "attrs": {"id": "limitsize"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Limit Center"], "extent": [6562, 6576], "body": [{"type": "para", "indent": 4, "text": ["Center of the whitewater domain."], "extent": [6592, 6630]}], "container": true, "attrs": {"id": "limitt"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Visualize Limits"], "extent": [6630, 6648], "body": [{"type": "para", "indent": 4, "text": ["Display the guide showing limits of the whitewater domain."], "extent": [6666, 6730]}], "container": true, "attrs": {"id": "vislimit"}, "role": "item"}], "container": true, "role": "item_group"}]}, {"level": 2, "id": "forces", "container": true, "type": "h", "indent": 0, "text": ["Forces"], "extent": [6730, 6752], "body": [{"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 0, "text": ["Gravity"], "extent": [6752, 6762], "body": [{"type": "para", "indent": 4, "text": ["Acceleration due to gravity."], "extent": [6779, 6813]}], "container": true, "attrs": {"id": "gravity"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Buoyancy"], "extent": [6813, 6823], "body": [{"type": "para", "indent": 4, "text": ["Base acceleration due to buoyancy."], "extent": [6841, 6881]}], "container": true, "attrs": {"id": "buoyancy"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Buoyancy by Depth"], "extent": [6881, 6900], "body": [{"type": "para", "indent": 4, "text": ["A multiplier applied to the buoyancy force."], "extent": [6923, 6972]}], "container": true, "attrs": {"id": "buoyancycurve"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Base Advection Strength"], "extent": [6972, 6997], "body": [{"type": "para", "indent": 4, "text": ["Strength of the advective force that carries whitewater along the liquid\u2019s\n    velocity field."], "extent": [7017, 7117]}], "container": true, "attrs": {"id": "resistance"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Advection by Depth"], "extent": [7117, 7137], "body": [{"type": "para", "indent": 4, "text": ["A multiplier applied to the advection strength."], "extent": [7161, 7214]}], "container": true, "attrs": {"id": "advectioncurve"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Base Velocity Multiplier"], "extent": [7214, 7240], "body": [{"type": "para", "indent": 4, "text": ["A multiplier applied to the liquid\u2019s velocity field before advection."], "extent": [7260, 7335]}], "container": true, "attrs": {"id": "multiplier"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Multiplier by Depth"], "extent": [7335, 7356], "body": [{"type": "para", "indent": 4, "text": ["An extra multiplier applied to the liquid\u2019s velocity field."], "extent": [7381, 7446]}], "container": true, "attrs": {"id": "multipliercurve"}, "role": "item"}], "container": true, "role": "item_group"}]}, {"level": 2, "id": "foam", "container": true, "type": "h", "indent": 0, "text": ["Foam"], "extent": [7446, 7464], "body": [{"level": 3, "id": "clumping", "container": true, "type": "h", "indent": 0, "text": ["Clumping"], "extent": [7464, 7493], "body": [{"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 0, "text": ["Enable Density Control"], "extent": [7493, 7518], "body": [{"type": "para", "indent": 4, "text": ["Enables density control for whitewater particles."], "extent": [7548, 7603]}], "container": true, "attrs": {"id": "enabledensitycontrol"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Depth Range"], "extent": [7603, 7616], "body": [{"type": "para", "indent": 4, "text": ["Particles in this range will be subjected to density control. "], "extent": [7639, 7707]}, {"type": "note_group", "body": [{"type": "note", "indent": 4, "text": [" "], "role": "item", "extent": [7707, 7718], "body": [{"type": "para", "indent": 8, "text": ["If an endpoint of ", {"type": "ui", "text": ["Stiffness by Depth"]}, " does not evaluate to 0 (when\n        ", {"type": "ui", "text": ["Variable Stiffness"]}, " is enabled), then all particles beyond that\n        point will also have density control enabled."], "extent": [7718, 7926]}], "container": true}], "container": true, "role": "item_group"}], "container": true, "attrs": {"id": "pbfdepthrange"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Constraint Stiffness"], "extent": [7926, 7948], "body": [{"type": "para", "indent": 4, "text": ["Stiffness of the density constraints, controlling how harshly deviations\n    from target density are penalized."], "extent": [7970, 8087]}], "container": true, "attrs": {"id": "defstiffness"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Variable Stiffness"], "extent": [8087, 8107], "body": [{"type": "para", "indent": 4, "text": ["Enable variable enforcement of the density constraints at different liquid\n    depths."], "extent": [8136, 8228]}, {"type": "note_group", "body": [{"type": "note", "indent": 4, "role": "item", "extent": [8228, 8238], "body": [{"type": "para", "indent": 8, "text": ["The solver will interpret constraints to have a variable stiffness if\n        the ", {"type": "code", "text": ["pbfstiffness"]}, " point attribute is present, even when ", {"type": "ui", "text": ["Variable\n        Stiffness"]}, " is disabled."], "extent": [8238, 8426]}], "container": true}], "container": true, "role": "item_group"}], "container": true, "attrs": {"id": "enablexpbdstiffness"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Stiffness by Depth"], "extent": [8426, 8446], "body": [{"type": "para", "indent": 4, "text": ["Controls the stiffness of density constraints at different liquid depths.\n    Note that if an endpoint of this ramp evaluates to a non-zero value, then\n    all particles beyond that end will also be subjected to density control."], "extent": [8470, 8704]}], "container": true, "attrs": {"id": "stiffnesscurve"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Neighborhood Size"], "extent": [8704, 8723], "body": [{"type": "para", "indent": 4, "text": ["Desired number of points in each particle\u2019s neighborhood."], "extent": [8749, 8812]}], "container": true, "attrs": {"id": "desiredneighbors"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Adaptive Range"], "extent": [8812, 8828], "body": [{"type": "para", "indent": 4, "text": ["Range of allowed kernel radii, as multiples of a global radius."], "extent": [8858, 8927]}], "container": true, "attrs": {"id": "adaptivekernelradius"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Maximum Neighbors"], "extent": [8927, 8946], "body": [{"type": "para", "indent": 4, "text": ["The number of points in a whitewater particle\u2019s neighborhood is not allowed\n    to exceed this value."], "extent": [8968, 9075]}], "container": true, "attrs": {"id": "maxneighbors"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Inclusion Chance"], "extent": [9075, 9093], "body": [{"type": "para", "indent": 4, "text": ["This fraction of all particles that are eligible for density control will\n    actually be used. Reducing ", {"type": "ui", "text": ["Inclusion Chance"]}, " will decrease running times,\n    but may degrade quality."], "extent": [9115, 9304]}, {"type": "note_group", "body": [{"type": "note", "indent": 4, "role": "item", "extent": [9304, 9314], "body": [{"type": "para", "indent": 8, "text": ["All eligible whitewater particles are collected into the\n        ", {"type": "code", "text": ["controldensity_candidate"]}, " group; particles that are actually used for\n        density control are put into the ", {"type": "code", "text": ["controldensity"]}, " group."], "extent": [9314, 9524]}], "container": true}], "container": true, "role": "item_group"}], "container": true, "attrs": {"id": "pbfinclusion"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Constraint Iterations"], "extent": [9524, 9547], "body": [{"type": "para", "indent": 4, "text": ["Number of times to repeat constraint projection for each particle."], "extent": [9577, 9649]}], "container": true, "attrs": {"id": "constraintiterations"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Maximum Acceleration"], "extent": [9649, 9671], "body": [{"type": "para", "indent": 4, "text": ["The maximum acceleration that can be applied to a particle by constraints."], "extent": [9696, 9776]}], "container": true, "attrs": {"id": "maxacceleration"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Tensile Radius"], "extent": [9776, 9792], "body": [{"type": "para", "indent": 4, "text": ["Particles apply repulsive forces on their neighbors to prevent clustering.\n    This parameter determines the distance (as a fraction of the particle\u2019s\n    kernel radius) at which this force is equal to ", {"type": "ui", "text": ["Tensile Strength"]}, "."], "extent": [9810, 10039]}], "container": true, "attrs": {"id": "tensileq"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Tensile Strength"], "extent": [10039, 10057], "body": [{"type": "para", "indent": 4, "text": ["Magnitude of the repulsive forces between nearby particles."], "extent": [10075, 10140]}], "container": true, "attrs": {"id": "tensilek"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Viscosity"], "extent": [10140, 10151], "body": [{"type": "para", "indent": 4, "text": ["Enabling viscosity causes velocity diffusion, resulting in more coherent\n    motion among nearby whitewater particles."], "extent": [10176, 10300]}], "container": true, "attrs": {"id": "enableviscosity"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Vorticity"], "extent": [10300, 10311], "body": [{"type": "para", "indent": 4, "text": ["Counteracts energy dissipation by maintaining vortices."], "extent": [10347, 10408]}], "container": true, "attrs": {"id": "enablevorticityconfinement"}, "role": "item"}], "container": true, "role": "item_group"}]}, {"level": 3, "id": "erosion", "container": true, "type": "h", "indent": 0, "text": ["Erosion"], "extent": [10408, 10434], "body": [{"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 0, "text": ["Enable Erosion"], "extent": [10434, 10451], "body": [{"type": "para", "indent": 4, "text": ["Enabling this feature preserves foam in denser areas and erodes it in\n    sparser regions."], "extent": [10474, 10570]}], "container": true, "attrs": {"id": "enableerosion"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Depth Range"], "extent": [10570, 10583], "body": [{"type": "para", "indent": 4, "text": ["Particles within this distance of the liquid surface will be subjected to\n    erosion."], "extent": [10605, 10697]}], "container": true, "attrs": {"id": "erosionrange"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Erosion Strength"], "extent": [10697, 10715], "body": [{"type": "para", "indent": 4, "text": ["Strength of erosion in less dense foam areas. Higher values for this\n    parameter will result in more rapid disappearance of foam."], "extent": [10740, 10877]}], "container": true, "attrs": {"id": "erosionstrength"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Preservation Strength"], "extent": [10877, 10900], "body": [{"type": "para", "indent": 4, "text": ["Controls the density range at which whitewater is protected from erosion."], "extent": [10930, 11009]}], "container": true, "attrs": {"id": "preservationstrength"}, "role": "item"}], "container": true, "role": "item_group"}]}, {"level": 3, "id": "repellants", "container": true, "type": "h", "indent": 0, "text": ["Repellants"], "extent": [11009, 11041], "body": [{"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 0, "text": ["Enable Repellants"], "extent": [11041, 11061], "body": [{"type": "para", "indent": 4, "text": ["Create and maintain repellant particles that push whitewater away and give\n    rise to a cellular foam structure. These particles are contained in the\n    object\u2019s ", {"type": "code", "text": ["Repellants"]}, " geometry."], "extent": [11087, 11279]}], "container": true, "attrs": {"id": "enablerepellants"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Feature Size Range"], "extent": [11279, 11299], "body": [{"type": "para", "indent": 4, "text": ["Range of repellant sizes (stored in the ", {"type": "code", "text": ["radius"]}, " point attribute)."], "extent": [11325, 11397]}], "container": true, "attrs": {"id": "repfeatsizerange"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Strength Range"], "extent": [11397, 11413], "body": [{"type": "para", "indent": 4, "text": ["Range of repellant strengths (stored in the ", {"type": "code", "text": ["magnitude"]}, " point attribute)."], "extent": [11434, 11513]}], "container": true, "attrs": {"id": "repmagrange"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Noise Range"], "extent": [11513, 11526], "body": [{"type": "para", "indent": 4, "text": ["Range of values for the repellants' ", {"type": "code", "text": ["noise"]}, " point attribute. This attribute\n    controls the shape of each repellant, with 0 being perfectly circular and 1\n    being maximally ", {"type": "q", "text": ["noisy"]}, "."], "extent": [11549, 11739]}], "container": true, "attrs": {"id": "repnoiserange"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Pulse Frequency Range"], "extent": [11739, 11762], "body": [{"type": "para", "indent": 4, "text": ["Range of values for the repellants' ", {"type": "code", "text": ["pulse"]}, " point attribute. This attribute\n    controls how fast the shape of a ", {"type": "q", "text": ["noisy"]}, " repellant evolves."], "extent": [11785, 11930]}], "container": true, "attrs": {"id": "reppulserange"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Life Range"], "extent": [11930, 11942], "body": [{"type": "para", "indent": 4, "text": ["When enabled, repellants will age and die once their life is up. The\n    lifespan for a repellant is randomly selected from the provided range."], "extent": [11964, 12113]}], "container": true, "attrs": {"id": "repliferange"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Density Threshold"], "extent": [12113, 12132], "body": [{"type": "para", "indent": 4, "text": ["Enabling this option limits seeding of repellants to areas that already\n    contain whitewater. A region is considered eligible for seeding if relative\n    whitewater density is above the specified threshold."], "extent": [12161, 12375]}], "container": true, "attrs": {"id": "repdensitythreshold"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Seed"], "extent": [12375, 12381], "body": [{"type": "para", "indent": 4, "text": ["Seed that controls random repellant seeding."], "extent": [12404, 12454]}], "container": true, "attrs": {"id": "repellantseed"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Match Radius Distribution"], "extent": [12454, 12481], "body": [{"type": "para", "indent": 4, "text": ["When this option is enabled, distribution of repellant sizes matches the\n    given ", {"type": "ui", "text": ["Radius Distribution"]}, "; otherwise, size distribution is uniform."], "extent": [12506, 12660]}], "container": true, "attrs": {"id": "raddistribution"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Strength by Speed"], "extent": [12660, 12679], "body": [{"type": "para", "indent": 4, "text": ["When enabled, repellant strengths are attenuated based on liquid\u2019s speed.\n    With default settings, for example, repellants will be active only in slow\n    regions."], "extent": [12705, 12876]}], "container": true, "attrs": {"id": "attenuatebyspeed"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Speed Range"], "extent": [12876, 12889], "body": [{"type": "para", "indent": 4, "text": ["Horizontal axis of ", {"type": "ui", "text": ["Repulsion by Speed"]}, " corresponds to this range."], "extent": [12912, 12986]}], "container": true, "attrs": {"id": "repspeedrange"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Repulsion by Speed"], "extent": [12986, 13006], "body": [{"type": "para", "indent": 4, "text": ["A multiplier applied to the repellant strengths based on the underlying\n    liquid\u2019s speed."], "extent": [13028, 13125]}], "container": true, "attrs": {"id": "strengthramp"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Strength by Acceleration"], "extent": [13125, 13151], "body": [{"type": "para", "indent": 4, "text": ["When enabled, repellant strengths are attenuated based on liquid\u2019s\n    acceleration. With default settings, for example, repellants will be\n    inactive in regions that are rapidly accelerating."], "extent": [13177, 13377]}], "container": true, "attrs": {"id": "attenuatebyaccel"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Acceleration Range"], "extent": [13377, 13397], "body": [{"type": "para", "indent": 4, "text": ["Horizontal axis of ", {"type": "ui", "text": ["Repulsion by Acceleration"]}, " corresponds to this range."], "extent": [13420, 13501]}], "container": true, "attrs": {"id": "repaccelrange"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Repulsion by Acceleration"], "extent": [13501, 13528], "body": [{"type": "para", "indent": 4, "text": ["A multiplier applied to the repellant strengths based on the underlying\n    liquid\u2019s acceleration."], "extent": [13554, 13658]}], "container": true, "attrs": {"id": "accelerationramp"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Repulsion by Depth"], "extent": [13658, 13678], "body": [{"type": "para", "indent": 4, "text": ["A multiplier applied to the repulsion force based on whitewater particle\u2019s\n    depth."], "extent": [13702, 13793]}], "container": true, "attrs": {"id": "repulsioncurve"}, "role": "item"}], "container": true, "role": "item_group"}]}, {"level": 3, "id": "adhesion", "container": true, "type": "h", "indent": 0, "text": ["Adhesion"], "extent": [13793, 13821], "body": [{"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 0, "text": ["Enable Depth Control"], "extent": [13821, 13844], "body": [{"type": "para", "indent": 4, "text": ["Enable a depth control mechanism to keep foam attached to the fluid surface."], "extent": [13872, 13954]}], "container": true, "attrs": {"id": "enabledepthcontrol"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Upper Surface Only"], "extent": [13954, 13974], "body": [{"type": "para", "indent": 4, "text": ["When this option is enabled, adhesion is only applied to particles on the\n    liquid\u2019s upper surface, as determined by the direction of gravity. Turning\n    this feature on reduces foam sticking to the bottom or sides of the domain."], "extent": [14000, 14238]}], "container": true, "attrs": {"id": "depthcontrolgrav"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Control Range"], "extent": [14238, 14253], "body": [{"type": "para", "indent": 4, "text": ["Particles within this distance of the liquid surface will be subjected to\n    depth control."], "extent": [14280, 14378]}], "container": true, "attrs": {"id": "depthcontrolrange"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Off Within Collision"], "extent": [14378, 14400], "body": [{"type": "para", "indent": 4, "text": ["Depth control is disabled for particles that are within this distance of the\n    collision geometry. To use this feature, the ", {"type": "ui", "text": ["Collision SOP"]}, " must be\n    specified."], "extent": [14425, 14597]}], "container": true, "attrs": {"id": "withincollision"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Off Velocity Angle"], "extent": [14597, 14617], "body": [{"type": "para", "indent": 4, "text": ["Depth control is disabled for particles if the angle between their velocity\n    vector and surface normal is no larger than this value."], "extent": [14635, 14776]}], "container": true, "attrs": {"id": "velangle"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Maximum Acceleration"], "extent": [14776, 14798], "body": [{"type": "para", "indent": 4, "text": ["The maximum acceleration that can be applied to particles in an effort to\n    keep them attached to the surface."], "extent": [14825, 14943]}], "container": true, "attrs": {"id": "dcmaxacceleration"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Stiffness by Depth"], "extent": [14943, 14963], "body": [{"type": "para", "indent": 4, "text": ["Controls how strictly depth control will be enforced at different depths.\n    Lower stiffness values give rise to thicker foam."], "extent": [14995, 15128]}], "container": true, "attrs": {"id": "adhesionstiffnesscurve"}, "role": "item"}], "container": true, "role": "item_group"}]}]}, {"level": 2, "id": "advanced", "container": true, "type": "h", "indent": 0, "text": ["Advanced"], "extent": [15128, 15154], "body": [{"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 0, "text": ["Maximum Half-Width"], "extent": [15154, 15175], "body": [{"type": "para", "indent": 4, "text": ["The liquid\u2019s (as well as collision geometry\u2019s if ", {"type": "ui", "text": ["Collision SOP"]}, " is\n    specified) signed distance VDB will automatically be activated beyond its\n    zero-crossing to enable accurate distance evaluations. The ", {"type": "ui", "text": ["Maximum\n    Half-Width"]}, " parameter can be used to limit the number of voxels that get\n    activated, preventing exhaustion of computing resources. Note that this\n    option should be disabled for dense SDF\u2019s."], "extent": [15196, 15623]}], "container": true, "attrs": {"id": "sdfactivate"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Time Scale"], "extent": [15623, 15635], "body": [{"type": "para", "indent": 4, "text": ["An overall scale applied to the actual timestep."], "extent": [15654, 15708]}], "container": true, "attrs": {"id": "timescale"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Delete Attributes"], "extent": [15708, 15727], "body": [{"type": "para", "indent": 4, "text": ["List of internal attributes used by the solver that should be deleted to\n    save memory and storage."], "extent": [15747, 15854]}], "container": true, "attrs": {"id": "delattribs"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Use OpenCL"], "extent": [15854, 15866], "body": [{"type": "para", "indent": 4, "text": ["Use the OpenCL device to accelerate computations for density control."], "extent": [15885, 15960]}], "container": true, "attrs": {"id": "useopencl"}, "role": "item"}], "container": true, "role": "item_group"}]}], "text": "Parameters"}, {"level": 1, "id": "related", "container": true, "type": "related_section", "indent": 0, "role": "section", "extent": [15960, 15969], "body": [{"type": "bullet_group", "body": [{"blevel": 6, "type": "bullet", "indent": 4, "text": [{"scheme": "Node", "value": "/nodes/dop/whitewaterobject", "type": "link", "text": ["Whitewater Object"], "fullpath": "/nodes/dop/whitewaterobject"}], "extent": [15969, 16021]}, {"blevel": 6, "type": "bullet", "indent": 4, "text": [{"scheme": "Node", "value": "/nodes/sop/whitewatersource", "type": "link", "text": ["Whitewater Source"], "fullpath": "/nodes/sop/whitewatersource"}], "extent": [16021, 16074]}], "container": true}], "text": "Related"}], "title": ["Whitewater Solver"], "summary": [" Sets and configures a Whitewater Solver. "]}