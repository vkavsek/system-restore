{"type": "root", "attrs": {"type": "node", "context": "lop", "internal": "configurelayer", "icon": "LOP/configurelayer", "group": "layers", "since": "18.0", "version": null, "namespace": null}, "body": [{"level": 0, "type": "title", "indent": 0, "text": ["Configure Layer"], "extent": [0, 20]}, {"type": "summary", "indent": 0, "text": ["Edits metadata on a layer."], "extent": [127, 162]}, {"level": 2, "id": null, "container": true, "type": "h", "indent": 0, "text": ["Overview"], "extent": [162, 177], "body": [{"type": "para", "indent": 0, "text": ["This node edits metadata that affects how a USD layer functions."], "extent": [177, 244]}, {"type": "bullet_group", "body": [{"blevel": 2, "type": "bullet", "indent": 0, "text": ["Some of the metadata is stored on the layer root prim and is saved with the layer on disk."], "extent": [244, 338]}, {"blevel": 2, "type": "bullet", "indent": 0, "text": ["Some metadata is stored in the ", {"type": "code", "text": ["/HoudiniLayerInfo"]}, " prim and controls ", {"type": "em", "text": ["how"]}, " the layer is written to disk. This primitive is not saved to any USD output."], "extent": [338, 494]}], "container": true}]}, {"level": 2, "id": null, "container": true, "type": "h", "indent": 0, "text": ["Tips"], "extent": [494, 505], "body": [{"type": "bullet_group", "body": [{"blevel": 2, "type": "bullet", "indent": 0, "text": ["This node will only author a bit of metadata if the corresponding parameter has its checkbox turned on. If the checkbox for a parameter is off, the node will not change any existing metadata corresponding to that parameter."], "extent": [505, 734]}], "container": true}]}, {"level": 1, "id": "parameters", "container": true, "type": "parameters_section", "indent": 0, "role": "section", "extent": [734, 746], "body": [{"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 0, "text": ["Save Path"], "extent": [746, 758], "body": [{"type": "para", "indent": 8, "text": ["Where the file will be saved if and when the USD is written to disk (by a ", {"scheme": "Node", "value": "/nodes/out/usd", "type": "link", "text": ["USD render node"], "fullpath": "/nodes/out/usd"}, "). (This is stored in ", {"type": "code", "text": ["/HoudiniLayerInfo"]}, " and is not saved to any USD output.)"], "extent": [758, 950]}, {"type": "para", "indent": 8, "text": ["This path can be altered by an ", {"scheme": null, "value": "/solaris/output#processors", "type": "link", "text": ["output processor"], "fullpath": "/solaris/output#processors", "fragment": "#processors"}, " if you have them configured on the render node. For example, it is common in Houdini to have file paths relative to ", {"type": "code", "text": ["$HIP"]}, ", but in USD they should be relative to the root layer file. By default, an output processor on the ", {"scheme": "Node", "value": "/nodes/out/usd", "type": "link", "text": ["USD render node"], "fullpath": "/nodes/out/usd"}, " does this transformation automatically."], "extent": [950, 1329]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Default Primitive"], "extent": [1329, 1348], "body": [{"type": "para", "indent": 8, "text": ["Sets the ", {"scheme": null, "value": "/solaris/usd#default_prim", "type": "link", "text": ["default primitive"], "fullpath": "/solaris/usd#default_prim", "fragment": "#default_prim"}, " for this layer. If another USD file references this layer, but does not explicitly name a primitive, it is given the ", {"type": "em", "text": ["default primitive"]}, ". This sets the default primitive for this layer. It must be a root prim (", {"type": "code", "text": ["/prim_name"]}, ") and it must exist in this layer."], "extent": [1348, 1669]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Comment"], "extent": [1669, 1678], "body": [{"type": "para", "indent": 8, "text": ["Sets a comment on this layer. This comment has no meaning to USD, but may be used to describe the purpose of the layer, or any other information you may wish to associate with the layer."], "extent": [1678, 1874]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Start Time"], "extent": [1874, 1886], "body": [{"type": "para", "indent": 8, "text": ["Sets the start time of the playable range for this layer. (This is not enforced in any way, and the layer may not have any animation. This may be used by ", {"scheme": null, "value": "/solaris/view", "type": "link", "text": ["Houdini\u2019s viewer"], "fullpath": "/solaris/view"}, " and tools such as ", {"type": "code", "text": ["usdview"]}, ".)"], "extent": [1886, 2112]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["End Time"], "extent": [2112, 2122], "body": [{"type": "para", "indent": 8, "text": ["Sets the end time of the playable range for this layer. (This is not enforced in any way, and the layer may not have any animation. This may be used by ", {"scheme": null, "value": "/solaris/view", "type": "link", "text": ["Houdini\u2019s viewer"], "fullpath": "/solaris/view"}, " and tools such as ", {"type": "code", "text": ["usdview"]}, ".)"], "extent": [2122, 2346]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Time per Second"], "extent": [2346, 2363], "body": [{"type": "para", "indent": 8, "text": ["Applies a scaling factor to time samples stored in the layer. You can use this to non-destructively speed up or slow down animation in the layer."], "extent": [2363, 2518]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Frames per Second"], "extent": [2518, 2537], "body": [{"type": "para", "indent": 8, "text": ["For data specified in relation to frames, how many frames fit in a second. (For example, 24 for film, or 30 for NTSC television.)"], "extent": [2537, 2676]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Up Axis"], "extent": [2676, 2685], "body": [{"type": "para", "indent": 8, "text": ["Which axis (Y or Z) was treated as ", {"type": "q", "text": ["up"]}, " when this layer was created. This is not used to transform the layer. It serves as a hint that can help identify the cause of orientation problems when you combine USD layers."], "extent": [2685, 2910]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Meters per Unit"], "extent": [2910, 2927], "body": [{"type": "para", "indent": 8, "text": ["The scale at which the scene was modeled. For example, Houdini scenes are often modeled at meter scale (", {"type": "code", "text": ["1.0"]}, ") for physical accuracy, while Maya modelers often work at centimeter scale (", {"type": "code", "text": ["0.1"]}, "). Like ", {"type": "ui", "text": ["Up axis"]}, ", Houdini doesn\u2019t act on this information (it can\u2019t automatically scale layers because it can\u2019t know which of all the attributes in the scene represent lengths, distances, movement vectors, and so on). It just serves as a hint to help identify the cause of scaling problems when combining USD layers."], "extent": [2927, 3447]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Custom Data Count"], "extent": [16, 35], "body": [{"type": "para", "indent": 8, "text": ["The metadata of every prim contains a dictionary for use by software packages and/or studios to store ", {"type": "em", "text": ["custom data"]}, ". You can set or edit multiple custom key-value pairs here. Set the number of items to set/edit, or use the plus and minus buttons to add or remove items."], "extent": [35, 314]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Custom Data Name"], "extent": [314, 332], "body": [{"type": "para", "indent": 8, "text": ["For each item of custom data, the name of the item."], "extent": [332, 393]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Custom Data Type"], "extent": [393, 411], "body": [{"type": "para", "indent": 8, "text": ["For each item of custom data, the data type of the value."], "extent": [411, 478]}, {"type": "dt_group", "body": [{"type": "dt", "indent": 8, "text": ["String"], "extent": [478, 494], "body": [{"type": "para", "indent": 16, "text": ["The value is stored as a single string."], "extent": [494, 551]}], "container": true}, {"type": "dt", "indent": 8, "text": ["String Array"], "extent": [551, 573], "body": [{"type": "para", "indent": 16, "text": ["The value is parsed into an array of substring, respecting quotes to group space separated words into a single substring."], "extent": [573, 712]}], "container": true}, {"type": "dt", "indent": 8, "text": ["Token"], "extent": [712, 727], "body": [{"type": "para", "indent": 16, "text": ["Like a string, but represented as a USD Token, which generally should not contain spaces. Using this specific data type may be necessary to match scripts or tools later in your pipeline."], "extent": [727, 931]}], "container": true}, {"type": "dt", "indent": 8, "text": ["Token Array"], "extent": [931, 952], "body": [{"type": "para", "indent": 16, "text": ["Like a string array, but because USD Tokens generally aren\u2019t expected to have spaces, the string is parsed into tokens using a simpler algorithm which ignores quotes and always splits the string where there is whitespace."], "extent": [952, 1191]}], "container": true}, {"type": "dt", "indent": 8, "text": ["Float"], "extent": [1191, 1206], "body": [{"type": "para", "indent": 16, "text": ["The value is stored as a floating point number."], "extent": [1206, 1271]}], "container": true}, {"type": "dt", "indent": 8, "text": ["Integer"], "extent": [1271, 1288], "body": [{"type": "para", "indent": 16, "text": ["The value is stored as a whole integer value."], "extent": [1288, 1351]}], "container": true}, {"type": "dt", "indent": 8, "text": ["Boolean"], "extent": [1351, 1368], "body": [{"type": "para", "indent": 16, "text": ["The value is stored as a True or False value."], "extent": [1368, 1431]}], "container": true}], "container": true}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Custom Data Value"], "extent": [1431, 1450], "body": [{"type": "para", "indent": 8, "text": ["For each item of custom data, the value to associate with the name."], "extent": [1450, 1527]}, {"type": "para", "indent": 8, "text": ["(Behind the scenes there are several different parameters (", {"type": "code", "text": ["customdatastrvalue", {"type": "var", "text": ["n"]}]}, ", ", {"type": "code", "text": ["customdatafloatvalue", {"type": "var", "text": ["n"]}]}, ", ", {"type": "code", "text": ["customdataintvalue", {"type": "var", "text": ["n"]}]}, ", ", {"type": "code", "text": ["customdataboolvalue", {"type": "var", "text": ["n"]}]}, ") all labeled ", {"type": "ui", "text": ["Custom data value"]}, ", with the visible one controlled by the ", {"type": "ui", "text": ["Custom data type"]}, " value. This may be relevant if you are using expressions or scripting these values.)"], "extent": [1527, 1886]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Also Set Metadata on Stage Root Layer"], "extent": [3471, 3510], "body": [{"type": "para", "indent": 8, "text": ["USD layers each have their own metadata that is controlled through this node. But in addition, USD stage\u2019s root layer (which cannot be directly accessed in LOPs) also has metadata which may be the same as or different from any specific layer used to compose the stage. This option allows the metadata described by this node to be copied to the stage\u2019s root layer as well as being set on the active layer."], "extent": [3510, 3924]}, {"type": "para", "indent": 8, "text": ["It is almost always desirable to have the metadata on each component layer match the metadata of the stage\u2019s root layer, so this option is on by default."], "extent": [3924, 4087]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Flatten Input"], "extent": [4087, 4102], "body": [{"type": "para", "indent": 8, "text": ["Prior to configuring the active layer, you can explicitly combine a series of layers created by earlier nodes in the chain."], "extent": [4102, 4235]}, {"type": "dt_group", "body": [{"type": "dt", "indent": 8, "text": ["Do not flatten"], "extent": [4235, 4259], "body": [{"type": "para", "indent": 16, "text": ["Don\u2019t do anything with other layers."], "extent": [4259, 4313]}], "container": true}, {"type": "dt", "indent": 8, "text": ["Flatten input layers"], "extent": [4313, 4343], "body": [{"type": "para", "indent": 16, "text": ["Flatten all layers in the layer stack into a single layer, and then configure the metadata of that layer."], "extent": [4343, 4466]}], "container": true}, {"type": "dt", "indent": 8, "text": ["Flatten input stage"], "extent": [4466, 4495], "body": [{"type": "para", "indent": 16, "text": ["Flatten the entire stage. This is a much more destructive operation than layer flattening. It bakes overrides, references, and sublayers into a single monolithic tree. Only do this if for some reason you need to incorporate all stage data into a single output file."], "extent": [4495, 4778]}], "container": true}], "container": true}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Start New Layer"], "extent": [4778, 4795], "body": [{"type": "para", "indent": 8, "text": ["This node is often used to perform the final configuration of a layer\u2019s metadata before creating a new layer to be modified by following LOP nodes. Turn this on to explicitly start a new in-memory active layer that subsequent nodes will use."], "extent": [4795, 5046]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Set Input Active Layer to Explicit"], "extent": [5046, 5082], "body": [{"type": "para", "indent": 8, "text": ["When this node starts a new layer, the previous active layer can be marked as an explicit layer, even if a ", {"type": "ui", "text": ["Save Path"]}, " has not been set. Forcing this layer to be marked explicit ensures it will be written to it\u2019s own file on disk by the USD ROP, using an automatically generated save path if necessary."], "extent": [5082, 5396]}], "container": true, "role": "item"}], "container": true, "role": "item_group"}], "text": "Parameters"}, {"level": 1, "id": "related", "container": true, "type": "related_section", "indent": 0, "role": "section", "extent": [5396, 5405], "body": [{"type": "related_item_group", "body": [{"ext": null, "type": "related_item", "indent": 0, "text": [{"scheme": "Node", "value": "/nodes/lop/configurestage", "type": "link", "text": "", "fullpath": "/nodes/lop/configurestage"}], "role": "item", "extent": [5405, 5434]}, {"ext": null, "type": "related_item", "indent": 0, "text": [{"scheme": "Node", "value": "/nodes/lop/configureprimitive", "type": "link", "text": "", "fullpath": "/nodes/lop/configureprimitive"}], "role": "item", "extent": [5434, 5466]}, {"ext": null, "type": "related_item", "indent": 0, "text": [{"scheme": "Node", "value": "/nodes/lop/configureproperty", "type": "link", "text": "", "fullpath": "/nodes/lop/configureproperty"}], "role": "item", "extent": [5466, 5497]}], "container": true, "role": "item_group"}], "text": "Related"}], "title": ["Configure Layer"], "summary": ["Edits metadata on a layer."], "included": ["/nodes/lop/_custom_data"]}