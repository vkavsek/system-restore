{"type": "root", "attrs": {"type": "node", "context": "sop", "internal": "attribpromote", "icon": "SOP/attribpromote", "tags": "attrs, tech", "version": null, "namespace": null}, "body": [{"level": 0, "type": "title", "indent": 0, "text": ["Attribute Promote"], "extent": [0, 22]}, {"type": "summary", "indent": 0, "text": ["Promotes or demotes attributes from one geometry level to another."], "extent": [119, 193]}, {"type": "para", "indent": 0, "text": ["This provides a straightforward way to convert an attribute\nfrom one class to another. For example, a point attribute can be\nconverted to a primitive attribute, using any one of a number of\ndifferent merge methods."], "extent": [193, 409]}, {"type": "para", "indent": 0, "text": ["For index attributes, the merge methods treat the attribute as a string.\nAverage will perform median, sum will perform concatenation, and the other\nnumeric methods will just resort to ", {"type": "ui", "text": ["First Match"]}, "."], "extent": [409, 611]}, {"type": "para", "indent": 0, "text": ["For attributes with multiple components (such as vector), each merge is\ndone on each component independently."], "extent": [611, 722]}, {"type": "note_group", "body": [{"type": "note", "indent": 0, "role": "item", "extent": [722, 728], "body": [{"type": "para", "indent": 4, "text": ["Use Attribute Promote when you want to copy attributes between geometry in the same stream (it has one input). Use ", {"scheme": "Node", "value": "/nodes/sop/attribtransfer", "type": "link", "text": ["Attribute Transfer"], "fullpath": "/nodes/sop/attribtransfer"}, " when you want to copy attributes on geometry in one input onto geometry in another input."], "extent": [728, 983]}], "container": true}], "container": true, "role": "item_group"}, {"level": 1, "id": "parameters", "container": true, "type": "parameters_section", "indent": 0, "role": "section", "extent": [983, 995], "body": [{"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 4, "text": ["Original Name"], "extent": [995, 1014], "body": [{"type": "para", "indent": 8, "text": ["This is the name of the attribute in the source class. Eg: ", {"type": "code", "text": ["Cd"]}, "\n        will pick color.  This can also be a pattern or space separated list of\n        attributes, such as ", {"type": "code", "text": ["*"]}, " or ", {"type": "code", "text": ["Cd pscale"]}, "."], "extent": [1014, 1214]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Original Class"], "extent": [1214, 1234], "body": [{"type": "para", "indent": 8, "text": ["This is the class which the attribute starts in. It can be one\n        of point, primitive, detail, or vertex."], "extent": [1234, 1353]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["New Class"], "extent": [1353, 1368], "body": [{"type": "para", "indent": 8, "text": ["This is the class to which the attribute should be promoted.\n        Unless ", {"type": "ui", "text": ["Use Piece Attribute"]}, " is enabled, it must be different than ", {"type": "ui", "text": ["Original Class"]}, " or a warning is raised and nothing is done."], "extent": [1368, 1577]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Piece Attribute"], "extent": [1577, 1598], "body": [{"type": "para", "indent": 8, "text": ["The name of a partition attribute in the ", {"type": "ui", "text": ["New Class"]}, ", which must be a string or integer type.\n        Each point/vertex/primitive where the attribute has the same value is considered part of the same piece.\n        The ", {"type": "ui", "text": ["Promotion Method"]}, " will be applied using the corresponding elements in the ", {"type": "ui", "text": ["Original Class"]}, " for the piece, and the result will be written to all of the piece\u2019s elements.\n        For example, when promoting from points to primitives, the ", {"type": "ui", "text": ["Promotion Method"]}, " will be applied to all of the points referenced by the primitives in the piece.\n        Elements from the ", {"type": "ui", "text": ["Original Class"]}, " will not be included multiple times (for example, if a point is referenced by multiple primitives in the piece).\n        Elements from the ", {"type": "ui", "text": ["Original Class"]}, " will also be ordered by index (for example, ", {"type": "ui", "text": ["First Match"]}, " will return the value for the lowest point index of any point referenced by the piece\u2019s primitives).\n        The ", {"type": "ui", "text": ["Original Class"]}, " may also be the same as the ", {"type": "ui", "text": ["New Class"]}, " when using a piece attribute - for example, this can be used to compute the average value of an attribute for each piece."], "extent": [1598, 2728]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Promotion Method"], "extent": [2728, 2750], "body": [{"type": "para", "indent": 8, "text": ["Whenever there is more than one attribute in the original class\n        which matches a single entity in the new class, some method must\n        be used to determine the new value. For example, if converting\n        from point attribute to primitive attribute, there will be many\n        points corresponding to a single polygon."], "extent": [2770, 3109]}, {"type": "dt_group", "body": [{"type": "dt", "indent": 8, "text": ["Maximum"], "extent": [3109, 3126], "body": [{"type": "para", "indent": 12, "text": ["Picks the largest match."], "extent": [3126, 3163]}], "container": true}, {"type": "dt", "indent": 8, "text": ["Minimum"], "extent": [3163, 3180], "body": [{"type": "para", "indent": 12, "text": ["Picks the smallest match."], "extent": [3180, 3218]}], "container": true}, {"type": "dt", "indent": 8, "text": ["Average"], "extent": [3218, 3235], "body": [{"type": "para", "indent": 12, "text": ["The mean, or the sum of all matches divided by the number of\n            matches."], "extent": [3235, 3329]}], "container": true}, {"type": "dt", "indent": 8, "text": ["Mode"], "extent": [3329, 3343], "body": [{"type": "para", "indent": 12, "text": ["The most common match. If there is more than one most\n            common, it will be the minimum of the most common."], "extent": [3343, 3472]}], "container": true}, {"type": "dt", "indent": 8, "text": ["Median"], "extent": [3472, 3488], "body": [{"type": "para", "indent": 12, "text": ["The middle of the matches. If there is an even number of\n            elements, it is the higher of the two possible middles."], "extent": [3488, 3625]}], "container": true}, {"type": "dt", "indent": 8, "text": ["Sum"], "extent": [3625, 3638], "body": [{"type": "para", "indent": 12, "text": ["All of the matches added together."], "extent": [3638, 3685]}], "container": true}, {"type": "dt", "indent": 8, "text": ["Sum of Squares"], "extent": [3685, 3709], "body": [{"type": "para", "indent": 12, "text": ["All of the matches squared, and then added together."], "extent": [3709, 3774]}], "container": true}, {"type": "dt", "indent": 8, "text": ["Root Mean Square"], "extent": [3774, 3800], "body": [{"type": "para", "indent": 12, "text": ["The square root of the average of the squares of all the\n            matches."], "extent": [3800, 3890]}], "container": true}, {"type": "dt", "indent": 8, "text": ["First Match"], "extent": [3890, 3911], "body": [{"type": "para", "indent": 12, "text": ["The first valid match. For promoting points to primitives,\n            this would be the point of the first vertex in the\n            primitive."], "extent": [3911, 4068]}], "container": true}, {"type": "dt", "indent": 8, "text": ["Last Match"], "extent": [4068, 4088], "body": [{"type": "para", "indent": 12, "text": ["The last valid match. For promoting points to primitives,\n            this would be the point of the last vertex in the\n            primitive."], "extent": [4088, 4243]}], "container": true}, {"type": "dt", "indent": 8, "text": ["Array of All"], "extent": [4243, 4265], "body": [{"type": "para", "indent": 12, "text": ["Provided the source attribute is a tuple attribute, a new\n            array attribute is created.  The array attribute is populated\n            with all the values of the matches."], "extent": [4265, 4457]}], "container": true}], "container": true}], "container": true, "attrs": {"id": "method"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Change New Name"], "extent": [4457, 4478], "body": [{"type": "para", "indent": 8, "text": ["If not set, the new attribute name will match the original\n        name."], "extent": [4478, 4559]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["New Name"], "extent": [4559, 4573], "body": [{"type": "para", "indent": 8, "text": ["The new name for the attribute if ", {"type": "ui", "text": ["Change New Name"]}, " is set.\n        If the source is a pattern, this new name should be a pattern that can\n        expand to the same length.  Glob-style renaming is done, so if the\n        matching pattern is ", {"type": "code", "text": ["instance*"]}, " and the new name is ", {"type": "code", "text": ["my*instance"]}, ", then\n        the attribute ", {"type": "code", "text": ["instancepoint"]}, " would be promoted into ", {"type": "code", "text": ["mypointinstance"]}, "."], "extent": [4573, 4957]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Delete Original"], "extent": [4957, 4978], "body": [{"type": "para", "indent": 8, "text": ["If set, the original attribute is deleted after promotion. Note that in some cases, such as promoting a vertex attribute to a point attribute of the same name, the original attribute will always be deleted. To avoid this, rename the attribute when promoting."], "extent": [4978, 5246]}], "container": true, "role": "item"}], "container": true, "role": "item_group"}], "text": "Parameters"}, {"level": 1, "id": "related", "container": true, "type": "related_section", "indent": 0, "role": "section", "extent": [5246, 5255], "body": [{"type": "bullet_group", "body": [{"blevel": 6, "type": "bullet", "indent": 4, "text": [{"scheme": "Node", "value": "/nodes/sop/attribute", "type": "link", "text": "", "fullpath": "/nodes/sop/attribute"}], "extent": [5255, 5282]}, {"blevel": 6, "type": "bullet", "indent": 4, "text": [{"scheme": "Node", "value": "/nodes/sop/attribcreate", "type": "link", "text": "", "fullpath": "/nodes/sop/attribcreate"}], "extent": [5282, 5313]}], "container": true}], "text": "Related"}], "title": ["Attribute Promote"], "summary": ["Promotes or demotes attributes from one geometry level to another."]}