{"type": "root", "attrs": {"type": "node", "context": "sop", "internal": "block_begin", "icon": "SOP/block_begin", "tags": "tech, loop", "since": "14.5", "version": null, "namespace": null}, "body": [{"level": 0, "type": "title", "indent": 0, "text": ["Block Begin"], "extent": [0, 16]}, {"type": "summary", "indent": 0, "text": ["The start of a looping block."], "extent": [121, 158]}, {"type": "para", "indent": 0, "text": ["See ", {"scheme": null, "value": "/model/looping", "type": "link", "text": ["looping in geometry networks"], "fullpath": "/model/looping"}, " for general information on how to use this node and ", {"scheme": "Node", "value": "/nodes/sop/block_end", "type": "link", "text": ["Block End"], "fullpath": "/nodes/sop/block_end"}, "."], "extent": [158, 293]}, {"level": 1, "id": "parameters", "container": true, "type": "parameters_section", "indent": 0, "role": "section", "extent": [293, 305], "body": [{"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 0, "text": ["Method"], "extent": [305, 314], "body": [{"type": "dt_group", "body": [{"type": "dt", "indent": 4, "text": ["Fetch Feedback"], "extent": [314, 334], "body": [{"type": "para", "indent": 8, "text": ["The node\u2019s input is used as the output for the first iteration, but subsequent iterations use the output of the previous iteration (that is, the output of the ", {"scheme": "Node", "value": "/nodes/sop/block_end", "type": "link", "text": ["Block End"], "fullpath": "/nodes/sop/block_end"}, " referenced in ", {"type": "ui", "text": ["Block path"]}, ") to create a feedback loop. This lets you apply the same set of nodes to a piece of geometry over and over."], "extent": [334, 674]}], "container": true}, {"type": "dt", "indent": 4, "text": ["Extract Piece or Point"], "extent": [674, 702], "body": [{"type": "para", "indent": 8, "text": ["At each iteration, the output is one ", {"type": "q", "text": ["piece"]}, " from this node\u2019s input. A piece is defined as all elements where partition attribute such as ", {"type": "code", "text": ["piece"]}, " or ", {"type": "code", "text": ["name"]}, " has the same value. The piece attribute name is set on the Block End in the ", {"type": "ui", "text": ["Template attribute"]}, " parameter. If no attribute exists, fetches each point or primitive (according to the ", {"type": "ui", "text": ["Template class"]}, " on the Block End)."], "extent": [702, 1089]}, {"type": "note_group", "body": [{"type": "note", "indent": 8, "role": "item", "extent": [1089, 1103], "body": [{"type": "para", "indent": 12, "text": ["If you use this method and gather the results using ", {"scheme": "Node", "value": "/nodes/sop/block_end#method", "type": "link", "text": ["Merge Each Iteration"], "fullpath": "/nodes/sop/block_end#method", "fragment": "#method"}, ", then the point and primitive numbers will be renumbered to be contiguous within their piece."], "extent": [1103, 1319]}], "container": true}], "container": true, "role": "item_group"}], "container": true}, {"type": "dt", "indent": 4, "text": ["Fetch Metadata"], "extent": [1319, 1339], "body": [{"type": "para", "indent": 8, "text": ["Creates an empty geometry with detail attributes containing information about the current loop. You would use this in a loop created by another Block Begin in ", {"type": "q", "text": ["Fetch feedback"]}, " or ", {"type": "q", "text": ["Fetch piece"]}, " mode, and then reference these attributes from inside the loop using the ", {"scheme": "Exp", "value": "/expressions/detail", "type": "link", "text": "", "fallback_text": "detail()", "fullpath": "/expressions/detail"}, " function."], "extent": [1339, 1645]}, {"type": "para", "indent": 8, "text": ["See ", {"scheme": null, "value": "/model/looping#metadata", "type": "link", "text": ["the looping documentation"], "fullpath": "/model/looping#metadata", "fragment": "#metadata"}, " for how to use this."], "extent": [1645, 1731]}], "container": true}, {"type": "dt", "indent": 4, "text": ["Fetch Input"], "extent": [1731, 1748], "body": [{"type": "para", "indent": 7, "text": ["Copies the input.  This is equivalent to just wiring directly past the block begin, but can sometimes result in a more semantically meaningful network."], "extent": [1748, 1908]}], "container": true}], "container": true}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Block Path"], "extent": [1908, 1920], "body": [{"type": "para", "indent": 4, "text": ["The path to the ", {"scheme": "Node", "value": "/nodes/sop/block_end", "type": "link", "text": ["Block End"], "fullpath": "/nodes/sop/block_end"}, " representing the end point of this loop."], "extent": [1920, 2013]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Reset Cached Pass"], "extent": [2013, 2032], "body": [{"type": "para", "indent": 4, "text": ["After cooking, this node caches the value it had in the last iteration. This lets you debug the last iteration by moving the display flag around inside the loop. Clicking this button clears the cache, so until the final node cooks again, this node show the initial state."], "extent": [2032, 2309]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Create Meta Import Node"], "extent": [2309, 2334], "body": [{"type": "para", "indent": 4, "text": ["Create a separate node with metadata in detail attributes. You can access the attributes using the ", {"scheme": "Exp", "value": "/expressions/detail", "type": "link", "text": "", "fallback_text": "detail()", "fullpath": "/expressions/detail"}, " expression function. See ", {"scheme": null, "value": "/model/looping", "type": "link", "text": ["looping in geometry networks"], "fullpath": "/model/looping"}, " for more information."], "extent": [2334, 2544]}], "container": true, "role": "item"}], "container": true, "role": "item_group"}], "text": "Parameters"}, {"level": 1, "id": "inputs", "container": true, "type": "inputs_section", "indent": 0, "role": "section", "extent": [2544, 2552], "body": [{"type": "dt_group", "body": [{"type": "dt", "indent": 0, "text": ["Initial Geometry"], "extent": [2552, 2571], "body": [{"type": "para", "indent": 4, "text": ["When ", {"type": "ui", "text": ["Method"]}, " is ", {"type": "q", "text": ["Fetch feedback"]}, ", this is the input to the first iteration. When ", {"type": "ui", "text": ["Method"]}, " is ", {"type": "q", "text": ["Fetch piece"]}, ", this is the source of the pieces."], "extent": [2571, 2723]}], "container": true}], "container": true}], "text": "Inputs"}, {"level": 1, "id": "related", "container": true, "type": "related_section", "indent": 0, "role": "section", "extent": [2723, 2732], "body": [{"type": "bullet_group", "body": [{"blevel": 2, "type": "bullet", "indent": 0, "text": [{"scheme": null, "value": "/model/looping", "type": "link", "text": ["Looping in geometry networks"], "fullpath": "/model/looping"}], "extent": [2732, 2781]}, {"blevel": 2, "type": "bullet", "indent": 0, "text": [{"scheme": "Node", "value": "/nodes/sop/block_end", "type": "link", "text": "", "fullpath": "/nodes/sop/block_end"}], "extent": [2781, 2804]}], "container": true}], "text": "Related"}], "title": ["Block Begin"], "summary": ["The start of a looping block."]}