{"type": "root", "attrs": {"type": "node", "context": "sop", "internal": "cache", "icon": "MISC/generic", "tags": "tech, optimize, anim", "version": null, "namespace": null}, "body": [{"level": 0, "type": "title", "indent": 0, "text": ["Cache"], "extent": [0, 10]}, {"type": "summary", "indent": 0, "text": ["Records and caches its input geometry for faster playback."], "extent": [103, 169]}, {"type": "para", "indent": 0, "text": ["Use this when ", {"scheme": null, "value": "/basics/cooking", "type": "link", "text": ["cook"], "fullpath": "/basics/cooking"}, " times for a chain of ops is long\nand you need quicker playback, at the expense of using more memory."], "extent": [169, 308]}, {"type": "para", "indent": 0, "text": ["Once cached, the geometries can be accessed in any order. This is\nbetter than a 2D flipbook or scene render since the geometry is\nstill three dimensional. It is also ideal for pop networks since once\nit\u2019s cached you can play it forward or backward."], "extent": [308, 558]}, {"type": "para", "indent": 0, "text": ["This lets you scrub otherwise sluggish animations in real time,\nplay pop networks backwards, etc. because the animation is\nprecomputed and stored in memory."], "extent": [558, 716]}, {"type": "para", "indent": 0, "text": ["You can automate invalidation of the cache by connecting a node to the second\nreference input of this SOP.  Any modification of parameters in the reference\ninput chain will clear the cache, however updates to the parameters due to time changes\nwill not. The first and second inputs can be connected to the same or different nodes."], "extent": [716, 1048]}, {"type": "note_group", "body": [{"type": "note", "indent": 0, "role": "item", "extent": [1048, 1054], "body": [{"type": "para", "indent": 4, "text": ["This node can also be used a sliding cache around the current frame\n    by putting expressions such as ", {"type": "code", "text": ["$F-3"]}, " and ", {"type": "code", "text": ["$F+3"]}, " in the ", {"type": "code", "text": ["Start/End"]}, "\n    parameters.  A sliding cache can greatly accelerate calculations that\n    involve multiple time-shifting nodes, such as calculating point velocities with a\n    ", {"scheme": "Node", "value": "/nodes/sop/trail", "type": "link", "text": ["Trail SOP"], "fullpath": "/nodes/sop/trail"}, " from geometry interpolated by a ", {"scheme": "Node", "value": "/nodes/sop/timeblend", "type": "link", "text": ["TimeBlend SOP"], "fullpath": "/nodes/sop/timeblend"}, "."], "extent": [1054, 1458]}], "container": true}], "container": true, "role": "item_group"}, {"level": 1, "id": "parameters", "container": true, "type": "parameters_section", "indent": 0, "role": "section", "extent": [1458, 1470], "body": [{"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 0, "text": ["Cache Any Frame"], "extent": [1470, 1488], "body": [{"type": "para", "indent": 4, "text": ["When enabled, there is no frame range limitation or granularity limitation on which frames will be cached.\n    Instead, there is just a ", {"type": "ui", "text": ["Max Frames to Cache"]}, " parameter."], "extent": [1507, 1683]}], "container": true, "attrs": {"id": "anyframe"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Max Frames to Cache"], "extent": [1683, 1704], "body": [{"type": "para", "indent": 4, "text": ["When ", {"type": "ui", "text": ["Cache Any Frame"]}, " is enabled, this indicates the maximum number of different frames of geometry to keep cached.\n    Lower this to reduce the risk of running out of memory.\n    Raise it if more frames need to stay cached."], "extent": [1724, 1957]}], "container": true, "attrs": {"id": "maxframes"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Clear Cache when Change Upstream"], "extent": [1957, 1991], "body": [{"type": "para", "indent": 4, "text": ["When enabled, if a parameter or connection is explicitly changed upstream,\n    i.e. excluding changes that are just due to time changing, the cache is cleared.\n    If the second input is used, this parameter is ignored, and the cache will\n    always be cleared when that input has such an upstream change."], "extent": [2017, 2328]}], "container": true, "attrs": {"id": "clear on change"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Start/End/Inc"], "extent": [2328, 2343], "body": [{"type": "para", "indent": 4, "text": ["A range of values at which to set the index and param name\n    when caching."], "extent": [2366, 2447]}], "container": true, "attrs": {"channels": "/range"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Index"], "extent": [2447, 2454], "body": [{"type": "para", "indent": 4, "text": ["Set to each value within the range for each geometry cached."], "extent": [2477, 2542]}], "container": true, "attrs": {"channels": "/index"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Index Param Name"], "extent": [2542, 2560], "body": [{"type": "para", "indent": 4, "text": ["A stampable parameter set to the index during caching."], "extent": [2583, 2642]}], "container": true, "attrs": {"channels": "/param"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Set Frame to Index When Caching"], "extent": [2642, 2675], "body": [{"type": "para", "indent": 4, "text": ["Set the local time to the index for each geometry cached."], "extent": [2702, 2764]}], "container": true, "attrs": {"channels": "/indextime"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Load"], "extent": [2764, 2770], "body": [{"type": "para", "indent": 4, "text": ["The loading behavior."], "extent": [2798, 2824]}], "container": true, "attrs": {"channels": "/loadmethod"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Reload All Cache"], "extent": [2824, 2842], "body": [{"type": "para", "indent": 4, "text": ["Clear the cache and reload everything."], "extent": [2866, 2909]}], "container": true, "attrs": {"channels": "/reload"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Clear Cache"], "extent": [2909, 2922], "body": [{"type": "para", "indent": 4, "text": ["Delete all the stored cache."], "extent": [2945, 2978]}], "container": true, "attrs": {"channels": "/clear"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Cache Points Only"], "extent": [2978, 2997], "body": [{"type": "para", "indent": 4, "text": ["Store a single topology for the first cached geometry and only\n    point data for the remaining geometries."], "extent": [3026, 3138]}], "container": true, "attrs": {"channels": "/cachepoints"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Blend Position"], "extent": [3138, 3154], "body": [{"type": "para", "indent": 4, "text": ["Interpolate points between geometries."], "extent": [3180, 3228]}, {"type": "para", "indent": 4, "text": ["To use this option, replace the ", {"type": "ui", "text": ["Index"]}, " with the floating point\n    frame number ", {"type": "code", "text": ["$FF"]}, "."], "extent": [3228, 3327]}, {"type": "para", "indent": 4, "text": ["To check that you are blending subframe, use the playbar options to\n    turn off integer frame values, and scrub the playbar slowly between\n    frames."], "extent": [3327, 3484]}], "container": true, "attrs": {"channels": "/blendpos"}, "role": "item"}], "container": true, "role": "item_group"}], "text": "Parameters"}, {"level": 1, "id": "related", "container": true, "type": "related_section", "indent": 0, "role": "section", "extent": [3484, 3493], "body": [{"type": "bullet_group", "body": [{"blevel": 6, "type": "bullet", "indent": 4, "text": [{"scheme": "Node", "value": "/nodes/sop/trail", "type": "link", "text": "", "fullpath": "/nodes/sop/trail"}], "extent": [3493, 3516]}, {"blevel": 6, "type": "bullet", "indent": 4, "text": [{"scheme": "Node", "value": "/nodes/sop/timeshift", "type": "link", "text": "", "fullpath": "/nodes/sop/timeshift"}], "extent": [3516, 3544]}], "container": true}], "text": "Related"}], "title": ["Cache"], "summary": ["Records and caches its input geometry for faster playback."]}