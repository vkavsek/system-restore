{"type": "root", "attrs": {"type": "node", "context": "sop", "internal": "convertvdb", "icon": "SOP/convertvdb", "tags": "convert, tessellate, volumes", "since": "12.5", "verb_since": "16.5", "version": null, "namespace": null}, "body": [{"level": 0, "type": "title", "indent": 0, "text": ["Convert VDB"], "extent": [0, 16]}, {"type": "summary", "indent": 0, "text": ["Converts sparse volumes."], "extent": [155, 187]}, {"type": "para", "indent": 0, "text": ["This node converts sparse volumes, or VDBs, into other types."], "extent": [187, 250]}, {"type": "para", "indent": 0, "text": ["It provides some extra options not available through the ", {"scheme": "Node", "value": "/nodes/sop/convert", "type": "link", "text": ["Convert SOP"], "fullpath": "/nodes/sop/convert"}, "."], "extent": [250, 340]}, {"type": "para", "indent": 0, "text": ["This also allows the conversion of volumes into VDBs."], "extent": [340, 395]}, {"type": "para", "indent": 0, "text": ["For converting to polygons, the second and third inputs can be optionally\nsupplied. The second input provides a reference polygon surface for converting\nthe volume, which is useful for converting fractured VDBs back to polygons.\nThe third provides additional VDB fields which can be used for\nmasking (which voxels to convert to polygons), and/or for specifying an\nadaptivity multiplier."], "extent": [395, 783]}, {"level": 1, "id": "parameters", "container": true, "type": "parameters_section", "indent": 0, "role": "section", "extent": [783, 795], "body": [{"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 0, "text": ["Group"], "extent": [795, 803], "body": [{"type": "para", "indent": 4, "text": ["Subset of primitives to convert."], "extent": [803, 845]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Convert To"], "extent": [845, 857], "body": [{"type": "para", "indent": 4, "text": ["What form of conversion to perform."], "extent": [857, 898]}, {"type": "dt_group", "body": [{"type": "dt", "indent": 4, "text": ["Volume"], "extent": [898, 910], "body": [{"type": "para", "indent": 8, "text": ["The VDB is converted to a dense volume.  This allows legacy tools\n        to understand the primitive.  VDBs with effective resolutions over\n        1000^3 will have difficulties being efficiently represented."], "extent": [910, 1133]}], "container": true}, {"type": "dt", "indent": 4, "text": ["VDB"], "extent": [1133, 1142], "body": [{"type": "para", "indent": 8, "text": ["Convert into a VDB."], "extent": [1142, 1171]}, {"type": "para", "indent": 8, "text": ["If the input is a Volume Primitive, it is converted into\n        a VDB.  The resulting VDB will be the same class as the input,\n        so a fog volume becomes a fog VDB, and a SDF volume an SDF VDB."], "extent": [1171, 1380]}], "container": true}, {"type": "dt", "indent": 4, "text": ["Polygons"], "extent": [1380, 1394], "body": [{"type": "para", "indent": 8, "text": ["The VDB is surfaced along the specified iso value.  Polygons\n        are created."], "extent": [1394, 1485]}], "container": true}, {"type": "dt", "indent": 4, "text": ["Polygon Soup"], "extent": [1485, 1503], "body": [{"type": "para", "indent": 8, "text": ["The VDB is surfaced, but a polygon soup is created.  While polygon\n        soups do not support most editing operations, they are a more\n        compact way of storing dense meshes."], "extent": [1503, 1694]}], "container": true}], "container": true}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Split Disjoint Volumes"], "extent": [1694, 1718], "body": [{"type": "para", "indent": 4, "text": ["When converting VDB to dense volumes, create multiple volume primitives per\n    VDB for unconnected regions where possible. This allows very large and\n    sparse VDBs to be converted with less memory usage."], "extent": [1718, 1930]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["VDB Class"], "extent": [1930, 1941], "body": [{"type": "para", "indent": 4, "text": ["If after converting the VDB, it is still a VDB, it is compared against\n    this class.  If it differs, it will be converted to the specified type."], "extent": [1941, 2093]}, {"type": "para", "indent": 4, "text": ["To change the class of the VDB without changing voxel values, use the Primitive SOP."], "extent": [2093, 2183]}, {"type": "dt_group", "body": [{"type": "dt", "indent": 4, "text": ["No Change"], "extent": [2183, 2198], "body": [{"type": "para", "indent": 8, "text": ["The VDB is left in its original class.  When converting from\n        volumes, this will be the detected class of the source volume."], "extent": [2198, 2339]}], "container": true}, {"type": "dt", "indent": 4, "text": ["Convert Fog to SDF"], "extent": [2339, 2363], "body": [{"type": "para", "indent": 8, "text": ["Fog VDBs will be surfaced along the iso value and then converted to\n        an SDF VDB.  This is equivalent to a Convert To Polygons followed\n        by a VDB From Mesh."], "extent": [2363, 2542]}], "container": true}, {"type": "dt", "indent": 4, "text": ["Convert SDF to Fog"], "extent": [2542, 2566], "body": [{"type": "para", "indent": 8, "text": ["SDF VDBs will be set to 1 in their interior and 0 on their\n        exterior.  The band in between will blend between these two values."], "extent": [2566, 2710]}], "container": true}], "container": true}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["VDB Type"], "extent": [2710, 2720], "body": [{"type": "para", "indent": 4, "text": ["Change the type of value stored at each voxel."], "extent": [2720, 2772]}, {"type": "para", "indent": 4, "text": ["When converting from a scalar type to a vector type, the scalar value\n    is copied to each vector component."], "extent": [2772, 2887]}, {"type": "para", "indent": 4, "text": ["When converting from a vector type to a scalar type, voxel values are\n    lost \u2013 only voxel topology is preserved."], "extent": [2887, 3008]}, {"type": "para", "indent": 4, "text": ["This option is not available when VDB class conversion is enabled,\n    since SDFs and fog volumes always have scalar, floating-point values."], "extent": [3008, 3154]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["VDB Precision"], "extent": [3154, 3169], "body": [{"type": "para", "indent": 4, "text": ["Change the numerical precision of the value stored at each voxel."], "extent": [3169, 3240]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Isovalue"], "extent": [3240, 3250], "body": [{"type": "para", "indent": 4, "text": ["The crossing point of the VDB values that is considered\n    the surface when converting to polygons."], "extent": [3250, 3356]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Fog Isovalue"], "extent": [3356, 3370], "body": [{"type": "para", "indent": 4, "text": ["The crossing point of the VDB values that is considered\n    the surface when converting to level sets from fog volumes."], "extent": [3370, 3495]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Prune Tolerance"], "extent": [3495, 3512], "body": [{"type": "para", "indent": 4, "text": ["After building the VDB grid there may be undetected constant tiles.\n    This tolerance is used to detect constant regions and collapse them.\n    Such areas that are within the background value will also be marked\n    inactive."], "extent": [3512, 3744]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Signed-Flood Fill Output"], "extent": [3744, 3770], "body": [{"type": "para", "indent": 4, "text": ["Tests areas of inactive background values to determine if they\n    are inside or outside of an SDF, and hence whether they should\n    have negative or positive sign. This toggle has no effect for non-SDF\n    volumes."], "extent": [3770, 3996]}, {"type": "note_group", "body": [{"type": "note", "indent": 4, "role": "item", "extent": [3996, 4006], "body": [{"type": "para", "indent": 12, "text": ["This is ignored when converting native fog volumes to VDB."], "extent": [4006, 4078]}], "container": true}], "container": true, "role": "item_group"}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Activate Inside Voxels"], "extent": [4078, 4102], "body": [{"type": "para", "indent": 4, "text": ["Mark all voxels active inside an SDF, even if they match the negative background\n    value.  This option is useful if processing the resulting VDB with VEX, which\n    only runs over active voxels of a VDB.  However, disabling this option will retain only\n    the narrow active internal band of an incoming SDF if it has one, saving memory\n    and downstream processing.  This toggle has no effect for non-SDF\n    volumes, or if ", {"type": "ui", "text": ["Signed-Flood Fill Output"]}, " is disabled."], "extent": [4102, 4581]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Adaptivity"], "extent": [4581, 4593], "body": [{"type": "para", "indent": 4, "text": ["How closely to match the surface when converting to polygons.\n    Higher adaptivities will allow more variation in polygon size,\n    using fewer polygons to express the surface."], "extent": [4593, 4780]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Compute Vertex Normals"], "extent": [4780, 4804], "body": [{"type": "para", "indent": 4, "text": ["Compute vertex normals when converting to polygons. This uses the\n    optional second input to help eliminate seams if available."], "extent": [4804, 4943]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Internal Adaptivity"], "extent": [4943, 4964], "body": [{"type": "para", "indent": 4, "text": ["When converting to polygons with a second input, this is the adaptivity\n    threshold for regions that are inside the reference surface."], "extent": [4964, 5110]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Transfer Surface Attributes"], "extent": [5110, 5139], "body": [{"type": "para", "indent": 4, "text": ["When converting to polygons with a second input, this transfers all\n    attributes (primitive, vertex and point) from the reference surface.\n    It will override computed vertex normals for primitives in the surface\n    group."], "extent": [5139, 5375]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Sharpen Features"], "extent": [5375, 5393], "body": [{"type": "para", "indent": 4, "text": ["Sharpen edges and corners."], "extent": [5393, 5429]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Edge Tolerance"], "extent": [5429, 5445], "body": [{"type": "para", "indent": 4, "text": ["Controls the edge adaptivity mask."], "extent": [5445, 5489]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Surface Group"], "extent": [5489, 5504], "body": [{"type": "para", "indent": 4, "text": ["When converting to polygons with a second input, this specifies a group\n    for all polygons that are coincident with the reference surface.\n    This group is useful for transferring attributes such as uv\n    coordinates, normals, etc. from the reference surface."], "extent": [5504, 5777]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Interior Group"], "extent": [5777, 5793], "body": [{"type": "para", "indent": 4, "text": ["When converting to polygons with a second input, this specifies a group\n    for all polygons that are inside the reference surface.\n    These group is useful for creating projected UV coordinates, or for\n    assigning a different material."], "extent": [5793, 6042]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Seam Line Group"], "extent": [6042, 6059], "body": [{"type": "para", "indent": 4, "text": ["When converting to polygons with a second input, this parameter specifies a group\n    for all polygons that are near the seam lines. This can be used to drive secondary elements such as debris and dust."], "extent": [6059, 6271]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Seam Points"], "extent": [6271, 6284], "body": [{"type": "para", "indent": 4, "text": ["When converting to polygons with a second input, this parameter specifies a group\n    of the fracture seam points. This can be used to drive local pre-fracture dynamics, such as local surface buckling."], "extent": [6284, 6495]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Surface Mask"], "extent": [6495, 6509], "body": [{"type": "para", "indent": 4, "text": ["If enabled, specifies the name of the VDB field from the third input to\n    be used for masking.  The field\u2019s interior defines the region for\n    converting to polygons."], "extent": [6509, 6688]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Mask Offset"], "extent": [6688, 6701], "body": [{"type": "para", "indent": 4, "text": ["Iso value used to offset the interior region of the surface mask."], "extent": [6701, 6776]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Invert Surface Mask"], "extent": [6776, 6797], "body": [{"type": "para", "indent": 4, "text": ["Causes the complement of the surface mask to be converted instead."], "extent": [6797, 6873]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Adaptivity Field"], "extent": [6873, 6891], "body": [{"type": "para", "indent": 4, "text": ["If enabled, specifies the name of the VDB field from the third input for controlling adaptivity. The voxel values are multiplied with the ", {"type": "ui", "text": ["Adaptivity"]}, " parameter value."], "extent": [6891, 7066]}], "container": true, "role": "item"}], "container": true, "role": "item_group"}], "text": "Parameters"}, {"level": 1, "id": "related", "container": true, "type": "related_section", "indent": 0, "role": "section", "extent": [7066, 7075], "body": [{"type": "bullet_group", "body": [{"blevel": 2, "type": "bullet", "indent": 0, "text": [{"scheme": "Node", "value": "/nodes/sop/convert", "type": "link", "text": "", "fullpath": "/nodes/sop/convert"}], "extent": [7075, 7097]}, {"blevel": 2, "type": "bullet", "indent": 0, "text": [{"scheme": "Node", "value": "/nodes/sop/convertvolume", "type": "link", "text": "", "fullpath": "/nodes/sop/convertvolume"}], "extent": [7097, 7124]}, {"blevel": 2, "type": "bullet", "indent": 0, "text": [{"scheme": "Node", "value": "/nodes/sop/vdb", "type": "link", "text": "", "fullpath": "/nodes/sop/vdb"}], "extent": [7124, 7141]}, {"blevel": 2, "type": "bullet", "indent": 0, "text": [{"scheme": "Node", "value": "/nodes/sop/vdbfromparticles", "type": "link", "text": "", "fullpath": "/nodes/sop/vdbfromparticles"}], "extent": [7141, 7172]}], "container": true}], "text": "Related"}], "title": ["Convert VDB"], "summary": ["Converts sparse volumes."]}