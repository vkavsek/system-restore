{"type": "root", "attrs": {"type": "node", "context": "sop", "internal": "dopimport", "icon": "SOP/dopimport", "version": "2.0", "since": "19.5", "verb_since": "19.5", "tags": "dynamics, io, transfer", "namespace": null}, "body": [{"level": 0, "type": "title", "indent": 0, "text": ["DOP Import"], "extent": [144, 159]}, {"type": "summary", "indent": 0, "text": ["Imports geometry or transforms from a DOP simulation."], "extent": [159, 221]}, {"type": "para", "indent": 0, "text": ["The DOP Import SOP imports geometry from objects or relationships in a DOP network, or can create points representing the object\u2019s transforms (for use with ", {"scheme": "Node", "value": "/nodes/sop/xformpieces", "type": "link", "text": ["Transform Pieces"], "fullpath": "/nodes/sop/xformpieces"}, ").\nThe ", {"type": "ui", "text": ["Import Style"]}, " parameter can be used to select between the different modes of operation."], "extent": [221, 515]}, {"type": "para", "indent": 0, "text": ["DOP objects have two distinct transforms associated with them.\nOne comes from the ", {"type": "code", "text": ["Position"]}, " data attached to the object.\nThe other comes from the ", {"type": "code", "text": ["Geometry"]}, " data on the object, which has an inherent transform associated with it.\nThis SOP can apply either, both, or neither of these two transforms."], "extent": [515, 815]}, {"level": 2, "id": "pointvels", "container": true, "type": "h", "indent": 0, "text": ["Point velocities"], "extent": [815, 852], "body": [{"type": "para", "indent": 0, "text": ["In addition to transforming the geometry, this SOP can create a velocity point attribute on the geometry."], "extent": [852, 960]}, {"type": "para", "indent": 0, "text": ["This velocity is calculated by combining any velocity attribute on the geometry in the DOP simulation (such as those set by the Cloth Solver) and the overall object velocity and angular velocity stored in the object\u2019s ", {"type": "code", "text": ["Position"]}, " data.\nThis SOP can calculate an instantaneous velocity for each point by combining the linear and angular velocities of the object, or it can integrate the two velocities over some timestep.\nThe instantaneous velocity approach is a true representation of the velocity of each point, but if the object has a high angular velocity then rendering with these instantaneous velocities may make the object appear to be exploding in the render.\nIn this case, integrated velocities can be used to ensure the extrapolated points stay ", {"type": "q", "text": ["inside"]}, " the object\u2019s geometry.\nThe ", {"type": "ui", "text": ["Integrate Over Time"]}, " parameter specifies the integration interval and should be set to match your timestep, or the duration of each geometry segment when using multi-segment motion blur."], "extent": [960, 1941]}, {"type": "para", "indent": 0, "text": ["When importing DOP Objects as points, this option is disabled.\nThe DOP Object overall velocity is always assigned to the point representing that object.\nThe ", {"scheme": "Node", "value": "/nodes/sop/xformpieces", "type": "link", "text": ["Transform Pieces SOP"], "fullpath": "/nodes/sop/xformpieces"}, " can create a velocity point attribute on the transformed geometry."], "extent": [1941, 2210]}]}, {"level": 1, "id": "parameters", "container": true, "type": "parameters_section", "indent": 0, "role": "section", "extent": [2210, 2222], "body": [{"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 0, "text": ["DOP Network"], "extent": [2222, 2236], "body": [{"type": "para", "indent": 4, "text": ["The DOP Network to import objects or relationships from."], "extent": [2254, 2316]}], "container": true, "attrs": {"id": "doppath"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Objects"], "extent": [2316, 2325], "body": [{"type": "para", "indent": 4, "text": ["Specifies the simulation objects that should be imported."], "extent": [2346, 2409]}], "container": true, "attrs": {"id": "objpattern"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Relationships"], "extent": [2409, 2424], "body": [{"type": "para", "indent": 4, "text": ["Specifies the relationships in the simulation to import geometry from.\n    For example, this can be used to import the geometry of a ", {"scheme": "Node", "value": "/nodes/dop/constraintnetwork", "type": "link", "text": ["constraint network relationship"], "fullpath": "/nodes/dop/constraintnetwork"}, "."], "extent": [2445, 2645]}], "container": true, "attrs": {"id": "relpattern"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Do Not Trigger Simulation"], "extent": [2645, 2672], "body": [{"type": "para", "indent": 4, "text": ["If the DOP simulation being imported is out of date, the old cached value will be returned rather than trying to simulate.\n    This avoids recursion problems when viewing a SOP chain being used by a ", {"scheme": "Node", "value": "/nodes/dop/sopsolver", "type": "link", "text": ["SOP Solver"], "fullpath": "/nodes/dop/sopsolver"}, " that would store bad geometry in the simulation cache."], "extent": [2691, 2982]}], "container": true, "attrs": {"id": "donotsim"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Import Style"], "extent": [2982, 2996], "body": [{"type": "para", "indent": 4, "text": ["Controls the mode of operation for this SOP."], "extent": [3018, 3068]}, {"type": "dt_group", "body": [{"type": "dt", "indent": 4, "text": ["Fetch Geometry from DOP Network"], "extent": [3068, 3105], "body": [{"type": "para", "indent": 8, "text": ["Imports geometry from the specified DOP objects or relationships.\n        This is similar to the functionality provided by the Object Merge SOP, but geared towards DOP Networks.\n        This node provides better control over how the geometry is transformed, and provides parameters that are easier to use for this purpose."], "extent": [3105, 3437]}], "container": true}, {"type": "dt", "indent": 4, "text": ["Create Points to Represent Objects"], "extent": [3437, 3477], "body": [{"type": "para", "indent": 8, "text": ["Creates one point per simulation object, and sets attributes on that point to represent the position, orientation, velocity, and geometry for that object.\n        This allows for very light weight geometry to be generated from a DOP Network.\n        For an ", {"scheme": "Node", "value": "/nodes/dop/rbdpackedobject", "type": "link", "text": ["RBD Packed Object"], "fullpath": "/nodes/dop/rbdpackedobject"}, ", a point is created for each packed primitive in the geometry.\n        The ", {"scheme": "Node", "value": "/nodes/sop/xformpieces", "type": "link", "text": ["Transform Pieces SOP"], "fullpath": "/nodes/sop/xformpieces"}, " can be used to apply the transforms to other geometry (for example, to transform high-res pieces based on a simulation with low-res proxies)."], "extent": [3477, 4049]}], "container": true}], "container": true}], "container": true, "attrs": {"id": "importstyle"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Geometry Data Path"], "extent": [4049, 4069], "body": [{"type": "para", "indent": 4, "text": ["The subdata path for the geometry to import from the DOP objects.\n    This can be a pattern or list of subdata paths to import geometry from.\n    The same data path will be used for all source objects.\n    If left blank, the object\u2019s ", {"type": "code", "text": ["Geometry"]}, " subdata is used."], "extent": [4091, 4358]}], "container": true, "attrs": {"id": "geodatapath"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Pack Geometry Before Merging"], "extent": [4358, 4388], "body": [{"type": "para", "indent": 4, "text": ["Creates a packed geometry primitive for each DOP object or relationship that is being imported.\n    This can be useful to import geometry from multiple objects without merging their geometry and attributes."], "extent": [4403, 4615]}], "container": true, "attrs": {"id": "pack"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Pivot Location"], "extent": [4615, 4631], "body": [{"type": "para", "indent": 4, "text": ["Specifies how to initialize the offset for the point referenced by the packed primitive."], "extent": [4647, 4741]}], "container": true, "attrs": {"id": "pivot"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Display As"], "extent": [4741, 4753], "body": [{"type": "para", "indent": 4, "text": ["Specifies how the packed primitives should be displayed in the viewport."], "extent": [4775, 4853]}], "container": true, "attrs": {"id": "viewportlod"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Add DOP Object Path Attribute"], "extent": [4853, 4884], "body": [{"type": "para", "indent": 4, "text": ["Adds a ", {"type": "code", "text": ["dopobject"]}, " primitive string attribute, which contains the path of the DOP Network followed by the DOP object id (or the relationship name, when importing a relationship).\n    A ", {"type": "code", "text": ["doppath"]}, " detail string attribute is also created, which contains the path of the creator DOP node for the primary object being imported."], "extent": [4911, 5239]}], "container": true, "attrs": {"id": "adddopobjectpath"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Add DOP Object Name Attribute"], "extent": [5239, 5270], "body": [{"type": "para", "indent": 4, "text": ["If enabled, adds a primitive string attribute containing the name of the DOP object or relationship."], "extent": [5297, 5403]}], "container": true, "attrs": {"id": "adddopobjectname"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["DOP Object Name Attribute"], "extent": [5403, 5430], "body": [{"type": "para", "indent": 4, "text": ["Specifies the name of the attribute to create when ", {"type": "ui", "text": ["Add DOP Object Name Attribute"]}, " is enabled."], "extent": [5460, 5562]}], "container": true, "attrs": {"id": "dopobjectnameattrib"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Add DOP Data Path Attribute"], "extent": [5562, 5591], "body": [{"type": "para", "indent": 4, "text": ["If enabled, adds a primitive string attribute containing the subdata path for the imported geometry.\n    When the ", {"type": "ui", "text": ["Geometry Data Path"]}, " contains a pattern or list of paths, this can be useful to identify where the geometry was imported from."], "extent": [5616, 5864]}], "container": true, "attrs": {"id": "adddopdatapath"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["DOP Data Path Attribute"], "extent": [5864, 5889], "body": [{"type": "para", "indent": 4, "text": ["Specifies the name of the attribute to create when ", {"type": "ui", "text": ["Add DOP Data Path Attribute"]}, " is enabled."], "extent": [5917, 6017]}], "container": true, "attrs": {"id": "dopdatapathattrib"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Transfer Attributes"], "extent": [6017, 6038], "body": [{"type": "para", "indent": 4, "text": ["Specifies a list of attributes to transfer to the generated points when ", {"type": "ui", "text": ["Import Style"]}, " is ", {"type": "ui", "text": ["Create Points to Represent Objects"]}, " and the DOP object is an ", {"scheme": "Node", "value": "/nodes/dop/rbdpackedobject", "type": "link", "text": ["RBD Packed Object"], "fullpath": "/nodes/dop/rbdpackedobject"}, "."], "extent": [6067, 6274]}], "container": true, "attrs": {"id": "transferattributes"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Transfer Groups"], "extent": [6274, 6291], "body": [{"type": "para", "indent": 4, "text": ["Specifies a list of groups to transfer to the generated points when ", {"type": "ui", "text": ["Import Style"]}, " is ", {"type": "ui", "text": ["Create Points to Represent Objects"]}, " and the DOP object is an ", {"scheme": "Node", "value": "/nodes/dop/rbdpackedobject", "type": "link", "text": ["RBD Packed Object"], "fullpath": "/nodes/dop/rbdpackedobject"}, "."], "extent": [6316, 6519]}], "container": true, "attrs": {"id": "transfergroups"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Transform Geometry With Position Data"], "extent": [6519, 6558], "body": [{"type": "para", "indent": 4, "text": ["Applies the ", {"scheme": "Node", "value": "/nodes/dop/position", "type": "link", "text": ["translation and rotation"], "fullpath": "/nodes/dop/position"}, " described by the simulation object\u2019s ", {"type": "code", "text": ["Position"]}, " subdata."], "extent": [6579, 6698]}], "container": true, "attrs": {"id": "doposxform"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Transform Geometry With Geometry Data"], "extent": [6698, 6737], "body": [{"type": "para", "indent": 4, "text": ["Use the transform embedded in the ", {"type": "code", "text": ["Geometry"]}, " data attached to the simulation object.\n    This transform is usually set when ", {"type": "ui", "text": ["Use Object Transform"]}, " is enabled on the ", {"scheme": "Node", "value": "/nodes/dop/sopgeo", "type": "link", "text": ["geometry data"], "fullpath": "/nodes/dop/sopgeo"}, "."], "extent": [6758, 6963]}], "container": true, "attrs": {"id": "dogeoxform"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Preserve World Space Positions"], "extent": [6963, 6995], "body": [{"type": "para", "indent": 4, "text": ["Use the inverse transform of the object containing this SOP.\n    This allows the world space position of the geometry to be independent of the object level transform.\n    This is useful when this SOP is placed inside an object that is used as the source geometry for the simulation object whose transform is being extracted.\n    The object level transform may be used for the initial position of the simulation object, but you may not want it to affect the world space position of the geometry output from this SOP."], "extent": [7023, 7544]}], "container": true, "attrs": {"id": "keepworldspacepos"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Point Velocities"], "extent": [7544, 7562], "body": [{"type": "para", "indent": 4, "text": ["Specifies how point velocities will be calculated for the imported geometry.\n    This is supported when importing a simulation object for which the ", {"type": "code", "text": ["Position"]}, " subdata describes an overall ", {"scheme": "Node", "value": "/nodes/dop/motion", "type": "link", "text": ["velocity and angular velocity"], "fullpath": "/nodes/dop/motion"}, " for the object.\n    The ", {"type": "ui", "text": ["Instantaneous"]}, " and ", {"type": "ui", "text": ["Integrated"]}, " velocity calculations are described in the overview."], "extent": [7582, 7937]}], "container": true, "attrs": {"id": "pointvels"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Add to Existing Velocity Attributes"], "extent": [7937, 7974], "body": [{"type": "para", "indent": 4, "text": ["Adds velocities computed from the object\u2019s ", {"type": "code", "text": ["Position"]}, " data to any existing velocity attribute values on the geometry.\n    Turning off this option causes the velocity computed from the object to simply override any existing velocity attribute value."], "extent": [8001, 8255]}], "container": true, "attrs": {"id": "addtoexistingvel"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Integrate Over Time"], "extent": [8255, 8276], "body": [{"type": "para", "indent": 4, "text": ["The time interval over which velocities are calculated when using the ", {"type": "ui", "text": ["Integrated Point Velocities"]}, " calculation.\n    This value should be set to a single frame time, or the duration of a single geometry segment when using multi-segment motion blur."], "extent": [8304, 8560]}], "container": true, "attrs": {"id": "integrateovertime"}, "role": "item"}], "container": true, "role": "item_group"}], "text": "Parameters"}, {"level": 1, "id": "related", "container": true, "type": "related_section", "indent": 0, "role": "section", "extent": [8560, 8569], "body": [{"type": "bullet_group", "body": [{"blevel": 2, "type": "bullet", "indent": 0, "text": [{"scheme": "Node", "value": "/nodes/sop/dopimportfield", "type": "link", "text": "", "fullpath": "/nodes/sop/dopimportfield"}], "extent": [8569, 8597]}, {"blevel": 2, "type": "bullet", "indent": 0, "text": [{"scheme": "Node", "value": "/nodes/sop/dopimportrecords", "type": "link", "text": "", "fullpath": "/nodes/sop/dopimportrecords"}], "extent": [8597, 8627]}, {"blevel": 2, "type": "bullet", "indent": 0, "text": [{"scheme": "Node", "value": "/nodes/sop/xformpieces", "type": "link", "text": "", "fullpath": "/nodes/sop/xformpieces"}], "extent": [8627, 8652]}], "container": true}], "text": "Related"}], "title": ["DOP Import"], "summary": ["Imports geometry or transforms from a DOP simulation."]}