{"type": "root", "attrs": {"type": "node", "context": "sop", "internal": "flipcontainer", "icon": "SOP/flipcontainer", "since": "19.5", "version": null, "namespace": null}, "body": [{"level": 0, "type": "title", "indent": 0, "text": ["FLIP Container"], "extent": [90, 109]}, {"type": "summary", "indent": 0, "text": ["Creates a domain for a SOP FLIP fluid simulation."], "extent": [109, 167]}, {"type": "para", "indent": 0, "text": ["This node creates and initializes a SOP particle fluid domain. For custom shapes, connect a closed object or volume to the input. The connected object doesn\u2019t have to be rectangular, it can also move and even deform. If there\u2019s no connected geometry or volume, the domain\u2019s size and position is controlled through the node\u2019s parameters."], "extent": [167, 505]}, {"type": "para", "indent": 0, "text": ["The ", {"type": "ui", "text": ["Particle Separation"]}, " parameter controls the domain\u2019s resolution, but also the number of particles and voxels, and the resolution of collision objects."], "extent": [505, 664]}, {"type": "para", "indent": 0, "text": ["The FLIP Container node also provides the fluid\u2019s physical attributes, for example ", {"type": "code", "text": ["density"]}, " or ", {"type": "code", "text": ["viscosity"]}, "."], "extent": [664, 774]}, {"type": "para", "indent": 0, "text": ["When you turn on the ", {"scheme": "Node", "value": "/nodes/sop/flipsolver", "type": "link", "text": ["FLIP Solver SOP"], "fullpath": "/nodes/sop/flipsolver"}, " node\u2019s ", {"type": "ui", "text": ["Waterline"]}, " option, you can see a layer of particles. A closer look reveals that particles are also created outside the domain boundaries. This source band represents the influence of the environment and injects velocity and pressure to the fluid inside the domain. At the domain boundaries, particles are constantly sourced and deleted to maintain waterlevel and number of particles. So even with an obviously static fluid surface you can observe a change in the number of particles. When you go to the solver and add an ", {"type": "ui", "text": ["Additional Velocity"]}, " to the waterline, you can clearly see how particles are sourced and deleted."], "extent": [774, 1466]}, {"type": "para", "indent": 0, "text": ["The boundary frame is always present, even if there is no waterline. You can test this by adding a ", {"scheme": "Node", "value": "/nodes/sop/flipboundary", "type": "link", "text": ["FLIP Boundary SOP"], "fullpath": "/nodes/sop/flipboundary"}, " node and emit particles from an object. The particles fall through the domain and they are deleted ", {"type": "em", "text": ["outside"]}, " the domain\u2019s boundaries."], "extent": [1466, 1742]}, {"type": "note_group", "body": [{"type": "note", "indent": 0, "role": "item", "extent": [1742, 1748], "body": [{"type": "para", "indent": 4, "text": ["Note that the boundary particles are also taken into account when you surface the particles and the mesh becomes bigger. You can clip the outside particles with the parameters in the ", {"scheme": "Node", "value": "/nodes/sop/particlefluidsurface", "type": "link", "text": ["Particle Fluid Surface SOP"], "fullpath": "/nodes/sop/particlefluidsurface"}, " node\u2019s ", {"type": "ui", "text": ["Bounding Box"]}, " sub-pane."], "extent": [1748, 2029]}], "container": true}], "container": true, "role": "item_group"}, {"level": 1, "id": "parameters", "container": true, "type": "parameters_section", "indent": 0, "role": "section", "extent": [2029, 2041], "body": [{"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 0, "text": ["Particle Separation"], "extent": [2041, 2063], "body": [{"type": "para", "indent": 4, "text": ["This parameter controls the interaction distance between the fluid\u2019s particles. Smaller values decrease the distance between your particles making the fluid more impressive, but may also slow down your simulation, since it will take longer to simulate. Decreasing particle separation means more particles that weigh less, but add up to the same mass per unit area."], "extent": [2084, 2454]}, {"type": "para", "indent": 4, "text": ["For correct simulation results, also use this value in the FLIP Solver\u2019s ", {"type": "ui", "text": ["Particle Separation"]}, " in the ", {"type": "ui", "text": ["Setup"]}, " sub-pane."], "extent": [2454, 2583]}, {"type": "note_group", "body": [{"type": "note", "indent": 4, "role": "item", "extent": [2583, 2593], "body": [{"type": "para", "indent": 8, "text": [{"type": "ui", "text": ["Particle Separation"]}, " also controls the resolution of collision objects, introduced through a ", {"scheme": "Node", "value": "/nodes/flipcollide", "type": "link", "text": ["FLIP Collide"], "fullpath": "/nodes/flipcollide"}, " node."], "extent": [2593, 2736]}], "container": true}], "container": true, "role": "item_group"}], "container": true, "attrs": {"id": "particlesep"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Grid Scale"], "extent": [2736, 2748], "body": [{"type": "para", "indent": 4, "text": ["A scaling factor used to calculate the division size of the advection grid from the particle separation. Note that smaller values increase the number of voxels and RAM usage. The default should be good for most applications, but you can get more details with smaller values. For more detailed fluids you can try values between ", {"type": "code", "text": ["1.5"]}, " and ", {"type": "code", "text": ["1.7"]}, "."], "extent": [2767, 3116]}, {"type": "note_group", "body": [{"type": "note", "indent": 4, "role": "item", "extent": [3116, 3126], "body": [{"type": "para", "indent": 8, "text": [{"type": "ui", "text": ["Grid Scale"]}, " also influences the resolution of collision objects, introduced through a FLIP Collide node."], "extent": [3126, 3243]}], "container": true}], "container": true, "role": "item_group"}], "container": true, "attrs": {"id": "gridscale"}, "role": "item"}], "container": true, "role": "item_group"}, {"level": 3, "type": "sep", "indent": 0, "text": [" Domain "], "extent": [3243, 3258]}, {"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 0, "text": ["Implicit Bounds"], "extent": [3258, 3276], "body": [{"type": "para", "indent": 4, "text": ["In most cases, domains are convex containers with more or less box-like shapes. Instead of an expensive VDB surface, ", {"type": "ui", "text": ["Implicit Bounds"]}, " creates a fast convex hull to represent the container\u2019s geometry. Open ", {"type": "ui", "text": ["Node Info"]}, " and choose ", {"type": "ui", "text": ["View Output \u25b8 Container"]}, ". The ", {"type": "code", "text": ["HULL"]}, " point group contains the container object\u2019s vertices, while ", {"type": "code", "text": ["surface"]}, " is ", {"type": "code", "text": ["0,0,0"]}, "."], "extent": [3293, 3653]}], "container": true, "attrs": {"id": "implict"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Size"], "extent": [3653, 3659], "body": [{"type": "para", "indent": 4, "text": ["Set the domain\u2019s dimensions."], "extent": [3673, 3707]}], "container": true, "attrs": {"id": "size"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Center"], "extent": [3707, 3715], "body": [{"type": "para", "indent": 4, "text": ["Set the domain\u2019s position."], "extent": [3731, 3763]}], "container": true, "attrs": {"id": "center"}, "role": "item"}], "container": true, "role": "item_group"}, {"level": 3, "type": "sep", "indent": 0, "text": [" Forces "], "extent": [3763, 3778]}, {"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 0, "text": ["Gravity"], "extent": [3778, 3788], "body": [{"type": "para", "indent": 4, "text": ["The amount of force to apply to a unit-massed object. Because the force is scaled by the mass, objects will undergo this acceleration. The force\u2019s direction is controlled through the ", {"type": "ui", "text": ["Gravity Direction"]}, " parameter."], "extent": [3805, 4026]}, {"type": "para", "indent": 4, "text": ["If your units are meters, seconds, and kilograms, ", {"type": "code", "text": ["9.81"]}, " is a good value for Earth\u2019s gravity. With feet, seconds, and pounds, ", {"type": "code", "text": ["32"]}, " is a good value for Earth\u2019s gravity."], "extent": [4026, 4199]}], "container": true, "attrs": {"id": "gravity"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Gravity Direction"], "extent": [4199, 4218], "body": [{"type": "para", "indent": 4, "text": ["You can control the direction of the ", {"type": "ui", "text": ["Gravity"]}, " force by defining a vector. The default of ", {"type": "code", "text": ["0,-1,0"]}, " simulates the natural direction along the Y axis."], "extent": [4238, 4394]}], "container": true, "attrs": {"id": "gravitydir"}, "role": "item"}], "container": true, "role": "item_group"}, {"level": 3, "type": "sep", "indent": 0, "text": [" Density "], "extent": [4394, 4410]}, {"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 0, "text": ["Density"], "extent": [4410, 4420], "body": [{"type": "para", "indent": 4, "text": ["Here you set a uniform mass density value for the entire fluid. The default value of ", {"type": "code", "text": ["1000"]}, " represents the density of water in kg/m^3."], "extent": [4437, 4577]}], "container": true, "attrs": {"id": "density"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Varying Density"], "extent": [4577, 4594], "body": [{"type": "para", "indent": 4, "text": ["Turn on this parameter for a per-particle density. The density values have to be defined separately, e.g. through an ", {"scheme": "Node", "value": "/nodes/sop/attribwrangle", "type": "link", "text": ["Attribute Wrangle SOP"], "fullpath": "/nodes/sop/attribwrangle"}, " node, connected to the FLIP Source node\u2019s fourth input. You can find an example witha a workflow description under ", {"scheme": "Link", "value": "../fluid/sopdensmult", "type": "link", "text": ["Point variable density: multi-density"], "fullpath": "/nodes/fluid/sopdensmult"}, "."], "extent": [4620, 4971]}, {"type": "note_group", "body": [{"type": "note", "indent": 4, "role": "item", "extent": [4971, 4981], "body": [{"type": "para", "indent": 8, "text": ["With ", {"type": "ui", "text": ["Varying Density"]}, " you have to turn off the ", {"scheme": "Node", "value": "/nodes/sop/flipsolver", "type": "link", "text": ["FLIP Solver SOP"], "fullpath": "/nodes/sop/flipsolver"}, " node\u2019s ", {"type": "ui", "text": ["Advanced \u25b8 Solving \u25b8 Solve Pressure With Adaptivity"]}, " option."], "extent": [4981, 5149]}], "container": true}], "container": true, "role": "item_group"}], "container": true, "attrs": {"id": "dovaryingdensity"}, "role": "item"}], "container": true, "role": "item_group"}, {"level": 3, "type": "sep", "indent": 0, "text": [" Surface Tension "], "extent": [5149, 5173]}, {"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 0, "text": ["Surface Tension"], "extent": [5173, 5191], "body": [{"type": "para", "indent": 4, "text": ["Surface tension flattens irregular features and pulls water into droplets. It is useful for small-scale simulations where the effect of surface tension is often more important than gravity in controlling the dynamics. For large values, additional solver substeps are often required to ensure stability."], "extent": [5217, 5525]}], "container": true, "attrs": {"id": "dosurfacetension"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Surface Tension"], "extent": [5525, 5542], "body": [{"type": "para", "indent": 4, "text": ["The value of the fluid\u2019s surface tension. Note that high values often require additional solver substeps to ensure stability."], "extent": [5566, 5697]}], "container": true, "attrs": {"id": "surfacetension"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Enable Surface Tension Blur"], "extent": [5697, 5726], "body": [{"type": "para", "indent": 4, "text": ["This option smoothes forces and helps to reduce artefacts with high ", {"type": "ui", "text": ["Surface Tension"]}, " settings."], "extent": [5751, 5854]}], "container": true, "attrs": {"id": "docurvatureblur"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Blur Radius"], "extent": [5854, 5867], "body": [{"type": "para", "indent": 4, "text": ["The amount of blurring, when ", {"type": "ui", "text": ["Enable Surface Tension Blur"]}, " is on. Higher values give smoother results, but you might lose detail as well."], "extent": [5889, 6034]}], "container": true, "attrs": {"id": "stblurradius"}, "role": "item"}], "container": true, "role": "item_group"}, {"level": 3, "type": "sep", "indent": 0, "text": [" Viscosity "], "extent": [6034, 6052]}, {"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 0, "text": ["Viscosity"], "extent": [6052, 6064], "body": [{"type": "para", "indent": 4, "text": ["Turn on the viscosity solver."], "extent": [6083, 6118]}], "container": true, "attrs": {"id": "viscosity"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Varying Viscosity"], "extent": [6118, 6137], "body": [{"type": "para", "indent": 4, "text": ["When turned on, viscosity can be defined per point to create fluids with spatial viscosity.The viscosity values have to be defined separately, e.g. through an Attribute Wrangle SOP node, connected to the FLIP Source SOP node\u2019s fourth input. You can find an example with a workflow description under ", {"scheme": "Link", "value": "../fluid/sopviscvarhoney", "type": "link", "text": ["Point variable visosity: honey"], "fullpath": "/nodes/fluid/sopviscvarhoney"}, "."], "extent": [6165, 6533]}], "container": true, "attrs": {"id": "dovaryingviscosity"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Viscosity"], "extent": [6533, 6544], "body": [{"type": "para", "indent": 4, "text": ["This is the uniform viscosity value for the entire fluid. With FLIP fluids, the default value for water is typically ", {"type": "code", "text": ["0"]}, ". Higher values create more viscous and rigid fluids, e.g. oil, honey, or tar."], "extent": [6571, 6775]}], "container": true, "attrs": {"id": "default_viscosity"}, "role": "item"}], "container": true, "role": "item_group"}, {"type": "include_group", "body": [{"ext": "../dop/flipsolver#enableslip", "type": "include", "indent": 0, "role": "item", "extent": [6775, 6814]}, {"ext": "../dop/flipsolver#slipscale", "type": "include", "indent": 0, "role": "item", "extent": [6814, 6853]}], "container": true, "role": "item_group"}, {"level": 3, "type": "sep", "indent": 0, "text": [" Attributes "], "extent": [6853, 6872]}, {"type": "include_group", "body": [{"ext": "../dop/flipsolver#dovorticity", "type": "include", "indent": 0, "role": "item", "extent": [6872, 6913]}, {"ext": "../dop/flipsolver#doid", "type": "include", "indent": 0, "role": "item", "extent": [6913, 6947]}], "container": true, "role": "item_group"}, {"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 0, "text": ["Add Age Attribute"], "extent": [6947, 6966], "body": [{"type": "para", "indent": 4, "text": ["When turned on, the solver tracks the particles' age during simulation."], "extent": [6981, 7058]}], "container": true, "attrs": {"id": "doage"}, "role": "item"}], "container": true, "role": "item_group"}, {"type": "include_group", "body": [{"ext": "../dop/flipsolver#enable_rest", "type": "include", "indent": 0, "role": "item", "extent": [7058, 7098]}, {"ext": "../dop/flipsolver#dual_rest_attributes", "type": "include", "indent": 0, "role": "item", "extent": [7098, 7147]}, {"ext": "../dop/flipsolver#rest_framedelay", "type": "include", "indent": 0, "role": "item", "extent": [7147, 7191]}, {"ext": "../dop/flipsolver#rest_frameoffset", "type": "include", "indent": 0, "role": "item", "extent": [7191, 7237]}], "container": true, "role": "item_group"}, {"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 0, "text": ["Custom Attributes"], "extent": [7237, 7256], "body": [{"type": "para", "indent": 4, "text": ["Enter the number of custom attributes you want to create for the fluid, or click the ", {"keys": ["+"], "type": "keys", "text": null}, " and ", {"keys": ["-"], "type": "keys", "text": null}, " buttons to control their number."], "extent": [7282, 7421]}], "container": true, "attrs": {"id": "customattributes"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Point Attribute Name"], "extent": [7421, 7443], "body": [{"type": "para", "indent": 4, "text": ["Enter the name of the attribute you want to create, e.g. ", {"type": "code", "text": ["temperature"]}, " or ", {"type": "code", "text": ["Cd"]}, " for color."], "extent": [7464, 7559]}], "container": true, "attrs": {"id": "attribname1"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Rank"], "extent": [7559, 7565], "body": [{"type": "para", "indent": 4, "text": ["Choose the attribute\u2019s data type from the drop-down menu."], "extent": [7586, 7649]}, {"type": "dt_group", "body": [{"type": "dt", "indent": 4, "text": ["Scalar"], "extent": [7649, 7661], "body": [{"type": "para", "indent": 8, "text": ["Attributes like ", {"type": "code", "text": ["viscosity"]}, " or ", {"type": "code", "text": ["temperature"]}, " consist of a single value; they're scalars."], "extent": [7661, 7758]}], "container": true}, {"type": "dt", "indent": 4, "text": ["Vector"], "extent": [7758, 7770], "body": [{"type": "para", "indent": 8, "text": ["If the attributes requires three values, e.g. ", {"type": "code", "text": ["Cd"]}, ", then it\u2019s a vector."], "extent": [7770, 7851]}], "container": true}], "container": true}], "container": true, "attrs": {"id": "attribrank1"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Value"], "extent": [7851, 7858], "body": [{"type": "para", "indent": 4, "text": ["This is the attribute\u2019s background value. For scalars there is one field, vectors require three input values."], "extent": [7911, 8026]}], "container": true, "attrs": {"id": "attributescalarvalue1 attributevectorvalue1"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Custom Volume Name"], "extent": [8026, 8046], "body": [{"type": "para", "indent": 4, "text": ["To create a custom attribute, attribute-field pairs have to be defined. By default, both names are the same. Turn on this option only if you really have to."], "extent": [8073, 8235]}], "container": true, "attrs": {"id": "customvolumename1"}, "role": "item"}], "container": true, "role": "item_group"}], "text": "Parameters"}, {"level": 1, "id": "inputs", "container": true, "type": "inputs_section", "indent": 0, "role": "section", "extent": [8235, 8243], "body": [{"type": "dt_group", "body": [{"type": "dt", "indent": 0, "text": ["Sources"], "extent": [8243, 8253], "body": [{"type": "para", "indent": 4, "text": ["This output expects the fluid particles."], "extent": [8253, 8299]}], "container": true}, {"type": "dt", "indent": 0, "text": ["Container"], "extent": [8299, 8310], "body": [{"type": "para", "indent": 4, "text": ["This output expects the domain\u2019s volume representation."], "extent": [8310, 8371]}], "container": true}, {"type": "dt", "indent": 0, "text": ["Collisions"], "extent": [8371, 8383], "body": [{"type": "para", "indent": 4, "text": ["This output expects the collision geometry\u2019s volume representation."], "extent": [8383, 8456]}], "container": true}, {"type": "dt", "indent": 0, "text": ["Geometry for Container"], "extent": [8456, 8480], "body": [{"type": "para", "indent": 4, "text": ["The object or volume you want to use as a domain container. The connected object has to be closed."], "extent": [8480, 8584]}], "container": true}], "container": true}], "text": "Inputs"}, {"level": 1, "id": "outputs", "container": true, "type": "outputs_section", "indent": 0, "role": "section", "extent": [8584, 8593], "body": [{"type": "dt_group", "body": [{"type": "dt", "indent": 0, "text": ["Sources"], "extent": [8593, 8603], "body": [{"type": "para", "indent": 4, "text": ["This output provides the fluid particles."], "extent": [8603, 8650]}], "container": true}, {"type": "dt", "indent": 0, "text": ["Container"], "extent": [8650, 8661], "body": [{"type": "para", "indent": 4, "text": ["This output provides the domain\u2019s volume representation."], "extent": [8661, 8723]}], "container": true}, {"type": "dt", "indent": 0, "text": ["Collisions"], "extent": [8723, 8735], "body": [{"type": "para", "indent": 4, "text": ["This output provides the collision geometry\u2019s volume representation."], "extent": [8735, 8809]}], "container": true}], "container": true}], "text": "Outputs"}, {"level": 1, "id": "related", "container": true, "type": "related_section", "indent": 0, "role": "section", "extent": [8809, 8818], "body": [{"type": "bullet_group", "body": [{"blevel": 2, "type": "bullet", "indent": 0, "text": [{"scheme": "Node", "value": "/nodes/sop/flipsolver", "type": "link", "text": "", "fullpath": "/nodes/sop/flipsolver"}], "extent": [8818, 8842]}, {"blevel": 2, "type": "bullet", "indent": 0, "text": [{"scheme": "Node", "value": "/nodes/sop/flipcollide", "type": "link", "text": "", "fullpath": "/nodes/sop/flipcollide"}], "extent": [8842, 8867]}, {"blevel": 2, "type": "bullet", "indent": 0, "text": [{"scheme": "Node", "value": "/nodes/sop/flipboundary", "type": "link", "text": "", "fullpath": "/nodes/sop/flipboundary"}], "extent": [8867, 8893]}, {"blevel": 2, "type": "bullet", "indent": 0, "text": [{"scheme": "Node", "value": "/nodes/sop/attribwrangle", "type": "link", "text": "", "fullpath": "/nodes/sop/attribwrangle"}], "extent": [8893, 8919]}], "container": true}], "text": "Related"}], "title": ["FLIP Container"], "summary": ["Creates a domain for a SOP FLIP fluid simulation."], "included": ["/nodes/dop/flipsolver", "/nodes/dop/standard_data_outputs", "/nodes/dop/standard_datagroup_parms", "/nodes/dop/standard_dataname_parms", "/nodes/dop/standard_dataop_parms", "/nodes/dop/standard_distribution", "/nodes/dop/standard_solver_mutualparms", "/nodes/dop/standard_solver_parms"]}