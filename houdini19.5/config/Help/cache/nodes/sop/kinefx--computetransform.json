{"type": "root", "attrs": {"type": "node", "context": "sop", "namespace": "kinefx", "internal": "computetransform", "icon": "SOP/kinefx-computetransform", "tags": "soprigging, rigging, motion, retargeting", "since": "18.5", "verb_since": "18.5", "version": null}, "body": [{"level": 0, "type": "title", "indent": 0, "text": ["Compute Transform"], "extent": [193, 215]}, {"type": "summary", "indent": 0, "text": ["Recomputes world space or local space transforms for points in a hierarchy."], "extent": [215, 299]}, {"type": "para", "indent": 0, "text": ["This utility node updates either the world space transforms of the points from their local transforms or recomputes the local transforms of the points from their current world space transforms."], "extent": [299, 494]}, {"type": "para", "indent": 0, "text": ["When performing operations in world space with a sequence of SOP nodes, this node allows you to update the ", {"type": "code", "text": ["localtransform"]}, " attribute and then perform operations on your nodes in the updated local space. "], "extent": [494, 700]}, {"type": "para", "indent": 0, "text": ["When directly modifying the ", {"type": "code", "text": ["localtransform"]}, " attribute on a point or set of points in a hierarchy, this node allows you to update the world space transforms on the geometry."], "extent": [700, 875]}, {"level": 1, "id": "attributes", "container": true, "type": "attributes_section", "indent": 0, "role": "section", "extent": [875, 887], "body": [{"type": "attributes_item_group", "body": [{"type": "attributes_item", "indent": 0, "text": ["P"], "extent": [887, 891], "body": [{"type": "para", "indent": 4, "text": ["The world space translation of the point."], "extent": [891, 938]}], "container": true, "role": "item", "id": "p"}, {"type": "attributes_item", "indent": 0, "text": ["transform"], "extent": [938, 950], "body": [{"type": "para", "indent": 4, "text": ["The world space 3\u00d73 transform of the point containing rotation, scale, and shear values."], "extent": [950, 1048]}, {"type": "para", "indent": 4, "text": ["This attribute is ", {"type": "em", "text": ["required"]}, " when the ", {"type": "ui", "text": ["Mode"]}, " parameter is set to ", {"scheme": null, "value": "#mode", "type": "link", "text": ["Compute Local from World"], "fullpath": "/nodes/sop/kinefx--computetransform#mode", "fragment": "#mode"}, "."], "extent": [1048, 1154]}], "container": true, "role": "item", "id": "transform"}, {"type": "attributes_item", "indent": 0, "text": ["localtransform"], "extent": [1154, 1171], "body": [{"type": "para", "indent": 4, "text": ["The transform of the point relative to its parent."], "extent": [1171, 1231]}, {"type": "para", "indent": 4, "text": ["This attribute is ", {"type": "em", "text": ["required"]}, " when the ", {"type": "ui", "text": ["Mode"]}, " parameter is set to ", {"scheme": null, "value": "#mode", "type": "link", "text": ["Compute World from Local"], "fullpath": "/nodes/sop/kinefx--computetransform#mode", "fragment": "#mode"}, "."], "extent": [1231, 1337]}], "container": true, "role": "item", "id": "localtransform"}, {"type": "attributes_item", "indent": 0, "text": ["scaleinheritance"], "extent": [1337, 1356], "body": [{"type": "para", "indent": 4, "text": ["Determines how a point inherits the local scale from its parent. See also ", {"scheme": null, "value": "/hom/hou/scaleInheritanceMode", "type": "link", "text": "", "fullpath": "/hom/hou/scaleInheritanceMode"}, "."], "extent": [1356, 1468]}, {"type": "dt_group", "body": [{"type": "dt", "indent": 4, "text": ["0"], "extent": [1468, 1475], "body": [{"type": "bullet_group", "body": [{"blevel": 10, "type": "bullet", "indent": 8, "text": ["Default value."], "extent": [1475, 1500]}, {"blevel": 10, "type": "bullet", "indent": 8, "text": ["Combines the local transform with the parent world transform."], "extent": [1500, 1573]}], "container": true}], "container": true}, {"type": "dt", "indent": 4, "text": ["1"], "extent": [1573, 1580], "body": [{"type": "bullet_group", "body": [{"blevel": 10, "type": "bullet", "indent": 8, "text": ["Offset only."], "extent": [1580, 1603]}, {"blevel": 10, "type": "bullet", "indent": 8, "text": ["Only the translation offset from the parent is scaled. The point does ", {"type": "em", "text": ["not"]}, " inherit the parent\u2019s local scale."], "extent": [1603, 1724]}], "container": true}], "container": true}, {"type": "dt", "indent": 4, "text": ["2"], "extent": [1724, 1731], "body": [{"type": "bullet_group", "body": [{"blevel": 10, "type": "bullet", "indent": 8, "text": ["Scale and offset."], "extent": [1731, 1759]}, {"blevel": 10, "type": "bullet", "indent": 8, "text": ["Scales the translation offset from the parent and then applies the parent\u2019s local scale to the current point\u2019s local space."], "extent": [1759, 1894]}], "container": true}], "container": true}, {"type": "dt", "indent": 4, "text": ["3"], "extent": [1894, 1901], "body": [{"type": "bullet_group", "body": [{"blevel": 10, "type": "bullet", "indent": 8, "text": ["Scale only."], "extent": [1901, 1923]}, {"blevel": 10, "type": "bullet", "indent": 8, "text": ["Does ", {"type": "em", "text": ["not"]}, " scale the translation offset and applies the parent local scale to the current point\u2019s local space."], "extent": [1923, 2045]}], "container": true}], "container": true}, {"type": "dt", "indent": 4, "text": ["4"], "extent": [2045, 2052], "body": [{"type": "bullet_group", "body": [{"blevel": 10, "type": "bullet", "indent": 8, "text": ["Ignore."], "extent": [2052, 2070]}, {"blevel": 10, "type": "bullet", "indent": 8, "text": ["Completely ignores the parent local scale."], "extent": [2070, 2124]}], "container": true}], "container": true}], "container": true}], "container": true, "role": "item", "id": "scaleinheritance"}], "container": true, "role": "item_group"}], "text": "Attributes"}, {"level": 1, "id": "parameters", "container": true, "type": "parameters_section", "indent": 0, "role": "section", "extent": [2124, 2136], "body": [{"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 0, "text": ["Mode"], "extent": [2136, 2143], "body": [{"type": "dt_group", "body": [{"type": "dt", "indent": 4, "text": ["Auto"], "extent": [2158, 2169], "body": [{"type": "para", "indent": 8, "text": ["Computes the missing attributes on the geometry."], "extent": [2169, 2227]}, {"type": "para", "indent": 8, "text": ["If ", {"type": "code", "text": ["transform"]}, " is missing, then the node recomputes the world space transform. "], "extent": [2227, 2324]}, {"type": "para", "indent": 8, "text": ["If ", {"type": "code", "text": ["localtransform"]}, " is missing, then the node recomputes the local space transform. "], "extent": [2324, 2426]}, {"type": "para", "indent": 8, "text": ["If both are missing, then the node creates an identity ", {"type": "code", "text": ["transform"]}, " and computes the local space. "], "extent": [2426, 2541]}, {"type": "para", "indent": 8, "text": ["If both are present, then the node falls back to updating the local transforms."], "extent": [2541, 2630]}], "container": true}, {"type": "dt", "indent": 4, "text": ["Compute World from Local"], "extent": [2630, 2661], "body": [{"type": "para", "indent": 8, "text": ["Recomputes the world space transforms (as defined by ", {"type": "code", "text": ["P"]}, " and ", {"type": "code", "text": ["transform"]}, ") from the ", {"type": "code", "text": ["localtransform"]}, " attribute for all points. "], "extent": [2661, 2797]}, {"type": "warning_group", "body": [{"type": "warning", "indent": 8, "role": "item", "extent": [2797, 2814], "body": [{"type": "para", "indent": 12, "text": ["When using this ", {"type": "ui", "text": ["Mode"]}, ", the geometry must have a ", {"type": "code", "text": ["localtransform"]}, " attribute or the node will produce an error."], "extent": [2814, 2940]}], "container": true}], "container": true, "role": "item_group"}], "container": true}, {"type": "dt", "indent": 4, "text": ["Compute Local from World"], "extent": [2940, 2971], "body": [{"type": "para", "indent": 8, "text": ["Recomputes the ", {"type": "code", "text": ["localtransform"]}, " attribute from the current world space transforms (as defined by ", {"type": "code", "text": ["P"]}, " and ", {"type": "code", "text": ["transform"]}, ") for all the points. "], "extent": [2971, 3119]}, {"type": "warning_group", "body": [{"type": "warning", "indent": 8, "role": "item", "extent": [3119, 3136], "body": [{"type": "para", "indent": 12, "text": ["When using this ", {"type": "ui", "text": ["Mode"]}, ", the geometry must have a ", {"type": "code", "text": ["transform"]}, " attribute or the node will produce an error."], "extent": [3136, 3258]}], "container": true}], "container": true, "role": "item_group"}], "container": true}], "container": true}], "container": true, "attrs": {"id": "mode"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Constrained Group"], "extent": [3258, 3277], "body": [{"type": "para", "indent": 4, "text": ["This group specifies which points will maintain their world space transform during the recomputation of world space transforms from local transforms."], "extent": [3304, 3459]}, {"type": "para", "indent": 4, "text": ["This parameter is only enabled available when ", {"type": "ui", "text": ["Mode"]}, " is set to ", {"type": "ui", "text": ["Compute World from Local"]}, "."], "extent": [3459, 3560]}], "container": true, "attrs": {"id": "constrainedgroup"}, "role": "item"}], "container": true, "role": "item_group"}, {"level": 3, "type": "sep", "indent": 0, "text": [" Output Attributes "], "extent": [3560, 3586], "body": [{"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 4, "text": ["Local Transform"], "extent": [3586, 3608], "body": [{"type": "para", "indent": 8, "text": ["This parameter is only available when ", {"type": "ui", "text": ["Mode"]}, " is set to ", {"type": "ui", "text": ["Compute World from Local"]}, "."], "extent": [3631, 3727]}, {"type": "para", "indent": 8, "text": ["Keeps the ", {"type": "code", "text": ["localtransform"]}, " attribute on the points."], "extent": [3727, 3789]}], "container": true, "attrs": {"id": "loctrans"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Effective Local Transform"], "extent": [3789, 3820], "body": [{"type": "para", "indent": 8, "text": ["Adds the ", {"type": "code", "text": ["effectivelocaltransform"]}, " attribute to the points. "], "extent": [3850, 3920]}, {"type": "para", "indent": 8, "text": ["This is the local transform that the points' children inherit from their parents according to the ", {"type": "code", "text": ["scaleinheritance"]}, " attribute."], "extent": [3920, 4058]}], "container": true, "attrs": {"id": "effect_loctrans"}, "role": "item"}], "container": true, "role": "item_group"}], "container": true}], "text": "Parameters"}, {"level": 1, "id": "inputs", "container": true, "type": "inputs_section", "indent": 0, "role": "section", "extent": [4058, 4066], "body": [{"type": "para", "indent": 0, "text": ["Geometry comprised of a valid hierarchy of points. The node will produce an error if you supply invalid geometry."], "extent": [4066, 4182]}], "text": "Inputs"}, {"level": 1, "id": "outputs", "container": true, "type": "outputs_section", "indent": 0, "role": "section", "extent": [4182, 4191], "body": [{"type": "para", "indent": 0, "text": ["The input geometry with updated transform attributes."], "extent": [4191, 4247]}], "text": "Outputs"}, {"level": 1, "id": "related", "container": true, "type": "related_section", "indent": 0, "role": "section", "extent": [4247, 4256], "body": [{"type": "bullet_group", "body": [{"blevel": 2, "type": "bullet", "indent": 0, "text": [{"scheme": "Node", "value": "/nodes/sop/kinefx--computerigpose", "type": "link", "text": "", "fullpath": "/nodes/sop/kinefx--computerigpose"}], "extent": [4256, 4292]}, {"blevel": 2, "type": "bullet", "indent": 0, "text": [{"scheme": "Node", "value": "/nodes/sop/kinefx--rigmatchpose", "type": "link", "text": "", "fullpath": "/nodes/sop/kinefx--rigmatchpose"}], "extent": [4292, 4326]}, {"blevel": 2, "type": "bullet", "indent": 0, "text": [{"scheme": "Node", "value": "/nodes/sop/kinefx--rigpose", "type": "link", "text": "", "fullpath": "/nodes/sop/kinefx--rigpose"}], "extent": [4326, 4355]}], "container": true}], "text": "Related"}], "title": ["Compute Transform"], "summary": ["Recomputes world space or local space transforms for points in a hierarchy."]}