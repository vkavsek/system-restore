{"type": "root", "attrs": {"type": "node", "context": "sop", "icon": "POP/velocity", "internal": "pointvelocity", "since": "17.0", "version": null, "namespace": null}, "body": [{"level": 0, "type": "title", "indent": 0, "text": ["Point Velocity"], "extent": [85, 104]}, {"type": "summary", "indent": 0, "text": [" Computes and manipulates velocities for points of a geometry. "], "extent": [104, 176]}, {"type": "para", "indent": 0, "text": ["The Point Velocity SOP provides a simple interface to compute and manipulate\nthe velocity attribute, ", {"type": "code", "text": ["v"]}, ", of a geometry\u2019s points. The node includes\nfunctionality to robustly compute velocity from time-dependent deformation of\nthe incoming geometry, as well as several ways to generate and composite noise\non top of it."], "extent": [176, 496]}, {"type": "note_group", "body": [{"type": "note", "indent": 0, "role": "item", "extent": [496, 502], "body": [{"type": "para", "indent": 4, "text": ["The order of tabs corresponds to the order in which their corresponding\n    operations are performed (from left to right). When enabled, ", {"type": "ui", "text": ["Add\n    Velocity"]}, " modifier is applied last."], "extent": [502, 691]}], "container": true}], "container": true, "role": "item_group"}, {"level": 1, "id": "inputs", "container": true, "type": "inputs_section", "indent": 0, "role": "section", "extent": [691, 699], "body": [{"type": "dt_group", "body": [{"type": "dt", "indent": 0, "text": ["Input"], "extent": [699, 707], "body": [{"type": "para", "indent": 4, "text": ["Geometry whose point velocities to manipulate."], "extent": [707, 759]}], "container": true}], "container": true}], "text": "Inputs"}, {"level": 1, "id": "outputs", "container": true, "type": "outputs_section", "indent": 0, "role": "section", "extent": [759, 768], "body": [{"type": "dt_group", "body": [{"type": "dt", "indent": 0, "text": ["Output"], "extent": [768, 777], "body": [{"type": "para", "indent": 4, "text": ["Modified geometry."], "extent": [777, 801]}], "container": true}], "container": true}], "text": "Outputs"}, {"level": 1, "id": "parameters", "container": true, "type": "parameters_section", "indent": 0, "role": "section", "extent": [801, 813], "body": [{"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 0, "text": ["Group"], "extent": [813, 821], "body": [{"type": "para", "indent": 4, "text": ["Only points in this group will be affected by this node."], "extent": [836, 898]}], "container": true, "attrs": {"id": "group"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Add Velocity"], "extent": [898, 912], "body": [{"type": "para", "indent": 4, "text": ["When enabled, this vector is added to every point\u2019s velocity."], "extent": [937, 1004]}], "container": true, "attrs": {"id": "addvel constvel"}, "role": "item"}], "container": true, "role": "item_group"}, {"level": 2, "id": null, "container": true, "type": "h", "indent": 0, "text": ["Basic"], "extent": [1004, 1016], "body": [{"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 0, "text": ["Initialization"], "extent": [1016, 1033], "body": [{"type": "para", "indent": 4, "text": ["Controls how the velocity point attribute is initialized."], "extent": [1047, 1110]}, {"type": "dt_group", "body": [{"type": "dt", "indent": 4, "text": ["Compute from Deformation"], "extent": [1110, 1140], "body": [{"type": "para", "indent": 8, "text": ["Point velocities are deduced from their time-dependent motion."], "extent": [1140, 1211]}], "container": true}, {"type": "dt", "indent": 4, "text": ["Keep Incoming"], "extent": [1211, 1230], "body": [{"type": "para", "indent": 8, "text": ["The incoming point velocities are kept; if the input geometry does not\n        contain a velocity point attribute, it is created and initialized to\n        zero."], "extent": [1230, 1400]}], "container": true}, {"type": "dt", "indent": 4, "text": ["Set Value"], "extent": [1400, 1415], "body": [{"type": "para", "indent": 8, "text": ["The given ", {"type": "ui", "text": ["Default Value"]}, " is written to each point\u2019s ", {"type": "code", "text": ["v"]}, " attribute."], "extent": [1415, 1493]}], "container": true}, {"type": "dt", "indent": 4, "text": ["From Attribute"], "extent": [1493, 1513], "body": [{"type": "para", "indent": 8, "text": ["Velocities are initialized using the value of the given point attribute."], "extent": [1513, 1595]}], "container": true}], "container": true}], "container": true, "attrs": {"id": "init"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Default Value"], "extent": [1595, 1610], "body": [{"type": "para", "indent": 4, "text": ["Velocities get set to this value; only available when ", {"type": "ui", "text": ["Initialization"]}, "\n    mode is ", {"type": "ui", "text": ["Set Value"]}, "."], "extent": [1626, 1731]}], "container": true, "attrs": {"id": "defval"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Frame Sample"], "extent": [1731, 1745], "body": [{"type": "para", "indent": 4, "text": ["Frame offset used for computing point velocities from deformation."], "extent": [1758, 1830]}, {"type": "note_group", "body": [{"type": "note", "indent": 4, "role": "item", "extent": [1830, 1840], "body": [{"type": "para", "indent": 8, "text": ["If ", {"type": "ui", "text": ["Velocity Approximation"]}, " is set to ", {"type": "ui", "text": ["Central Difference"]}, ", the\n        geometries used are offset forward and backward by ", {"type": "ui", "text": ["Frame Sample"]}, "."], "extent": [1840, 1994]}], "container": true}], "container": true, "role": "item_group"}], "container": true, "attrs": {"id": "inc"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Evaluate Within Frame Range"], "extent": [1994, 2023], "body": [{"type": "para", "indent": 4, "text": ["Enabling this option ensures that the geometry is not evaluated outside of\n    the provided ", {"type": "ui", "text": ["Frame Range"]}, "."], "extent": [2042, 2156]}], "container": true, "attrs": {"id": "evalframe"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Frame Range"], "extent": [2156, 2169], "body": [{"type": "para", "indent": 4, "text": ["When ", {"type": "ui", "text": ["Evaluate Within Frame Range"]}, " is enabled, the node ensures that the\n    input geometry is not evaluated outside of this range."], "extent": [2189, 2328]}], "container": true, "attrs": {"id": "framerange"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Velocity Approximation"], "extent": [2328, 2352], "body": [{"type": "para", "indent": 4, "text": ["Finite difference method to use for computing velocities from deformation."], "extent": [2378, 2458]}, {"type": "dt_group", "body": [{"type": "dt", "indent": 4, "text": ["Backward Difference"], "extent": [2458, 2483], "body": [{"type": "para", "indent": 8, "text": ["Approximates velocity by considering the difference in particle\n        positions from the current frame and the frame offset backward by\n        ", {"type": "ui", "text": ["Frame Sample"]}, "."], "extent": [2483, 2655]}], "container": true}, {"type": "dt", "indent": 4, "text": ["Central Difference"], "extent": [2655, 2679], "body": [{"type": "para", "indent": 8, "text": ["Approximates velocity by considering the difference in particle\n        positions from the current frame offset forward and backward by\n        ", {"type": "ui", "text": ["Frame Sample"]}, "."], "extent": [2679, 2849]}], "container": true}, {"type": "dt", "indent": 4, "text": ["Forward Difference"], "extent": [2849, 2873], "body": [{"type": "para", "indent": 8, "text": ["Approximates velocity by considering the difference in particle\n        positions from the current frame offset forward by ", {"type": "ui", "text": ["Frame Sample"]}, " and\n        the current frame itself."], "extent": [2873, 3060]}], "container": true}], "container": true}, {"type": "note_group", "body": [{"type": "note", "indent": 4, "role": "item", "extent": [3060, 3070], "body": [{"type": "para", "indent": 8, "text": ["If ", {"type": "ui", "text": ["Evaluate Within Frame Range"]}, " is enabled and one of the frame\n        samples lies outside the specified ", {"type": "ui", "text": ["Frame Range"]}, ", this node will try\n        to use an alternate approximation scheme."], "extent": [3070, 3275]}], "container": true}], "container": true, "role": "item_group"}], "container": true, "attrs": {"id": "velapproximation"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Compute Acceleration"], "extent": [3275, 3297], "body": [{"type": "para", "indent": 4, "text": ["When this option is enabled, this node will also approximate point\n    accelerations. This is useful for rendering curved trajectories with\n    acceleration motion blur."], "extent": [3319, 3494]}, {"type": "note_group", "body": [{"type": "note", "indent": 4, "role": "item", "extent": [3494, 3504], "body": [{"type": "para", "indent": 8, "text": ["The calculated accelerations will only be non-zero if ", {"type": "ui", "text": ["Velocity\n        Approximation"]}, " is set to ", {"type": "ui", "text": ["Central Difference"]}, "."], "extent": [3504, 3636]}], "container": true}], "container": true, "role": "item_group"}], "container": true, "attrs": {"id": "computeaccel"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Acceleration Attribute"], "extent": [3636, 3660], "body": [{"type": "para", "indent": 4, "text": ["The computed acceleration will be stored in this point attribute."], "extent": [3684, 3755]}], "container": true, "attrs": {"id": "accelattribute"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Compute Angular Velocity"], "extent": [3755, 3781], "body": [{"type": "para", "indent": 4, "text": ["Enabling this option will use the difference in orientations to compute the\n    angular velocity (stored in the ", {"type": "code", "text": ["w"]}, " point attribute)."], "extent": [3805, 3944]}], "container": true, "attrs": {"id": "computeangular"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Match by Attribute"], "extent": [3944, 3964], "body": [{"type": "para", "indent": 4, "text": ["When this option is enabled, points on successive frames will be identified\n    by using the value of the provided attribute rather than the point number."], "extent": [3990, 4150]}], "container": true, "attrs": {"id": "matchbyattribute"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Attribute to Match"], "extent": [4150, 4170], "body": [{"type": "para", "indent": 4, "text": ["Name of the integer or string point attribute to use for matching\n    successive frames (when ", {"type": "ui", "text": ["Match by Attribute"]}, " is enabled)."], "extent": [4196, 4331]}], "container": true, "attrs": {"id": "attributetomatch"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Attribute Name"], "extent": [4331, 4347], "body": [{"type": "para", "indent": 4, "text": ["Name of the point attribute to use for initializing velocities. Only\n    available when ", {"type": "ui", "text": ["Initialization"]}, " is set to ", {"type": "ui", "text": ["From Attribute"]}, "."], "extent": [4367, 4509]}], "container": true, "attrs": {"id": "attribname"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Scale"], "extent": [4509, 4516], "body": [{"type": "para", "indent": 4, "text": ["Attribute corresponding to ", {"type": "ui", "text": ["Attribute Name"]}, " is multiplied by this value\n    to get the initial point velocities."], "extent": [4531, 4651]}], "container": true, "attrs": {"id": "scale"}, "role": "item"}], "container": true, "role": "item_group"}]}, {"level": 2, "id": null, "container": true, "type": "h", "indent": 0, "text": ["Curl Noise"], "extent": [4651, 4668], "body": [{"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 0, "text": ["Add Curl Noise"], "extent": [4668, 4685], "body": [{"type": "para", "indent": 4, "text": ["Adds divergence-free curl noise to point velocities."], "extent": [4707, 4765]}], "container": true, "attrs": {"id": "addcurlnoise"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Animated"], "extent": [4765, 4775], "body": [{"type": "para", "indent": 4, "text": ["If this option is turned on, produced noise will vary with time."], "extent": [4793, 4863]}], "container": true, "attrs": {"id": "animated"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Scale"], "extent": [4863, 4870], "body": [{"type": "para", "indent": 4, "text": ["Controls the amount of added curl noise."], "extent": [4887, 4933]}], "container": true, "attrs": {"id": "cnscale"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Pulse Duration"], "extent": [4933, 4949], "body": [{"type": "para", "indent": 4, "text": ["Time rate of change of the noise pattern is inversely proportional to\n    ", {"type": "ui", "text": ["Pulse Duration"]}, "; only available when ", {"type": "ui", "text": ["Animated"]}, " is enabled."], "extent": [4972, 5116]}], "container": true, "attrs": {"id": "pulseduration"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Swirl Size"], "extent": [5116, 5128], "body": [{"type": "para", "indent": 4, "text": ["Controls base feature size of the generated noise."], "extent": [5149, 5205]}], "container": true, "attrs": {"id": "cnswirlsize"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Swirl Scale"], "extent": [5205, 5218], "body": [{"type": "para", "indent": 4, "text": ["Feature size along each axis is governed by the product of ", {"type": "ui", "text": ["Swirl Size"]}, "\n    with the applicable component of this parameter."], "extent": [5240, 5372]}], "container": true, "attrs": {"id": "cnswirlscale"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Offset"], "extent": [5372, 5380], "body": [{"type": "para", "indent": 4, "text": ["Offset within the evaluated noise field. Can be used as a seed to modify\n    the noise values without affecting the overall look of the pattern."], "extent": [5398, 5548]}], "container": true, "attrs": {"id": "cnoffset"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Grain"], "extent": [5548, 5555], "body": [{"type": "para", "indent": 4, "text": ["Controls influence falloff for each successive noise layer."], "extent": [5572, 5637]}], "container": true, "attrs": {"id": "cnrough"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Turbulence"], "extent": [5637, 5649], "body": [{"type": "para", "indent": 4, "text": ["Specifies the number of composited noise layers."], "extent": [5671, 5725]}], "container": true, "attrs": {"id": "cnturbulence"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Location Attribute"], "extent": [5725, 5745], "body": [{"type": "para", "indent": 4, "text": ["Noise for each point is produced by sampling a volumetric field using the\n    value of this vector attribute. If this parameter is set to ", {"type": "code", "text": ["P"]}, ", the\n    applied noise pattern will vary based on the motion of the points. If this\n    is undesirable, a ", {"type": "code", "text": ["rest"]}, " attribute can be added to the input geometry and\n    its value used instead."], "extent": [5764, 6101]}], "container": true, "attrs": {"id": "locattrib"}, "role": "item"}], "container": true, "role": "item_group"}]}, {"level": 2, "id": null, "container": true, "type": "h", "indent": 0, "text": ["From Object"], "extent": [6101, 6119], "body": [{"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 0, "text": ["Add Object Motion"], "extent": [6119, 6139], "body": [{"type": "para", "indent": 4, "text": ["Adds the velocity of an animated object-level node to point velocities."], "extent": [6164, 6241]}], "container": true, "attrs": {"id": "addobjectmotion"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Object Path"], "extent": [6241, 6254], "body": [{"type": "para", "indent": 4, "text": ["The object node to extract a transform from."], "extent": [6271, 6321]}], "container": true, "attrs": {"id": "objpath"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Scale"], "extent": [6321, 6328], "body": [{"type": "para", "indent": 4, "text": ["Before being added to point velocities, the object velocity is scaled by\n    this amount."], "extent": [6346, 6441]}], "container": true, "attrs": {"id": "objscale"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Frame Sample"], "extent": [6441, 6455], "body": [{"type": "para", "indent": 4, "text": ["Frame offset used for computing the object\u2019s velocity."], "extent": [6474, 6534]}, {"type": "note_group", "body": [{"type": "note", "indent": 4, "role": "item", "extent": [6534, 6544], "body": [{"type": "para", "indent": 8, "text": ["If ", {"type": "ui", "text": ["Velocity Approximation"]}, " is set to ", {"type": "code", "text": ["Central Difference"]}, ", the\n        object transforms used are offset forward and backward by ", {"type": "ui", "text": ["Frame\n        Sample"]}, "."], "extent": [6544, 6711]}], "container": true}], "container": true, "role": "item_group"}], "container": true, "attrs": {"id": "objsample"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Velocity Approximation"], "extent": [6711, 6735], "body": [{"type": "para", "indent": 4, "text": ["Finite difference method to use for computing the object\u2019s velocity."], "extent": [6761, 6835]}, {"type": "dt_group", "body": [{"type": "dt", "indent": 4, "text": ["Backward Difference"], "extent": [6835, 6860], "body": [{"type": "para", "indent": 8, "text": ["Approximates velocity by considering the difference in object\u2019s\n        transformations from the current frame and the frame offset backward by\n        ", {"type": "ui", "text": ["Frame Sample"]}, "."], "extent": [6860, 7038]}], "container": true}, {"type": "dt", "indent": 4, "text": ["Central Difference"], "extent": [7038, 7062], "body": [{"type": "para", "indent": 8, "text": ["Approximates velocity by considering the difference in object\u2019s\n        transformations from the current frame offset forward and backward by\n        ", {"type": "ui", "text": ["Frame Sample"]}, "."], "extent": [7062, 7238]}], "container": true}, {"type": "dt", "indent": 4, "text": ["Forward Difference"], "extent": [7238, 7262], "body": [{"type": "para", "indent": 8, "text": ["Approximates velocity by considering the difference in object\u2019s\n        transformations from the current frame offset forward by ", {"type": "ui", "text": ["Frame\n        Sample"]}, " and the current frame itself."], "extent": [7262, 7455]}], "container": true}], "container": true}], "container": true, "attrs": {"id": "objapproximation"}, "role": "item"}], "container": true, "role": "item_group"}]}, {"level": 2, "id": null, "container": true, "type": "h", "indent": 0, "text": ["Conical Noise"], "extent": [7455, 7475], "body": [{"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 0, "text": ["Conical Noise"], "extent": [7475, 7491], "body": [{"type": "para", "indent": 4, "text": ["Modify point velocities with conical noise."], "extent": [7512, 7561]}, {"type": "note_group", "body": [{"type": "note", "indent": 4, "role": "item", "extent": [7561, 7571], "body": [{"type": "para", "indent": 8, "text": ["Conical noise is not spatially coherent, nor does it continuously\n        depend on the seed values."], "extent": [7571, 7681]}], "container": true}], "container": true, "role": "item_group"}], "container": true, "attrs": {"id": "doconenoise"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Mode"], "extent": [7681, 7687], "body": [{"type": "para", "indent": 4, "text": ["In ", {"type": "ui", "text": ["Add"]}, " mode, each point\u2019s velocity is offset by a random vector, which\n    falls within the defined cone. In ", {"type": "ui", "text": ["Rotate"]}, " mode, each point\u2019s velocity is\n    randomly jittered within a cone of the specified size (without affecting\n    speed)."], "extent": [7705, 7954]}], "container": true, "attrs": {"id": "conemode"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Scale"], "extent": [7954, 7961], "body": [{"type": "para", "indent": 4, "text": ["Controls the cone height (and the amount of added conical noise) when\n    ", {"type": "ui", "text": ["Mode"]}, " is set to ", {"type": "ui", "text": ["Add"]}, "."], "extent": [7980, 8087]}], "container": true, "attrs": {"id": "conescale"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Cone Angle"], "extent": [8087, 8099], "body": [{"type": "para", "indent": 4, "text": ["Controls the cone width."], "extent": [8118, 8148]}], "container": true, "attrs": {"id": "coneangle"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Direction"], "extent": [8148, 8159], "body": [{"type": "para", "indent": 4, "text": ["The cone opens in this direction; only available when ", {"type": "ui", "text": ["Mode"]}, " is set to\n    ", {"type": "ui", "text": ["Add"]}, "."], "extent": [8176, 8267]}], "container": true, "attrs": {"id": "conedir"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Direction Attribute"], "extent": [8267, 8288], "body": [{"type": "para", "indent": 4, "text": ["When enabled, value of this vector point attribute is used to control the\n    cone orientation for each point, instead of the global ", {"type": "ui", "text": ["Direction"]}, "\n    parameter; only available when ", {"type": "ui", "text": ["Mode"]}, " is set to ", {"type": "ui", "text": ["Add"]}, "."], "extent": [8328, 8543]}, {"type": "note_group", "body": [{"type": "note", "indent": 4, "role": "item", "extent": [8543, 8553], "body": [{"type": "para", "indent": 8, "text": ["If the referenced point attribute does not exist or is zero, the global\n        ", {"type": "ui", "text": ["Direction"]}, " vector is used."], "extent": [8553, 8672]}], "container": true}], "container": true, "role": "item_group"}], "container": true, "attrs": {"id": "useconedirattrib conedirattrib"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Directional Bias"], "extent": [8672, 8690], "body": [{"type": "para", "indent": 4, "text": ["When enabled, the randomly generated vector is biased towards the center of\n    the cone (for positive values) or the edge of the cone (for negative\n    values)."], "extent": [8726, 8893]}], "container": true, "attrs": {"id": "useconedirbias conedirbias"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Global Seed"], "extent": [8893, 8906], "body": [{"type": "para", "indent": 4, "text": ["Value of this parameter is used to seed the random number generator. The\n    generated noise can be altered by changing the seed."], "extent": [8924, 9059]}], "container": true, "attrs": {"id": "coneseed"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Seed Attribute"], "extent": [9059, 9075], "body": [{"type": "para", "indent": 4, "text": ["When enabled, the value of this attribute is used for seeding the random\n    vector for each point instead of the point number; this enables consistent\n    noise generation when deleting points."], "extent": [9117, 9317]}], "container": true, "attrs": {"id": "useconeseedattrib coneseedattrib"}, "role": "item"}], "container": true, "role": "item_group"}]}], "text": "Parameters"}], "title": ["Point Velocity"], "summary": [" Computes and manipulates velocities for points of a geometry. "]}