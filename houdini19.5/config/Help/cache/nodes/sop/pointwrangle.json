{"type": "root", "attrs": {"type": "node", "context": "sop", "internal": "pointwrangle", "icon": "SOP/pointwrangle", "tags": "points, attrs, core, tech", "since": "12.5", "version": null, "namespace": null}, "body": [{"level": 0, "type": "title", "indent": 0, "text": ["Point Wrangle"], "extent": [0, 18]}, {"type": "summary", "indent": 0, "text": ["Runs a VEX snippet to modify point attributes, including position."], "extent": [140, 214]}, {"level": 2, "id": null, "container": true, "type": "h", "indent": 0, "text": ["Overview"], "extent": [214, 229], "body": [{"type": "para", "indent": 0, "text": ["This is a very powerful, low-level node that lets experts who are\nfamiliar with VEX tweak point attributes using code."], "extent": [229, 350]}, {"type": "para", "indent": 0, "text": ["This node corresponds to the ", {"scheme": "Node", "value": "/nodes/sop/vopsop", "type": "link", "text": ["VOP SOP"], "fullpath": "/nodes/sop/vopsop"}, ",\nbut uses a textual VEX snippet instead of a VOP network."], "extent": [350, 464]}, {"type": "para", "indent": 0, "text": ["This node ", {"type": "em", "text": ["runs the snippet on every point"]}, " in the input geometry.\nThe snippet can edit the input geometry by changing attributes.\nIt can access information from other geometry using attributes and VEX functions."], "extent": [464, 678]}, {"type": "bullet_group", "body": [{"blevel": 2, "type": "bullet", "indent": 0, "text": ["Press ", {"keys": ["MMB"], "type": "keys", "text": null}, " on the node to see any error output from the snippet."], "extent": [678, 749]}, {"blevel": 2, "type": "bullet", "indent": 0, "text": ["You can use the VEX function ", {"type": "code", "text": ["ch"]}, " to evaluate parameters.\n  The path is relative to this node (", {"type": "code", "text": ["ch(\"parm\")"]}, " will evaluate the parameter ", {"type": "code", "text": ["parm"]}, " on this node).\n  This evaluation will be done at the current time."], "extent": [749, 962]}, {"blevel": 2, "type": "bullet", "indent": 0, "text": ["Unlike the ", {"scheme": "Node", "value": "/nodes/sop/point", "type": "link", "text": ["Point SOP"], "fullpath": "/nodes/sop/point"}, ", this does not use local variables.\n  Further, all backtick expressions and ", {"type": "code", "text": ["$F"]}, " variables will be evaluated at frame 1,\n  not the current time.\n  Use ", {"type": "code", "text": ["Frame"]}, ", ", {"type": "code", "text": ["Time"]}, ", or ", {"type": "code", "text": ["TimeInc"]}, " instead."], "extent": [962, 1194]}], "container": true}]}, {"level": 2, "id": null, "container": true, "type": "h", "indent": 0, "text": ["Context"], "extent": [1194, 1208], "body": [{"type": "para", "indent": 0, "text": ["This node runs the VEX snippet in the ", {"type": "strong", "text": ["SOP context"]}, "."], "extent": [1208, 1264]}]}, {"level": 2, "id": null, "container": true, "type": "h", "indent": 0, "text": ["Syntax"], "extent": [1264, 1277], "body": [{"type": "para", "indent": 0, "text": ["The ", {"type": "ui", "text": ["VEX snippet"]}, " parameter lets you enter a snippet of ", {"scheme": null, "value": "/vex/", "type": "link", "text": ["VEX code"], "fullpath": "/vex/index"}, " to run on the input geometry.\nSee ", {"scheme": null, "value": "/vex/snippets", "type": "link", "text": ["VEX snippets"], "fullpath": "/vex/snippets"}, " for basic information on the syntax available in the snippet parameter.\nSee ", {"scheme": null, "value": "/vex/", "type": "link", "text": ["the VEX chapter"], "fullpath": "/vex/index"}, " for general information on the VEX language."], "extent": [16, 299]}]}, {"level": 2, "id": null, "container": true, "type": "h", "indent": 0, "text": ["VEX variables"], "extent": [1305, 1325], "body": [{"type": "para", "indent": 0, "text": ["You can create temporary VEX variables.\nNormal VEX variables do not have a ", {"type": "code", "text": ["@"]}, " prefix.\nFor example, the following code swaps ", {"type": "code", "text": ["P"]}, " and ", {"type": "code", "text": ["Cd"]}, "."], "extent": [1325, 1466]}, {"lang": "vex", "type": "pre", "indent": 0, "text": ["\nvector temp = @P;\n@P = @Cd;\n@Cd = temp;\n"], "extent": [1466, 1520]}]}, {"level": 2, "id": null, "container": true, "type": "h", "indent": 0, "text": ["Global Variables"], "extent": [1520, 1544], "body": [{"type": "para", "indent": 0, "text": ["The VEX ", {"type": "code", "text": ["sop"]}, " context provides several global variables you can access,\nsuch as ", {"type": "code", "text": ["P"]}, ", that correspond to attributes.\nWhile you can access these directly, we recommend you use the ", {"type": "code", "text": ["@"]}, " prefix\nfor clarity."], "extent": [1544, 1748]}, {"type": "para", "indent": 0, "text": ["The following global variables do not correspond to attributes\nand may be useful in snippets."], "extent": [1748, 1843]}, {"type": "dt_group", "body": [{"type": "dt", "indent": 0, "text": [{"type": "code", "text": ["Npt"]}], "extent": [1843, 1850], "body": [{"type": "para", "indent": 4, "text": ["Total number of points."], "extent": [1850, 1878]}], "container": true}, {"type": "dt", "indent": 0, "text": [{"type": "code", "text": ["Time"]}], "extent": [1878, 1886], "body": [{"type": "para", "indent": 4, "text": ["Current time in seconds."], "extent": [1886, 1915]}], "container": true}, {"type": "dt", "indent": 0, "text": [{"type": "code", "text": ["Frame"]}], "extent": [1915, 1924], "body": [{"type": "para", "indent": 4, "text": ["Current time in frames."], "extent": [1924, 1952]}], "container": true}, {"type": "dt", "indent": 0, "text": [{"type": "code", "text": ["TimeInc"]}], "extent": [1952, 1963], "body": [{"type": "para", "indent": 4, "text": ["Time increment between frames, in seconds."], "extent": [1963, 2010]}], "container": true}, {"type": "dt", "indent": 0, "text": [{"type": "code", "text": ["OpInput1"]}, ", ", {"type": "code", "text": ["OpInput2"]}, ", ", {"type": "code", "text": ["OpInput3"]}, ", ", {"type": "code", "text": ["OpInput4"]}], "extent": [2010, 2058], "body": [{"type": "para", "indent": 4, "text": ["A string that can be used to refer to the corresponding input\n    of this SOP in vex operations that take file parameters."], "extent": [2058, 2186]}], "container": true}], "container": true}]}, {"level": 1, "id": "parameters", "container": true, "type": "parameters_section", "indent": 0, "role": "section", "extent": [2186, 2198], "body": [{"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 0, "text": ["Point group"], "extent": [2198, 2212], "body": [{"type": "para", "indent": 4, "text": ["A subset of points in the input geometry to run the program on.\n    Leave this blank to affect all points in the input."], "extent": [2212, 2337]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["VEXpression"], "extent": [2337, 2350], "body": [{"type": "para", "indent": 4, "text": ["A snippet of VEX code that will manipulate the point attributes.\n    You can use ", {"type": "code", "text": ["@", {"type": "var", "text": ["variable_name"]}]}, " syntax to access geometry attributes."], "extent": [2368, 2513]}], "container": true, "attrs": {"id": "snippet"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Attributes to Create"], "extent": [2513, 2535], "body": [{"type": "para", "indent": 4, "text": ["Only create attributes if their names match this pattern.\n    The default pattern allows any attribute to be created."], "extent": [2556, 2683]}, {"type": "para", "indent": 4, "text": ["You can restrict the created attributes by replacing the ", {"type": "code", "text": ["*"]}, " with a list of allowed names.\n    Global attributes, such as ", {"type": "code", "text": ["Cd"]}, ", ", {"type": "code", "text": ["v"]}, ", and ", {"type": "code", "text": ["id"]}, ", will be created even if they are not in this list."], "extent": [2683, 2882]}], "container": true, "attrs": {"id": "exportlist"}, "role": "item"}], "container": true, "role": "item_group"}], "text": "Parameters"}, {"level": 1, "id": "related", "container": true, "type": "related_section", "indent": 0, "role": "section", "extent": [2882, 2891], "body": [{"type": "bullet_group", "body": [{"blevel": 2, "type": "bullet", "indent": 0, "text": [{"scheme": "Node", "value": "/nodes/sop/attribwrangle", "type": "link", "text": "", "fullpath": "/nodes/sop/attribwrangle"}], "extent": [2891, 2919]}, {"blevel": 2, "type": "bullet", "indent": 0, "text": [{"scheme": "Node", "value": "/nodes/sop/volumewrangle", "type": "link", "text": "", "fullpath": "/nodes/sop/volumewrangle"}], "extent": [2919, 2946]}, {"blevel": 2, "type": "bullet", "indent": 0, "text": [{"scheme": "Node", "value": "/nodes/sop/attribvop", "type": "link", "text": "", "fullpath": "/nodes/sop/attribvop"}], "extent": [2946, 2969]}, {"blevel": 2, "type": "bullet", "indent": 0, "text": [{"scheme": "Node", "value": "/nodes/sop/point", "type": "link", "text": "", "fullpath": "/nodes/sop/point"}], "extent": [2969, 2988]}, {"blevel": 2, "type": "bullet", "indent": 0, "text": [{"scheme": "Node", "value": "/nodes/sop/vopsop", "type": "link", "text": "", "fullpath": "/nodes/sop/vopsop"}], "extent": [2988, 3009]}], "container": true}], "text": "Related"}], "title": ["Point Wrangle"], "summary": ["Runs a VEX snippet to modify point attributes, including position."], "included": ["/nodes/sop/wrangle_syntax"]}