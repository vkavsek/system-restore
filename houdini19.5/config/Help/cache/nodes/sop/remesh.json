{"type": "root", "attrs": {"type": "node", "context": "sop", "internal": "remesh", "icon": "SOP/remesh", "tags": "polygons, topology, boxup, model", "version": "2.0", "since": "18.0", "verb_since": "18.0", "namespace": null}, "body": [{"level": 0, "type": "title", "indent": 0, "text": ["Remesh"], "extent": [0, 11]}, {"type": "summary", "indent": 0, "text": ["Recreates the shape of the input surface using ", {"type": "q", "text": ["high-quality"]}, " (nearly equilateral) triangles."], "extent": [160, 261]}, {"level": 2, "id": null, "container": true, "type": "h", "indent": 0, "text": ["Overview"], "extent": [261, 276], "body": [{"type": "para", "indent": 0, "text": ["This node tries to maximize the smallest angle in each triangle.\n(A ", {"type": "q", "text": ["high quality"]}, " triangle mesh is one where all angles are as close as possible to 60 degrees.)"], "extent": [276, 440]}, {"type": "para", "indent": 0, "text": ["This node does two types of remeshing:"], "extent": [440, 480]}, {"type": "dt_group", "body": [{"type": "dt", "indent": 0, "text": ["Uniform"], "extent": [480, 489], "body": [{"type": "para", "indent": 4, "text": ["The node tries to equalize all edge lengths, giving triangles of equal size."], "extent": [489, 571]}], "container": true}, {"type": "dt", "indent": 0, "text": ["Adaptive"], "extent": [571, 581], "body": [{"type": "para", "indent": 4, "text": ["The node uses bigger triangles in areas of lower curvature and smaller triangles in detailed areas.\n    This allows you to represent the original surface with fewer triangles, compared to a uniform mesh with target edge length comparable to the shortest edges in the adapative mesh.\n    However, since edge lengths vary, a higher tollerance for deviation from equilateral triangles must be permitted compared to the Uniform mode."], "extent": [581, 1016]}], "container": true}], "container": true}, {"type": "table", "thead": [], "body": [{"type": "row", "body": [{"type": "cell", "indent": 0, "text": ["Before remeshing "], "role": "td", "extent": [1016, 1035], "container": true}, {"type": "cell", "role": "td", "body": [{"type": "para", "indent": 4, "text": [{"scheme": "Image", "value": "/images/nodes/sop/remesh_squid_before.jpg", "type": "img", "text": ""}], "extent": [1035, 1089]}]}], "divider": false}, {"type": "row", "body": [{"type": "cell", "indent": 0, "text": ["Uniform "], "role": "td", "extent": [1089, 1099], "container": true}, {"type": "cell", "role": "td", "body": [{"type": "para", "indent": 4, "text": [{"scheme": "Image", "value": "/images/nodes/sop/remesh_squid_fixed.jpg", "type": "img", "text": ""}], "extent": [1099, 1152]}]}], "divider": false}, {"type": "row", "body": [{"type": "cell", "indent": 0, "text": ["Adaptive "], "role": "td", "extent": [1152, 1163], "container": true}, {"type": "cell", "role": "td", "body": [{"type": "para", "indent": 4, "text": [{"scheme": "Image", "value": "/images/nodes/sop/remesh_squid_adaptive.jpg", "type": "img", "text": ""}], "extent": [1163, 1220]}]}], "divider": false}]}, {"type": "para", "indent": 0, "text": ["You can ", {"type": "q", "text": ["harden"]}, " certain edges to make the remesher preserve them, by either keeping them as they are or covering them by a loop of shorter edges. This is useful for keeping sharp corners and preserving seams. Note that all boundary edges are always considered hardened. "], "extent": [1220, 1493]}]}, {"level": 1, "id": "parameters", "container": true, "type": "parameters_section", "indent": 0, "role": "section", "extent": [1493, 1505], "body": [{"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 0, "text": ["Group"], "extent": [1505, 1513], "body": [], "container": true, "attrs": {"id": "group    The primitive numbers of the polygons this node should operate on. Leave this field blank (the default) to operate on all polygons in the input."}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Hard Edges Group"], "extent": [1675, 1693], "body": [{"type": "para", "indent": 4, "text": ["An ", {"scheme": null, "value": "/model/groups", "type": "link", "text": ["edge group"], "fullpath": "/model/groups"}, " containing the ", {"type": "q", "text": ["hard"]}, " edges.\n    The remesher may subdivide hard edges, but will preserve them in the output.\n    The remesher always preserves boundary (unshared) edges\n    and non-manifold edges (edges shared by three or more polygons).\n    Use the ", {"scheme": "Node", "value": "/nodes/sop/group", "type": "link", "text": ["Group Geometry SOP"], "fullpath": "/nodes/sop/group"}, " to create edge groups."], "extent": [1693, 2042]}, {"type": "para", "indent": 4, "text": ["For example, the remesher changes the shape of a cube by trying to create good triangles.\n    Adding the corner edges to a ", {"type": "q", "text": ["hard edges"]}, " group preserves the shape of the cube."], "extent": [2042, 2226]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Harden UV Seams"], "extent": [2226, 2243], "body": [{"type": "para", "indent": 4, "text": ["When enabled, the edges at the boundary of UV islands for the given UV attribute are also considered hardened."], "extent": [2243, 2359]}], "container": true, "role": "item"}], "container": true, "role": "item_group"}, {"level": 2, "id": null, "container": true, "type": "h", "indent": 0, "text": ["Meshing"], "extent": [2359, 2373], "body": [{"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 0, "text": ["Iterations"], "extent": [2373, 2385], "body": [{"type": "para", "indent": 4, "text": ["Increasing this increases the quality of the generated mesh but takes more time. Too many iterations can also be coorsive to the preservation of the shape or attributes. \n    The first few iterations take longer to perform than later iterations,\n    but later iterations have decreasing benefit.\n    Typically the maximum useful number of iterations is 3 to 4."], "extent": [2385, 2755]}, {"type": "para", "indent": 4, "text": ["If you set the iterations to ", {"type": "code", "text": ["0"]}, ", the output geometry will triangulate the input group and can\n    generate the target mesh size attribute or mesh quality attributes for the input mesh."], "extent": [2755, 2946]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Smoothing"], "extent": [2946, 2957], "body": [{"type": "para", "indent": 4, "text": ["Chooses the amount of smoothing used in each iteration. Sharp features limit the quality of the triangles\n    that can be used near them. Smoothing soften the shapr features and allows use of more equaliteral triangles\n    in their vicinity. Higher smoothing (smooths) the overall shape of the model but tends to produce better\n    quality triangles and smoother interpolation of attributes. "], "extent": [2957, 3355]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Detach From Nongroup Geometry"], "extent": [3355, 3386], "body": [{"type": "para", "indent": 4, "text": ["When eneabled, if the group parameter doesn\u2019t cover all polygons in the input, nongroup polygons will be cut from the group ones before the remeshing the group. Otherwise, the nongroup polygons stay connected to their group neighbors. Notice that in this case it is possible that the neighbouring nongroup polygons acquire more vertices, e.g. a triangle may become a quad or an N-gon because of the subdivision of its edges shared by gruop polygons. "], "extent": [3386, 3842]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Recompute Normals"], "extent": [3842, 3861], "body": [{"type": "para", "indent": 4, "text": ["Compute new normals for the generated mesh. If not enabled, the normal attribute is interpolated like any\n    other point or vertex attribute. "], "extent": [3861, 4018]}], "container": true, "role": "item"}], "container": true, "role": "item_group"}]}, {"level": 2, "id": null, "container": true, "type": "h", "indent": 0, "text": ["Element Sizing"], "extent": [4018, 4039], "body": [{"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 0, "text": ["Edge Lengths"], "extent": [4039, 4054], "body": [{"type": "para", "indent": 4, "text": ["Uniform: Use a fixed target edge length (in Houdini units) across the entire geometry."], "extent": [4054, 4146]}, {"type": "para", "indent": 4, "text": ["Adaptive: Allow variation of the length based on local curvature. "], "extent": [4146, 4218]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Target Size"], "extent": [4218, 4231], "body": [{"type": "para", "indent": 4, "text": ["Determines the target edge length (in Houdini Units) in the Uniform edge length mode."], "extent": [4231, 4322]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Max Size"], "extent": [4322, 4332], "body": [{"type": "para", "indent": 4, "text": ["In adaptive mode, when enabled, sets a maximum allowed edge length (in Houdini Units)."], "extent": [4332, 4424]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Min Size"], "extent": [4424, 4434], "body": [{"type": "para", "indent": 4, "text": ["In adaptive mode, when enabled, sets a minimum allowed edge length (in Houdini Units). "], "extent": [4434, 4527]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Relative Density"], "extent": [4527, 4545], "body": [{"type": "para", "indent": 4, "text": ["In adaptive mode, sets the relative density of the sampling. A relative density of 1,\n    would use mesh sizes similar to what would be used to mesh a sphere of a similar curvature radius with about 16 points. A relative density of 2, would make the local target edge length smaller to match what would cover the sphere with about 32 point, and so on."], "extent": [4545, 4902]}, {"type": "para", "indent": 4, "text": ["Note: It is important to realize that the target edge lengths cannot be ontrolled freely across a surface because maintaining triangle quality dictates a limited rate of change of edge length as one moves along the surface."], "extent": [4902, 5130]}], "container": true, "role": "item"}], "container": true, "role": "item_group"}, {"type": "para", "indent": 0, "text": ["As an extreme example, a gradation of zero, e.g. would compltely rule out any change of edge lengths from one point to neighbouring areas which would imply that all edge lengths would have to be the same over a connected piece of geometry. Note also that the smaller features (those with smaller local curvature radii) have dominating role on the overall target edges lengths. For example, if a single point, say point 0, in a mesh requires a small local edge length but all the other ones are in flat areas (so pose no limitations) on target edge length, then all the edge lengths are grown at a limited rate away from point 0."], "extent": [5130, 5761]}, {"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 0, "text": ["Use Input Points Only"], "extent": [5761, 5784], "body": [{"type": "para", "indent": 4, "text": ["Restricts the remesher to only use the points from the input geometry.\n    This can severely limit the remesher\u2019s ability to generate good triangles."], "extent": [5784, 5939]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Gradation"], "extent": [5939, 5950], "body": [{"type": "para", "indent": 4, "text": ["The rate at which edge lengths are allowed to change from one triangle to the next.\n    Higher values generate fewer triangles but overall quality is lower. A gradation of 0 is equivalent to uniform meshing. "], "extent": [5950, 6169]}], "container": true, "role": "item"}], "container": true, "role": "item_group"}]}, {"level": 2, "id": null, "container": true, "type": "h", "indent": 0, "text": ["Control Attributes"], "extent": [6169, 6194], "body": [{"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 0, "text": ["Mesh Size Attribute"], "extent": [6194, 6215], "body": [{"type": "para", "indent": 4, "text": ["A point attribute dictating the desired edge lengths at any input mesh point. As explained above, smaller values can dominate the larger one nearby to uphold the desired gradation. "], "extent": [6215, 6402]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Min Size Attribute"], "extent": [6402, 6422], "body": [{"type": "para", "indent": 4, "text": ["A point attribute constituting a lower bound on how small edges incident to each point can get. "], "extent": [6422, 6524]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Max Size Attribute"], "extent": [6524, 6544], "body": [{"type": "para", "indent": 4, "text": ["A point attribute constituting an upper bound on how large edges incident to each point can get."], "extent": [6544, 6646]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["== Output Groups and Attributes ===\nHard Edges"], "extent": [6646, 6694], "body": [{"type": "para", "indent": 4, "text": ["Returns the possibly subdivded hard edgs, including all the boundary edges or UV seams if requested, as an edge group over the output mesh."], "extent": [6694, 6839]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Mesh Size"], "extent": [6839, 6850], "body": [{"type": "para", "indent": 4, "text": ["Reports the working mesh size point attribute calcualted after applying the corrections needed for upholding the target gradation. "], "extent": [6850, 6987]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Mesh Quality"], "extent": [6987, 7001], "body": [{"type": "para", "indent": 4, "text": ["Produces a primitive attribute that gives a measure of quality for each mesh triangle. The returned value will be 1 for a perfectly equilateral triangle and goes toward zero for long and skinny triangles. "], "extent": [7001, 7213]}], "container": true, "role": "item"}], "container": true, "role": "item_group"}]}], "text": "Parameters"}, {"level": 1, "id": "related", "container": true, "type": "related_section", "indent": 0, "role": "section", "extent": [7213, 7222], "body": [{"type": "bullet_group", "body": [{"blevel": 2, "type": "bullet", "indent": 0, "text": [{"scheme": "Node", "value": "/nodes/sop/divide", "type": "link", "text": "", "fullpath": "/nodes/sop/divide"}], "extent": [7222, 7243]}, {"blevel": 2, "type": "bullet", "indent": 0, "text": [{"scheme": "Node", "value": "/nodes/sop/triangulate2d", "type": "link", "text": "", "fullpath": "/nodes/sop/triangulate2d"}], "extent": [7243, 7270]}, {"blevel": 2, "type": "bullet", "indent": 0, "text": [{"scheme": "Node", "value": "/nodes/sop/tridivide", "type": "link", "text": "", "fullpath": "/nodes/sop/tridivide"}], "extent": [7270, 7293]}, {"blevel": 2, "type": "bullet", "indent": 0, "text": [{"scheme": "Node", "value": "/nodes/sop/polyreduce", "type": "link", "text": "", "fullpath": "/nodes/sop/polyreduce"}], "extent": [7293, 7317]}, {"blevel": 2, "type": "bullet", "indent": 0, "text": [{"scheme": "Node", "value": "/nodes/sop/polysplit", "type": "link", "text": "", "fullpath": "/nodes/sop/polysplit"}], "extent": [7317, 7340]}, {"blevel": 2, "type": "bullet", "indent": 0, "text": [{"scheme": "Node", "value": "/nodes/sop/tridivide", "type": "link", "text": "", "fullpath": "/nodes/sop/tridivide"}], "extent": [7340, 7364]}], "container": true}], "text": "Related"}], "title": ["Remesh"], "summary": ["Recreates the shape of the input surface using ", {"type": "q", "text": ["high-quality"]}, " (nearly equilateral) triangles."]}