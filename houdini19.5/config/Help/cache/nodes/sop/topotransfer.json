{"type": "root", "attrs": {"type": "node", "context": "sop", "internal": "topotransfer", "icon": "SOP/topotransfer.svg", "tags": "character, topology, retargeting", "since": "18.5", "verb_since": "18.0", "version": null, "namespace": null}, "body": [{"level": 0, "type": "title", "indent": 0, "text": ["Topo Transfer"], "extent": [0, 18]}, {"type": "summary", "indent": 0, "text": ["Non-rigidly deforms a surface to match the size and shape of a different surface."], "extent": [174, 263]}, {"level": 2, "id": null, "container": true, "type": "h", "indent": 0, "text": ["Overview"], "extent": [263, 278], "body": [{"type": "vimeo_group", "body": [{"ext": null, "type": "vimeo", "indent": 0, "text": [" Topo Transfer Quick Start"], "role": "item", "extent": [278, 313], "body": [], "container": true, "attrs": {"id": "429613605"}}], "container": true, "role": "item_group"}, {"type": "para", "indent": 0, "text": ["This node takes a ", {"type": "strong", "text": ["source"]}, " mesh and non-rigidly deforms it to match the size and shape of a ", {"type": "strong", "text": ["target"]}, " mesh. "], "extent": [333, 442]}, {"type": "fig_group", "body": [{"ext": null, "type": "fig", "indent": 0, "text": [" ", {"scheme": "Image", "value": "/images/nodes/sop/topotransfer_SourceTargetResult.jpg", "type": "img", "text": ""}], "role": "item", "extent": [442, 510], "body": [], "container": true, "attrs": {"display": "left wide"}}], "container": true, "role": "item_group"}, {"type": "para", "indent": 0, "text": ["This deformation is performed iteratively. The ", {"type": "strong", "text": ["source"]}, " mesh is usually more rigid at the beginning of the deformation process, which allows the node to capture the overall size and rough shape of the ", {"type": "strong", "text": ["target"]}, " mesh, and less rigid towards the end, which allows the node to capture small shape details. You can control the rigidity of the ", {"type": "strong", "text": ["source"]}, " mesh throughout the iterations using the ", {"scheme": null, "value": "#rigidweights", "type": "link", "text": ["Rigid Weights"], "fullpath": "/nodes/sop/topotransfer#rigidweights", "fragment": "#rigidweights"}, " parameter."], "extent": [535, 965]}, {"type": "para", "indent": 0, "text": ["To improve the performance and the robustness of the deformation process, the node uses a reduced-to-fine deformation strategy. Internally, the node deforms the reduced version of the ", {"type": "em", "text": ["original"]}, " ", {"type": "strong", "text": ["source"]}, " mesh and then propagates the deformation to all points of the ", {"type": "strong", "text": ["source"]}, " mesh."], "extent": [965, 1247]}, {"type": "para", "indent": 0, "text": ["The node also uses user-defined landmark point correspondences between the ", {"type": "strong", "text": ["source"]}, " and the ", {"type": "strong", "text": ["target"]}, " meshes to help improve the deformation\u2019s quality. You can control the influence of the landmarks throughout the iterations using the ", {"scheme": null, "value": "#landmarkweights", "type": "link", "text": ["Landmark Weights"], "fullpath": "/nodes/sop/topotransfer#landmarkweights", "fragment": "#landmarkweights"}, " parameter. "], "extent": [1247, 1530]}, {"type": "note_group", "body": [{"type": "note", "indent": 0, "role": "item", "extent": [0, 6], "body": [{"type": "para", "indent": 4, "text": ["This node uses Intel\u2019s Math Kernel Library. You can ", {"scheme": null, "value": "/model/mkl", "type": "link", "text": ["use an environment variable"], "fullpath": "/model/mkl"}, " to tune the library for speed or for producing identical results from run to run."], "extent": [6, 185]}], "container": true}], "container": true, "role": "item_group"}]}, {"level": 2, "id": null, "container": true, "type": "h", "indent": 0, "text": ["Retargeting topology"], "extent": [1551, 1578], "body": [{"type": "para", "indent": 0, "text": ["To retarget one topology to another in Houdini, the following is required:"], "extent": [1578, 1654]}, {"type": "bullet_group", "body": [{"blevel": 2, "type": "bullet", "indent": 0, "text": ["Position the ", {"type": "strong", "text": ["source"]}, " and ", {"type": "strong", "text": ["target"]}, " meshes close to each other in world space."], "extent": [1654, 1734]}, {"blevel": 2, "type": "bullet", "indent": 0, "text": ["The ", {"type": "strong", "text": ["source"]}, " and ", {"type": "strong", "text": ["target"]}, " meshes must have similar scales."], "extent": [1734, 1795]}, {"blevel": 2, "type": "bullet", "indent": 0, "text": ["The ", {"type": "strong", "text": ["source"]}, " mesh has to be ", {"scheme": null, "value": "#sourcegeo", "type": "link", "text": ["manifold geometry"], "fullpath": "/nodes/sop/topotransfer#sourcegeo", "fragment": "#sourcegeo"}, ". If any part of the source is ", {"type": "em", "text": ["not"]}, " connected to its mesh (for example, like a separate piece of teeth geometry), then an error will be issued.  For such cases, Topo Transfer supports geometric constraints that require some additional setup.  See the ", {"scheme": null, "value": "#multigeoscenario", "type": "link", "text": ["Tips and tricks"], "fullpath": "/nodes/sop/topotransfer#multigeoscenario", "fragment": "#multigeoscenario"}, " section for more details.  "], "extent": [1795, 2172]}], "container": true}, {"type": "para", "indent": 0, "text": ["For best results, position the ", {"type": "strong", "text": ["source"]}, " and ", {"type": "strong", "text": ["target"]}, " meshes on-top of (overlapping) each other and use ", {"type": "em", "text": ["landmarks"]}, " to guide the deformation. ", {"scheme": null, "value": "#landmarktoolbar", "type": "link", "text": ["Landmarks"], "fullpath": "/nodes/sop/topotransfer#landmarktoolbar", "fragment": "#landmarktoolbar"}, " are user-defined point correspondences between the two meshes."], "extent": [2172, 2406]}, {"type": "fig_group", "body": [{"ext": null, "type": "fig", "indent": 0, "text": [" ", {"scheme": "Image", "value": "/images/nodes/sop/topotransfer_OverlapGeo.jpg", "type": "img", "text": ""}], "role": "item", "extent": [2406, 2466], "body": [{"type": "summary", "indent": 4, "text": ["Overlapping source and target geometry"], "extent": [2491, 2541]}], "container": true, "attrs": {"display": "left wide"}}], "container": true, "role": "item_group"}, {"level": 3, "id": null, "container": true, "type": "h", "indent": 0, "text": ["How to"], "extent": [2541, 2556], "body": [{"type": "ord_group", "body": [{"blevel": 2, "type": "ord", "indent": 0, "text": ["In the ", {"type": "ui", "text": ["Network Editor"]}, ", create a new ", {"scheme": "Icon", "value": "SOP/topotransfer", "type": "link", "text": "", "fullpath": "/nodes/sop/SOP/topotransfer"}, " ", {"type": "code", "text": ["Topo Transfer"]}, " SOP node."], "extent": [2556, 2650]}, {"blevel": 2, "type": "ord", "indent": 0, "text": ["Connect the ", {"scheme": null, "value": "#sourcegeo", "type": "link", "text": ["source"], "fullpath": "/nodes/sop/topotransfer#sourcegeo", "fragment": "#sourcegeo"}, " geometry\u2019s node to the first input on the ", {"type": "code", "text": ["Topo Transfer"]}, " node and the ", {"scheme": null, "value": "#targetgeo", "type": "link", "text": ["target"], "fullpath": "/nodes/sop/topotransfer#targetgeo", "fragment": "#targetgeo"}, " geometry\u2019s node to the second input."], "extent": [2650, 2813], "body": [{"type": "fig_group", "body": [{"ext": null, "type": "fig", "indent": 4, "text": [" ", {"scheme": "Image", "value": "/images/nodes/sop/topotransfer_NodeConnections.jpg", "type": "img", "text": ""}], "role": "item", "extent": [2813, 2882], "body": [{"type": "summary", "indent": 8, "text": ["For example, the template head node is connected to the source input and the 3D scan file node is connected to the target input."], "extent": [2911, 3055]}], "container": true, "attrs": {"display": "left full"}}], "container": true, "role": "item_group"}], "container": true}, {"blevel": 2, "type": "ord", "indent": 0, "text": ["Turn on the ", {"type": "ui", "text": ["Display"]}, " flag for the ", {"scheme": "Icon", "value": "SOP/topotransfer", "type": "link", "text": "", "fullpath": "/nodes/sop/SOP/topotransfer"}, " ", {"type": "code", "text": ["Topo Transfer"]}, " node."], "extent": [3055, 3141], "body": [{"type": "para", "indent": 4, "text": ["The undeformed ", {"type": "strong", "text": ["source"]}, " geometry appears in the viewport and a warning appears on the ", {"type": "code", "text": ["Topo Transfer"]}, " node."], "extent": [3141, 3254]}, {"type": "fig_group", "body": [{"ext": null, "type": "fig", "indent": 4, "text": [" ", {"scheme": "Image", "value": "/images/nodes/sop/topotransfer_InitialWarning.jpg", "type": "img", "text": ""}], "role": "item", "extent": [3254, 3322], "body": [], "container": true, "attrs": {"display": "left wide"}}], "container": true, "role": "item_group"}, {"type": "para", "indent": 4, "text": ["Before the ", {"type": "code", "text": ["Topo Transfer"]}, " node can cook, it first needs at least ", {"type": "em", "text": ["one"]}, " valid landmark point pair. A landmark point pair is ", {"type": "em", "text": ["not"]}, " valid until you set the position of its ", {"type": "strong", "text": ["target"]}, " point."], "extent": [3351, 3542]}, {"type": "note_group", "body": [{"type": "note", "indent": 4, "role": "item", "extent": [3542, 3552], "body": [{"type": "para", "indent": 8, "text": ["If you want to cook the ", {"type": "code", "text": ["Topo Transfer"]}, " node without using landmark points to improve the quality of the deformation, you can disable landmark groups by turning ", {"type": "em", "text": ["off"]}, " the ", {"type": "ui", "text": ["Enable Landmarks"]}, " parameter on the ", {"type": "code", "text": ["Topo Transfer"]}, " node."], "extent": [3552, 3792]}], "container": true}], "container": true, "role": "item_group"}], "container": true}, {"blevel": 2, "type": "ord", "indent": 0, "text": ["In the Network Editor, make sure that the ", {"type": "code", "text": ["Topo Transfer"]}, " node is selected, hover your mouse pointer over the viewport, and then press ", {"keys": ["Enter"], "type": "keys", "text": null}, "."], "extent": [3792, 3941], "body": [{"type": "para", "indent": 4, "text": ["The following occurs:"], "extent": [3941, 3968]}, {"type": "bullet_group", "body": [{"blevel": 6, "type": "bullet", "indent": 4, "text": ["A new landmark group is automatically created for your ", {"type": "code", "text": ["Topo Transfer"]}, " node."], "extent": [3968, 4052]}, {"blevel": 6, "type": "bullet", "indent": 4, "text": ["You are now in the ", {"type": "em", "text": ["edit state"]}, " for that landmark group."], "extent": [4052, 4116]}, {"blevel": 6, "type": "bullet", "indent": 4, "text": ["The ", {"scheme": null, "value": "#landmarktoolbar", "type": "link", "text": ["Landmark toolbar"], "fullpath": "/nodes/sop/topotransfer#landmarktoolbar", "fragment": "#landmarktoolbar"}, " appears across the top of the viewport, and the new landmark group\u2019s name appears in the ", {"type": "ui", "text": ["Group Name"]}, " toolbar field. "], "extent": [4116, 4283], "body": [{"type": "para", "indent": 8, "text": ["This toolbar contains the controls that allow you to create landmark groups and edit landmark group point ", {"type": "em", "text": ["correspondences"]}, "."], "extent": [4283, 4417]}, {"type": "para", "indent": 8, "text": ["Since you are in the edit state, the landmark group edit options for the current landmark group appear in the toolbar."], "extent": [4417, 4545]}], "container": true}, {"blevel": 6, "type": "bullet", "indent": 4, "text": ["The ", {"type": "strong", "text": ["source"]}, " landmark guide mesh appears in the viewport."], "extent": [4545, 4610]}, {"blevel": 6, "type": "bullet", "indent": 4, "text": ["A new landmark group appears under ", {"type": "ui", "text": ["Landmarks"]}, " in the ", {"type": "code", "text": ["Topo Transfer"]}, " node\u2019s parameters. Each landmark group contains one or more landmark point pairs."], "extent": [4610, 4771]}], "container": true}, {"type": "tip_group", "body": [{"type": "tip", "indent": 4, "role": "item", "extent": [4771, 4780], "body": [{"type": "para", "indent": 8, "text": ["You can also create landmark groups by clicking the ", {"type": "ui", "text": ["Create Group"]}, " button in the Landmark toolbar or the ", {"type": "ui", "text": ["Landmarks"]}, " > ", {"type": "ui", "text": ["Landmark Groups"]}, " > ", {"type": "strong", "text": ["+"]}, " button in the ", {"type": "code", "text": ["Topo Transfer"]}, " node\u2019s parameters."], "extent": [4780, 4986]}], "container": true}], "container": true, "role": "item_group"}, {"type": "note_group", "body": [{"type": "note", "indent": 4, "role": "item", "extent": [4986, 4996], "body": [{"type": "para", "indent": 8, "text": ["If you create a landmark group through the ", {"type": "code", "text": ["Topo Transfer"]}, " node\u2019s parameters instead, then you can only directly enter the edit state for that group by clicking its ", {"type": "ui", "text": ["Edit Landmark Group"]}, " button."], "extent": [4996, 5202]}], "container": true}], "container": true, "role": "item_group"}], "container": true}, {"blevel": 2, "type": "ord", "indent": 0, "text": ["Rename the new landmark group."], "extent": [5202, 5236], "body": [{"type": "para", "indent": 4, "text": ["In the ", {"type": "ui", "text": ["Landmark Group"]}, " toolbar, click in the ", {"type": "ui", "text": ["Group Name"]}, " field, type the new name for the landmark group, and then press ", {"keys": ["Enter"], "type": "keys", "text": null}, "."], "extent": [5236, 5379]}, {"type": "fig_group", "body": [{"ext": null, "type": "fig", "indent": 4, "text": [" ", {"scheme": "Image", "value": "/images/nodes/sop/topotransfer_LandmarkToolbarGroupName.jpg", "type": "img", "text": ""}], "role": "item", "extent": [5379, 5457], "body": [{"type": "summary", "indent": 12, "text": ["Group Name field, Landmark toolbar when in the edit state"], "extent": [5490, 5567]}], "container": true, "attrs": {"display": "left full"}}], "container": true, "role": "item_group"}, {"type": "tip_group", "body": [{"type": "tip", "indent": 4, "role": "item", "extent": [5567, 5576], "body": [{"type": "para", "indent": 8, "text": ["You can also rename a landmark group using the ", {"type": "ui", "text": ["Landmarks"]}, " > ", {"type": "ui", "text": ["Landmark Groups"]}, " > ", {"type": "ui", "text": ["Name"]}, " field in the ", {"type": "code", "text": ["Topo Transfer"]}, " node\u2019s parameters."], "extent": [5576, 5727]}], "container": true}], "container": true, "role": "item_group"}], "container": true}, {"blevel": 2, "type": "ord", "indent": 0, "text": ["In the viewport, ", {"keys": ["LMB"], "type": "keys", "text": null}, "-click the locations on the ", {"type": "strong", "text": ["source"]}, " guide mesh where you want to place the landmark point pairs."], "extent": [5761, 5886], "body": [{"type": "para", "indent": 4, "text": ["The new landmark point pairs automatically snap to the ", {"type": "strong", "text": ["source"]}, " guide mesh\u2019s surface. You can freely ", {"keys": ["LMB"], "type": "keys", "text": null}, "-drag the landmark point pairs to any location on the guide mesh, not just its polygonal indices."], "extent": [5886, 6097]}, {"type": "para", "indent": 4, "text": ["A landmark point pair consists of a ", {"type": "strong", "text": ["source"]}, " point and its corresponding ", {"type": "strong", "text": ["target"]}, " point. Initially, a ", {"type": "strong", "text": ["target"]}, " point has the same location as its corresponding ", {"type": "strong", "text": ["source"]}, " point."], "extent": [6097, 6278]}, {"type": "tip_group", "body": [{"type": "tip", "indent": 4, "role": "item", "extent": [6278, 6287], "body": [{"type": "bullet_group", "body": [{"blevel": 10, "type": "bullet", "indent": 8, "text": ["You can ", {"type": "em", "text": ["delete"]}, " a ", {"type": "strong", "text": ["source"]}, " point or a ", {"type": "strong", "text": ["target"]}, " point by ", {"keys": ["LMB"], "type": "keys", "text": null}, "-clicking on the point in the viewport. Deleting a ", {"type": "strong", "text": ["source"]}, " point deletes its landmark points pair."], "extent": [6287, 6461]}, {"blevel": 10, "type": "bullet", "indent": 8, "text": ["You can reposition the ", {"type": "strong", "text": ["source"]}, " guide mesh using the translate handles."], "extent": [6461, 6544]}], "container": true}, {"type": "fig_group", "body": [{"ext": null, "type": "fig", "indent": 8, "text": [" ", {"scheme": "Image", "value": "/images/nodes/sop/topotransfer_SourceGuideMeshTransHandles.jpg", "type": "img", "text": ""}], "role": "item", "extent": [6544, 6629], "body": [{"type": "summary", "indent": 12, "text": ["Translate handles"], "extent": [6664, 6701]}], "container": true, "attrs": {"display": "left narrow"}}], "container": true, "role": "item_group"}], "container": true}], "container": true, "role": "item_group"}], "container": true}, {"blevel": 2, "type": "ord", "indent": 0, "text": ["Press ", {"keys": ["Ctrl"], "type": "keys", "text": null}, " + ", {"keys": ["G"], "type": "keys", "text": null}, " to switch to viewing the ", {"type": "strong", "text": ["target"]}, " guide mesh."], "extent": [6732, 6804], "body": [{"type": "tip_group", "body": [{"type": "tip", "indent": 4, "role": "item", "extent": [6804, 6813], "body": [{"type": "para", "indent": 8, "text": ["You can also use the ", {"type": "ui", "text": ["Show"]}, " drop-down menu options in the Landmark toolbar to switch between viewing the ", {"type": "strong", "text": ["source"]}, " and ", {"type": "strong", "text": ["target"]}, " guide meshes."], "extent": [6813, 6965]}], "container": true}], "container": true, "role": "item_group"}, {"type": "para", "indent": 4, "text": ["A green ring appears around the current active ", {"type": "strong", "text": ["source"]}, " point. Your next click on the ", {"type": "strong", "text": ["target"]}, " guide mesh will place the ", {"type": "strong", "text": ["target"]}, " point for that active ", {"type": "strong", "text": ["source"]}, " point."], "extent": [6965, 7138]}, {"type": "fig_group", "body": [{"ext": null, "type": "fig", "indent": 4, "text": [" ", {"scheme": "Image", "value": "/images/nodes/sop/topotransfer_GreenRing.jpg", "type": "img", "text": ""}], "role": "item", "extent": [7138, 7201], "body": [{"type": "summary", "indent": 8, "text": ["Green ring around active ", {"type": "strong", "text": ["source"]}, " point"], "extent": [7232, 7287]}], "container": true, "attrs": {"display": "left narrow"}}], "container": true, "role": "item_group"}, {"type": "note_group", "body": [{"type": "note", "indent": 4, "role": "item", "extent": [7287, 7297], "body": [{"type": "para", "indent": 8, "text": ["The green ring only dictates ", {"type": "strong", "text": ["target"]}, " point placement order when using ", {"keys": ["LMB"], "type": "keys", "text": null}, "-clicks to place points. You can place ", {"type": "strong", "text": ["target"]}, " points in ", {"type": "em", "text": ["any order"]}, " by ", {"keys": ["LMB"], "type": "keys", "text": null}, "-dragging them instead."], "extent": [7297, 7488]}], "container": true}], "container": true, "role": "item_group"}], "container": true}, {"blevel": 2, "type": "ord", "indent": 0, "text": ["For your landmark point pairs, do the following:"], "extent": [7488, 7540], "body": [{"type": "bullet_group", "body": [{"blevel": 6, "type": "bullet", "indent": 4, "text": ["Click the locations on the ", {"type": "strong", "text": ["target"]}, " guide mesh you want to move the ", {"type": "strong", "text": ["target"]}, " points to. The ", {"type": "strong", "text": ["target"]}, " points automatically snap to the ", {"type": "strong", "text": ["target"]}, " guide mesh\u2019s surface."], "extent": [7540, 7723]}, {"blevel": 6, "type": "bullet", "indent": 4, "text": [{"keys": ["LMB"], "type": "keys", "text": null}, "-drag the landmark point pair to move its ", {"type": "strong", "text": ["target"]}, " point to the desired location on the ", {"type": "strong", "text": ["target"]}, " guide mesh. The ", {"type": "strong", "text": ["target"]}, " point automatically snaps to the ", {"type": "strong", "text": ["target"]}, " guide mesh\u2019s surface."], "extent": [7723, 7923], "body": [{"type": "note_group", "body": [{"type": "note", "indent": 8, "role": "item", "extent": [7923, 7937], "body": [{"type": "bullet_group", "body": [{"blevel": 14, "type": "bullet", "indent": 12, "text": ["When you have multiple landmark point pairs, you can ", {"keys": ["LMB"], "type": "keys", "text": null}, "-drag their ", {"type": "strong", "text": ["target"]}, " points in ", {"type": "em", "text": ["any"]}, " order. The green ring only dictates placement order when ", {"keys": ["LMB"], "type": "keys", "text": null}, "-click placing ", {"type": "strong", "text": ["target"]}, " points."], "extent": [7937, 8144]}, {"blevel": 14, "type": "bullet", "indent": 12, "text": [{"type": "em", "text": ["Where"]}, " you can move the ", {"type": "strong", "text": ["target"]}, " point to on the ", {"type": "strong", "text": ["target"]}, " guide mesh is determined by the ", {"scheme": null, "value": "#ptargetgroupnum", "type": "link", "text": ["Target Points Group"], "fullpath": "/nodes/sop/topotransfer#ptargetgroupnum", "fragment": "#ptargetgroupnum"}, " and ", {"scheme": null, "value": "#targetposnum", "type": "link", "text": ["Target Point Coordinates"], "fullpath": "/nodes/sop/topotransfer#targetposnum", "fragment": "#targetposnum"}, " parameter settings. By default, you can freely ", {"keys": ["LMB"], "type": "keys", "text": null}, "-drag the ", {"type": "strong", "text": ["target"]}, " points to any location on the ", {"type": "strong", "text": ["target"]}, " guide mesh, not just its polygonal indices."], "extent": [8144, 8490]}], "container": true}], "container": true}], "container": true, "role": "item_group"}], "container": true}], "container": true}, {"type": "para", "indent": 4, "text": ["When in the edit state, ", {"type": "strong", "text": ["source"]}, " points always appear as green ", {"type": "em", "text": ["circles"]}, ", ", {"type": "strong", "text": ["target"]}, " points always appear as light blue ", {"type": "em", "text": ["squares"]}, ", and dashed lines appears between the ", {"type": "strong", "text": ["source"]}, " and ", {"type": "strong", "text": ["target"]}, " points to indicate their landmark point pair relationships."], "extent": [8490, 8743]}, {"type": "tip_group", "body": [{"type": "tip", "indent": 4, "role": "item", "extent": [8743, 8752], "body": [{"type": "bullet_group", "body": [{"blevel": 10, "type": "bullet", "indent": 8, "text": ["You can change the color of all the landmark point pairs in a landmark group with the ", {"type": "ui", "text": ["Landmark Group"]}, " > ", {"type": "ui", "text": ["Color"]}, " parameter. This only specifies the color the points appear as when in the landmark group state, ", {"type": "em", "text": ["not"]}, " the color they appear as when in the edit state."], "extent": [8752, 9030]}, {"blevel": 10, "type": "bullet", "indent": 8, "text": ["To see a transparent version of the ", {"type": "strong", "text": ["source"]}, " guide mesh while viewing your ", {"type": "strong", "text": ["target"]}, " guide mesh, turn on ", {"type": "ui", "text": ["Show Source Silhouette"]}, " in the Landmark toolbar."], "extent": [9030, 9197]}], "container": true}], "container": true}], "container": true, "role": "item_group"}], "container": true}, {"blevel": 2, "type": "ord", "indent": 0, "text": ["When you have finished editing the positions of the ", {"type": "strong", "text": ["source"]}, " and ", {"type": "strong", "text": ["target"]}, " points in the landmark group, click ", {"type": "ui", "text": ["Done Editing"]}, " in the Landmark toolbar or press ", {"keys": ["Enter"], "type": "keys", "text": null}, " to save your changes and exit the edit state."], "extent": [9197, 9416]}, {"blevel": 2, "type": "ord", "indent": 0, "text": ["In the Landmark toolbar, click ", {"type": "ui", "text": ["Solve"]}, " to trigger the cook (solve) for the node."], "extent": [9416, 9502], "body": [{"type": "para", "indent": 4, "text": ["The following occurs:"], "extent": [9502, 9529]}, {"type": "bullet_group", "body": [{"blevel": 6, "type": "bullet", "indent": 4, "text": ["The progress of the solve appears at the bottom of the Houdini window."], "extent": [9529, 9611]}, {"blevel": 6, "type": "bullet", "indent": 4, "text": ["The output geometry appears in the viewport."], "extent": [9611, 9663], "body": [{"type": "fig_group", "body": [{"ext": null, "type": "fig", "indent": 8, "text": [" ", {"scheme": "Image", "value": "/images/nodes/sop/topotransfer_OutputGeo.jpg", "type": "img", "text": ""}], "role": "item", "extent": [9663, 9730], "body": [{"type": "summary", "indent": 12, "text": ["Example: Output geometry"], "extent": [9765, 9809]}], "container": true, "attrs": {"display": "left narrow"}}], "container": true, "role": "item_group"}], "container": true}], "container": true}, {"type": "note_group", "body": [{"type": "note", "indent": 4, "role": "item", "extent": [9809, 9819], "body": [{"type": "para", "indent": 8, "text": ["You can also trigger the solve from the edit state."], "extent": [9819, 9880]}], "container": true}], "container": true, "role": "item_group"}, {"type": "para", "indent": 4, "text": ["Now that you can see the output geometry from the topo transfer operation, you can refine its deformations."], "extent": [9880, 9993]}], "container": true}, {"blevel": 2, "type": "ord", "indent": 0, "text": ["Repeat steps 4-10 for each landmark group you want to create."], "extent": [9993, 10058]}, {"blevel": 2, "type": "ord", "indent": 0, "text": ["For areas of the ", {"type": "strong", "text": ["source"]}, " mesh or ", {"type": "strong", "text": ["target"]}, " mesh that have greater detail, add extra landmark point pairs to those areas. "], "extent": [10058, 10183], "body": [{"type": "para", "indent": 4, "text": ["This increases the registration in those mesh areas and improves the quality of the output geometry."], "extent": [10183, 10289]}, {"type": "para", "indent": 4, "text": ["For example, for detailed humanoid models, the areas around the eyes, nose, ears, and mouth require greater attention during the topology transfer process to produce a more accurate deformation result."], "extent": [10289, 10496]}, {"type": "warning_group", "body": [{"type": "warning", "indent": 4, "role": "item", "extent": [10496, 10509], "body": [{"type": "para", "indent": 8, "text": ["Do ", {"type": "em", "text": ["not"]}, " apply too many landmark point pairs as this will constrain the solve too much and may produce the opposite effect of what you are trying to achieve."], "extent": [10509, 10676]}], "container": true}], "container": true, "role": "item_group"}], "container": true}, {"blevel": 2, "type": "ord", "indent": 0, "text": ["For areas of the ", {"type": "strong", "text": ["source"]}, " mesh that you want to ", {"type": "em", "text": ["exclude"]}, " from the solve, use the ", {"type": "ui", "text": ["Rigid Primitives"]}, " parameter to specify which primitives to ignore:"], "extent": [10676, 10831], "body": [{"type": "bullet_group", "body": [{"blevel": 6, "type": "bullet", "indent": 4, "text": ["Use the ", {"type": "ui", "text": ["Rigid Primitives"]}, " drop-down list to select existing primitive ", {"type": "em", "text": ["groups"]}, ". You can select multiple groups."], "extent": [10831, 10953]}, {"blevel": 6, "type": "bullet", "indent": 4, "text": ["Use the ", {"type": "ui", "text": ["Rigid Primitives"]}, " select geometry tool (arrow button next to the parameter) to select the primitives in the viewport."], "extent": [10953, 11089], "body": [{"type": "bullet_group", "body": [{"blevel": 10, "type": "bullet", "indent": 8, "text": [{"keys": ["Shift"], "type": "keys", "text": null}, " + ", {"keys": ["LMB"], "type": "keys", "text": null}, " to add primitives to the selection."], "extent": [11089, 11156]}, {"blevel": 10, "type": "bullet", "indent": 8, "text": [{"keys": ["Ctrl"], "type": "keys", "text": null}, " + ", {"keys": ["LMB"], "type": "keys", "text": null}, " to remove primitives from the selection."], "extent": [11156, 11227]}], "container": true}, {"type": "fig_group", "body": [{"ext": null, "type": "fig", "indent": 8, "text": [" ", {"scheme": "Image", "value": "/images/nodes/sop/topotransfer_RigidPrimSelection.jpg", "type": "img", "text": ""}], "role": "item", "extent": [11227, 11303], "body": [{"type": "summary", "indent": 12, "text": ["Example: Primitives to exclude"], "extent": [11338, 11388]}], "container": true, "attrs": {"display": "left narrow"}}], "container": true, "role": "item_group"}], "container": true}], "container": true}, {"type": "tip_group", "body": [{"type": "tip", "indent": 4, "role": "item", "extent": [11388, 11397], "body": [{"type": "para", "indent": 8, "text": ["You can select both rigid primitive groups and individual primitives."], "extent": [11397, 11476]}], "container": true}], "container": true, "role": "item_group"}, {"type": "bullet_group", "body": [{"blevel": 6, "type": "bullet", "indent": 4, "text": ["Press ", {"keys": ["Enter"], "type": "keys", "text": null}, " to save your selection, exit the rigid primitives edit state, and trigger the cook (solve)."], "extent": [11476, 11591], "body": [{"type": "para", "indent": 8, "text": ["The improved output geometry appears in the viewport."], "extent": [11591, 11654]}, {"type": "fig_group", "body": [{"ext": null, "type": "fig", "indent": 8, "text": [" ", {"scheme": "Image", "value": "/images/nodes/sop/topotransfer_Rigidprim_Compare.jpg", "type": "img", "text": ""}], "role": "item", "extent": [11654, 11729], "body": [{"type": "summary", "indent": 12, "text": ["Example: Source geometry with rigid primitives and the resulting output geometry.  "], "extent": [11762, 11865]}], "container": true, "attrs": {"display": "left full"}}], "container": true, "role": "item_group"}], "container": true}, {"blevel": 6, "type": "bullet", "indent": 4, "text": ["Similarly, the ", {"type": "ui", "text": ["Rigid Mask"]}, " parameter lets you specify a weighted scalar as a percentage of exclusion for each point. Weighted exclusion may be combined with rigid primitives or used independently."], "extent": [11865, 12073], "body": [{"type": "bullet_group", "body": [{"blevel": 9, "type": "bullet", "indent": 7, "text": ["Select 'MaskOn' from the ", {"type": "ui", "text": ["Mask Mode"]}, " parameter."], "extent": [12073, 12133]}, {"blevel": 9, "type": "bullet", "indent": 7, "text": ["Click the attribute paint button to enter attribute paint mode to create a weight map, or specify an existing mask attribute from the drop-down list."], "extent": [12133, 12293]}, {"blevel": 9, "type": "bullet", "indent": 7, "text": ["The ", {"type": "ui", "text": ["Mask Tolerance"]}, " parameter lets you specify the amount of precision to use when comparing weights to one which is when a point is fully rigid.  "], "extent": [12293, 12454]}], "container": true}, {"type": "fig_group", "body": [{"ext": null, "type": "fig", "indent": 7, "text": [" ", {"scheme": "Image", "value": "/images/nodes/sop/topotransfer_Rigidweights_Compare.jpg", "type": "img", "text": ""}], "role": "item", "extent": [12454, 12531], "body": [{"type": "summary", "indent": 12, "text": ["Example: Source geometry with a rigid weight mask and the resulting output geometry.  "], "extent": [12564, 12671]}], "container": true, "attrs": {"display": "left full"}}], "container": true, "role": "item_group"}], "container": true}], "container": true}], "container": true}, {"blevel": 2, "type": "ord", "indent": 0, "text": ["Adjust the ", {"type": "code", "text": ["Topo Transfer"]}, " node\u2019s ", {"scheme": null, "value": "#parameters", "type": "link", "text": ["parameter settings"], "fullpath": "/nodes/sop/topotransfer#parameters", "fragment": "#parameters"}, " as needed."], "extent": [12671, 12752]}], "container": true}]}]}, {"level": 2, "id": "landmarktoolbar", "container": true, "type": "h", "indent": 0, "text": ["Landmark toolbar"], "extent": [12752, 12793], "body": [{"type": "para", "indent": 0, "text": ["When in the landmark group state, the ", {"type": "ui", "text": ["Edit Landmark Group"]}, " toolbar appears across the top of the viewport. This toolbar contains the controls that allow you to create new landmark groups, edit a landmark group\u2019s point correspondences, and determine how the landmark guide meshes are visualized in the viewport."], "extent": [12793, 13109]}, {"type": "dt_group", "body": [{"type": "dt", "indent": 0, "text": ["Solve"], "extent": [13109, 13116], "body": [{"type": "para", "indent": 4, "text": ["Triggers the node\u2019s cook (solve). "], "extent": [13144, 13184]}], "container": true, "attrs": {"id": "solve_toolbar"}}, {"type": "dt", "indent": 0, "text": ["Show"], "extent": [13184, 13190], "body": [{"type": "para", "indent": 4, "text": ["Switches which landmark guide mesh\u2014", {"type": "strong", "text": ["source"]}, " or ", {"type": "strong", "text": ["target"]}, "\u2014is shown in the viewport."], "extent": [13213, 13300]}, {"type": "para", "indent": 4, "text": ["You can also use the hotkey ", {"keys": ["Ctrl"], "type": "keys", "text": null}, " + ", {"keys": ["G"], "type": "keys", "text": null}, " to toggle between displaying the ", {"type": "strong", "text": ["source"]}, " or ", {"type": "strong", "text": ["target"]}, " guide meshes."], "extent": [13300, 13418]}, {"type": "dt_group", "body": [{"type": "dt", "indent": 4, "text": ["Source"], "extent": [13418, 13430], "body": [{"type": "para", "indent": 8, "text": ["Displays the ", {"type": "strong", "text": ["source"]}, " landmark guide mesh in the viewport."], "extent": [13430, 13498]}], "container": true}, {"type": "dt", "indent": 4, "text": ["Target"], "extent": [13498, 13510], "body": [{"type": "para", "indent": 8, "text": ["Displays the ", {"type": "strong", "text": ["target"]}, " landmark guide mesh in the viewport."], "extent": [13510, 13578]}], "container": true}], "container": true}], "container": true, "attrs": {"id": "show_toolbar"}}, {"type": "dt", "indent": 0, "text": ["Center Camera"], "extent": [13578, 13593], "body": [{"type": "para", "indent": 4, "text": ["Centers the current view\u2019s camera on the ", {"type": "strong", "text": ["source"]}, " and ", {"type": "strong", "text": ["target"]}, " landmark guide meshes."], "extent": [13624, 13719]}], "container": true, "attrs": {"id": "centercamera_toolbar"}}, {"type": "dt", "indent": 0, "text": ["Show Source Silhouette"], "extent": [13719, 13743], "body": [{"type": "para", "indent": 4, "text": ["When on, displays a transparent version of the ", {"type": "strong", "text": ["source"]}, " landmark guide mesh when you are viewing the ", {"type": "strong", "text": ["target"]}, " landmark guide mesh."], "extent": [13772, 13908]}, {"type": "fig_group", "body": [{"ext": null, "type": "fig", "indent": 4, "text": [" ", {"scheme": "Image", "value": "/images/nodes/sop/topotransfer_ShowSourceSilhouette.jpg", "type": "img", "text": ""}], "role": "item", "extent": [13908, 13982], "body": [], "container": true, "attrs": {"display": "left narrow"}}], "container": true, "role": "item_group"}], "container": true, "attrs": {"id": "showsource_toolbar"}}, {"type": "dt", "indent": 0, "text": ["Landmark Name"], "extent": [14013, 14028], "body": [{"type": "para", "indent": 4, "text": ["Determines what is displayed next to the landmark points in the viewport."], "extent": [14063, 14142]}, {"type": "dt_group", "body": [{"type": "dt", "indent": 4, "text": ["none"], "extent": [14142, 14152], "body": [{"type": "para", "indent": 8, "text": ["No labels appear next to the landmark points."], "extent": [14152, 14207]}], "container": true}, {"type": "dt", "indent": 4, "text": ["group"], "extent": [14207, 14218], "body": [{"type": "para", "indent": 8, "text": ["The name of the landmark group to which a point belongs appears next to each landmark point."], "extent": [14218, 14320]}, {"type": "fig_group", "body": [{"ext": null, "type": "fig", "indent": 8, "text": [" ", {"scheme": "Image", "value": "/images/nodes/sop/topotransfer_LandmarkNameGroup.jpg", "type": "img", "text": ""}], "role": "item", "extent": [14320, 14395], "body": [], "container": true, "attrs": {"display": "left narrow"}}], "container": true, "role": "item_group"}], "container": true}, {"type": "dt", "indent": 4, "text": ["group_#pntid"], "extent": [14430, 14448], "body": [{"type": "para", "indent": 8, "text": ["The point ID for each point appears next to the landmark points."], "extent": [14448, 14522]}, {"type": "fig_group", "body": [{"ext": null, "type": "fig", "indent": 8, "text": [" ", {"scheme": "Image", "value": "/images/nodes/sop/topotransfer_LandmarkNameGroupPtId.jpg", "type": "img", "text": ""}], "role": "item", "extent": [14522, 14601], "body": [], "container": true, "attrs": {"display": "left narrow"}}], "container": true, "role": "item_group"}], "container": true}], "container": true}], "container": true, "attrs": {"id": "landmarkname_toolbar"}}, {"type": "dt", "indent": 0, "text": ["Group Name"], "extent": [14636, 14648], "body": [{"type": "para", "indent": 4, "text": ["Displays the name of the landmark group you are currently editing. You can use this field to change the name of the landmark group."], "extent": [14680, 14817]}, {"type": "para", "indent": 4, "text": ["This field is only available when in the edit state."], "extent": [14817, 14875]}], "container": true, "attrs": {"id": "groupname_toolbar"}}, {"type": "dt", "indent": 0, "text": ["Done Editing"], "extent": [14875, 14889], "body": [{"type": "para", "indent": 4, "text": ["Saves any changes you made to the current landmark group\u2019s point pairs and exit the edit state."], "extent": [14912, 15013]}, {"type": "para", "indent": 4, "text": ["This field is only available when in the edit state."], "extent": [15013, 15071]}], "container": true, "attrs": {"id": "done_toolbar"}}, {"type": "dt", "indent": 0, "text": ["New Group"], "extent": [15071, 15082], "body": [{"type": "para", "indent": 4, "text": ["Creates a new landmark group."], "extent": [15109, 15144]}, {"type": "para", "indent": 4, "text": ["This field is only available when in the landmark group state."], "extent": [15144, 15212]}], "container": true, "attrs": {"id": "newgroup_toolbar"}}, {"type": "dt", "indent": 0, "text": ["Edit Group"], "extent": [15212, 15224], "body": [{"type": "para", "indent": 4, "text": ["Opens the ", {"type": "ui", "text": ["Edit landmark group"]}, " selection window. You can choose which landmark group to edit with this window."], "extent": [15252, 15371]}, {"type": "para", "indent": 4, "text": ["This field is only available when in the landmark group state."], "extent": [15371, 15439]}], "container": true, "attrs": {"id": "editgroup_toolbar"}}], "container": true}, {"type": "task_group", "body": [{"ext": null, "type": "task", "indent": 0, "text": [" Create a new landmark group"], "role": "item", "extent": [15464, 15501], "body": [{"type": "para", "indent": 4, "text": ["Do one of the following:"], "extent": [15501, 15531]}, {"type": "bullet_group", "body": [{"blevel": 6, "type": "bullet", "indent": 4, "text": ["In the ", {"type": "ui", "text": ["Edit Landmark Group"]}, " toolbar, click ", {"type": "ui", "text": ["New Group"]}, "."], "extent": [15531, 15603]}, {"blevel": 6, "type": "bullet", "indent": 4, "text": ["In the ", {"type": "code", "text": ["Topo Transfer"]}, " node\u2019s parameters, click the ", {"type": "ui", "text": ["Landmarks"]}, " > ", {"type": "ui", "text": ["Landmark Groups"]}, " > ", {"type": "strong", "text": ["+"]}, " button."], "extent": [15603, 15712]}], "container": true}, {"type": "note_group", "body": [{"type": "note", "indent": 4, "role": "item", "extent": [15712, 15722], "body": [{"type": "para", "indent": 8, "text": ["The first landmark group for a ", {"type": "code", "text": ["Topo Transfer"]}, " node is automatically created when you enter the landmark state for the first time."], "extent": [15722, 15862]}], "container": true}], "container": true, "role": "item_group"}], "container": true}, {"ext": null, "type": "task", "indent": 0, "text": [" Edit a landmark group"], "role": "item", "extent": [15862, 15893], "body": [{"type": "para", "indent": 4, "text": ["Do one of the following:"], "extent": [15893, 15923]}, {"type": "bullet_group", "body": [{"blevel": 6, "type": "bullet", "indent": 4, "text": ["In the ", {"type": "ui", "text": ["Edit Landmark Group"]}, " toolbar, click ", {"type": "ui", "text": ["Edit Group"]}, ". "], "extent": [15923, 16001], "body": [{"type": "bullet_group", "body": [{"blevel": 10, "type": "bullet", "indent": 8, "text": ["In the ", {"type": "ui", "text": ["Edit landmark group"]}, " selection window that appears, select the landmark group you want to edit and then click ", {"type": "ui", "text": ["Done Editing"]}, "."], "extent": [16001, 16150]}], "container": true}], "container": true}, {"blevel": 6, "type": "bullet", "indent": 4, "text": ["In the ", {"type": "code", "text": ["Topo Transfer"]}, " node\u2019s parameters, click the ", {"type": "ui", "text": ["Landmarks"]}, " > ", {"type": "ui", "text": ["Landmark Groups"]}, " > ", {"type": "ui", "text": ["Edit Landmark Group"]}, " button for the landmark group you want to edit."], "extent": [16150, 16319]}], "container": true}], "container": true}, {"ext": null, "type": "task", "indent": 0, "text": [" Create a landmark point pair"], "role": "item", "extent": [16319, 16357], "body": [{"type": "para", "indent": 4, "text": ["When editing your landmark group, make sure that you are viewing the ", {"type": "strong", "text": ["source"]}, " guide mesh ( ", {"keys": ["Ctrl"], "type": "keys", "text": null}, " + ", {"keys": ["G"], "type": "keys", "text": null}, " ) in the viewport."], "extent": [16357, 16489]}, {"type": "para", "indent": 4, "text": ["Click the location on the ", {"type": "strong", "text": ["source"]}, " where you want to create the landmark point pair."], "extent": [16489, 16579]}, {"type": "para", "indent": 4, "text": ["Each landmark point pair contains a ", {"type": "strong", "text": ["source"]}, " point and a corresponding ", {"type": "strong", "text": ["target"]}, " point. "], "extent": [16579, 16672]}, {"type": "warning_group", "body": [{"type": "warning", "indent": 4, "role": "item", "extent": [16672, 16685], "body": [{"type": "para", "indent": 8, "text": ["A landmark point pair is ", {"type": "em", "text": ["not"]}, " valid until you set the position of its ", {"type": "strong", "text": ["target"]}, " point."], "extent": [16685, 16781]}], "container": true}], "container": true, "role": "item_group"}, {"type": "tip_group", "body": [{"type": "tip", "indent": 4, "role": "item", "extent": [16781, 16790], "body": [{"type": "para", "indent": 8, "text": ["You can change the color of all the landmark point pairs in a landmark group with the ", {"type": "ui", "text": ["Landmark Group"]}, " > ", {"type": "ui", "text": ["Color"]}, " parameter. This only specifies the color the points appear as when in the landmark group state, ", {"type": "em", "text": ["not"]}, " the color they appear as when in the edit state."], "extent": [16790, 17067]}], "container": true}], "container": true, "role": "item_group"}], "container": true}, {"ext": null, "type": "task", "indent": 0, "text": [" Edit a ", {"type": "strong", "text": ["source"]}, " point\u2019s location"], "role": "item", "extent": [17067, 17109], "body": [{"type": "para", "indent": 4, "text": ["When editing your landmark group, make sure that you are viewing the ", {"type": "strong", "text": ["source"]}, " guide mesh ( ", {"keys": ["Ctrl"], "type": "keys", "text": null}, " + ", {"keys": ["G"], "type": "keys", "text": null}, " ) in the viewport."], "extent": [17109, 17241]}, {"type": "para", "indent": 4, "text": [{"keys": ["LMB"], "type": "keys", "text": null}, "-drag the ", {"type": "strong", "text": ["source"]}, " landmark point to its new location on the ", {"type": "strong", "text": ["source"]}, " guide mesh."], "extent": [17241, 17335]}], "container": true}, {"ext": null, "type": "task", "indent": 0, "text": [" Edit a ", {"type": "strong", "text": ["target"]}, " point\u2019s location"], "role": "item", "extent": [17335, 17377], "body": [{"type": "para", "indent": 4, "text": ["When editing your landmark group, make sure that you have already created your landmark point pair."], "extent": [17377, 17482]}, {"type": "para", "indent": 4, "text": ["In the viewport, switch to viewing the ", {"type": "strong", "text": ["target"]}, " guide mesh ( ", {"keys": ["Ctrl"], "type": "keys", "text": null}, " + ", {"keys": ["G"], "type": "keys", "text": null}, " ) and then ", {"keys": ["LMB"], "type": "keys", "text": null}, "-drag the ", {"type": "strong", "text": ["target"]}, " point to its new location on the ", {"type": "strong", "text": ["target"]}, " guide mesh."], "extent": [17482, 17656]}, {"type": "para", "indent": 4, "text": ["When in the edit state, the ", {"type": "strong", "text": ["source"]}, " point always appears as a green ", {"type": "em", "text": ["circle"]}, ", the ", {"type": "strong", "text": ["target"]}, " point always appears as a light blue ", {"type": "em", "text": ["square"]}, ", and a dashed line also appears between the ", {"type": "strong", "text": ["source"]}, " and ", {"type": "strong", "text": ["target"]}, " points to indicate their link as a landmark point pair."], "extent": [17656, 17921]}, {"type": "note_group", "body": [{"type": "note", "indent": 4, "role": "item", "extent": [17921, 17931], "body": [{"type": "para", "indent": 8, "text": [{"type": "em", "text": ["Where"]}, " you can move the ", {"type": "strong", "text": ["target"]}, " point to on the ", {"type": "strong", "text": ["target"]}, " guide mesh is determined by the ", {"scheme": null, "value": "#ptargetgroupnum", "type": "link", "text": ["Target Points Group"], "fullpath": "/nodes/sop/topotransfer#ptargetgroupnum", "fragment": "#ptargetgroupnum"}, " and ", {"scheme": null, "value": "#targetposnum", "type": "link", "text": ["Target Point Coordinates"], "fullpath": "/nodes/sop/topotransfer#targetposnum", "fragment": "#targetposnum"}, " parameter settings."], "extent": [17931, 18135]}], "container": true}], "container": true, "role": "item_group"}], "container": true}, {"ext": null, "type": "task", "indent": 0, "text": [" Delete a landmark points pair"], "role": "item", "extent": [18135, 18174], "body": [{"type": "para", "indent": 4, "text": ["When editing your landmark group, make sure that you are viewing the ", {"type": "strong", "text": ["source"]}, " guide mesh in the viewport."], "extent": [18174, 18285]}, {"type": "para", "indent": 4, "text": [{"keys": ["LMB"], "type": "keys", "text": null}, "-click the ", {"type": "strong", "text": ["source"]}, " point of the landmark point pair that you want to delete."], "extent": [18285, 18375]}], "container": true}, {"ext": null, "type": "task", "indent": 0, "text": [" Delete a target point"], "role": "item", "extent": [18375, 18406], "body": [{"type": "para", "indent": 4, "text": ["When editing your landmark group, make sure that you are viewing the ", {"type": "strong", "text": ["target"]}, " guide mesh in the viewport."], "extent": [18406, 18517]}, {"type": "para", "indent": 4, "text": [{"keys": ["LMB"], "type": "keys", "text": null}, "-click the ", {"type": "strong", "text": ["target"]}, " point that you want to delete."], "extent": [18517, 18580]}], "container": true}, {"ext": null, "type": "task", "indent": 0, "text": [" View landmark group edit results"], "role": "item", "extent": [18580, 18622], "body": [{"type": "para", "indent": 4, "text": ["In the Landmark toolbar, click ", {"type": "ui", "text": ["Solve"]}, " to trigger the node\u2019s cook (solve)."], "extent": [18622, 18704]}, {"type": "para", "indent": 4, "text": ["The output geometry automatically updates in the viewport."], "extent": [18704, 18768]}], "container": true}], "container": true, "role": "item_group"}], "attrs": {"id": "landmarkgrouphowto"}}, {"level": 2, "id": null, "container": true, "type": "h", "indent": 0, "text": ["Tips and tricks"], "extent": [18768, 18790], "body": [{"level": 3, "id": null, "container": true, "type": "h", "indent": 0, "text": ["Target mesh with missing or unwanted details"], "extent": [18790, 18844], "body": [{"type": "fig_group", "body": [{"ext": null, "type": "fig", "indent": 0, "text": [" ", {"scheme": "Image", "value": "/images/nodes/sop/topotransfer_MissingDetailsScanPrimsResults.jpg", "type": "img", "text": ""}], "role": "item", "extent": [18844, 18925], "body": [{"type": "summary", "indent": 4, "text": ["Example: Solve of a source mesh head with Rigid Primitives to a 3D head scan target mesh that is missing the back of its head"], "extent": [18950, 19087]}], "container": true, "attrs": {"display": "left full"}}], "container": true, "role": "item_group"}, {"type": "para", "indent": 0, "text": [{"type": "strong", "text": ["Scenario"]}], "extent": [19087, 19099]}, {"type": "para", "indent": 0, "text": ["You have a 3D scan and it is missing areas of its geometry or it has areas that you don\u2019t want to capture. For example, the back of the head is missing from your 3D head scan or you don\u2019t want to transfer the topology of the subject\u2019s hair from your 3D head scan."], "extent": [19099, 19364]}, {"type": "para", "indent": 0, "text": [{"type": "strong", "text": ["Solution"]}], "extent": [19364, 19376]}, {"type": "para", "indent": 0, "text": ["Use ", {"scheme": null, "value": "#rigidprimitives", "type": "link", "text": ["Rigid Primitives"], "fullpath": "/nodes/sop/topotransfer#rigidprimitives", "fragment": "#rigidprimitives"}, " to specify which primitives or primitive groups on the ", {"type": "strong", "text": ["source"]}, " mesh you do ", {"type": "em", "text": ["not"]}, " want to deform to the ", {"type": "strong", "text": ["target"]}, " mesh."], "extent": [19376, 19537]}]}, {"level": 3, "id": null, "container": true, "type": "h", "indent": 0, "text": ["Target and source meshes have a very different pose"], "extent": [19537, 19597], "body": [{"type": "fig_group", "body": [{"ext": null, "type": "fig", "indent": 0, "text": [" ", {"scheme": "Image", "value": "/images/nodes/sop/topotransfer_RotationsNonLinearInputOutput.jpg", "type": "img", "text": ""}], "role": "item", "extent": [19597, 19677], "body": [{"type": "summary", "indent": 4, "text": ["Example: Non Linear solve of a source mesh in T-pose to a 3D full-body scan target mesh with arms at its sides"], "extent": [19702, 19824]}], "container": true, "attrs": {"display": "left full"}}], "container": true, "role": "item_group"}, {"type": "para", "indent": 0, "text": [{"type": "strong", "text": ["Scenario"]}], "extent": [19824, 19836]}, {"type": "para", "indent": 0, "text": ["The ", {"type": "em", "text": ["pose"]}, " of your ", {"type": "strong", "text": ["target"]}, " meshes differs greatly from that of your ", {"type": "strong", "text": ["source"]}, " mesh. For example, the ", {"type": "strong", "text": ["target"]}, " body mesh\u2019s arms are at its sides and the ", {"type": "strong", "text": ["source"]}, " mesh is in a T-pose. Or your ", {"type": "strong", "text": ["source"]}, " mesh is an open palm but your ", {"type": "strong", "text": ["target"]}, " hand scan is closed in fist."], "extent": [19836, 20104]}, {"type": "para", "indent": 0, "text": [{"type": "strong", "text": ["Solution"]}], "extent": [20104, 20116]}, {"type": "para", "indent": 0, "text": ["Set the solver type to ", {"scheme": null, "value": "#solvertype", "type": "link", "text": ["Non Linear"], "fullpath": "/nodes/sop/topotransfer#solvertype", "fragment": "#solvertype"}, " and use ", {"scheme": null, "value": "#landmarkgrouphowto", "type": "link", "text": ["landmark groups"], "fullpath": "/nodes/sop/topotransfer#landmarkgrouphowto", "fragment": "#landmarkgrouphowto"}, "."], "extent": [20116, 20212]}, {"type": "para", "indent": 0, "text": ["The ", {"type": "ui", "text": ["Non Linear"]}, " solver handles deformations that require large rotations much better than the ", {"type": "ui", "text": ["Linear"]}, " solver."], "extent": [20212, 20329]}, {"type": "para", "indent": 0, "text": ["When the points on the ", {"type": "strong", "text": ["target"]}, " and ", {"type": "strong", "text": ["source"]}, " meshes are very far apart, adding landmark point pairs to the node helps the solver match the points on the ", {"type": "strong", "text": ["source"]}, " mesh to those on the ", {"type": "strong", "text": ["target"]}, " mesh."], "extent": [20329, 20528]}]}, {"level": 3, "id": null, "container": true, "type": "h", "indent": 0, "text": ["Source geometry consists of multiple disjoint islands"], "extent": [20528, 20590], "body": [{"type": "para", "indent": 0, "text": [{"type": "strong", "text": ["Scenario"]}], "extent": [20613, 20625]}, {"type": "para", "indent": 0, "text": ["The ", {"type": "strong", "text": ["source"]}, " contains multiple disjoint islands.  "], "extent": [20625, 20677]}, {"type": "para", "indent": 0, "text": [{"type": "strong", "text": ["Solution"]}], "extent": [20677, 20689]}, {"type": "para", "indent": 0, "text": ["Toggle on ", {"scheme": null, "value": "#enablegeometryconstraints", "type": "link", "text": ["Enable Geometry Constraints"], "fullpath": "/nodes/sop/topotransfer#enablegeometryconstraints", "fragment": "#enablegeometryconstraints"}, ", and optionally specify the main island which should act as a parent for the rest of the islands using the ", {"scheme": null, "value": "#constraintselection", "type": "link", "text": ["Manual"], "fullpath": "/nodes/sop/topotransfer#constraintselection", "fragment": "#constraintselection"}, " option in the ", {"scheme": null, "value": "#constraintselection", "type": "link", "text": ["Constraint Selection"], "fullpath": "/nodes/sop/topotransfer#constraintselection", "fragment": "#constraintselection"}, " parameter.   "], "extent": [20689, 20967]}, {"type": "fig_group", "body": [{"ext": null, "type": "fig", "indent": 0, "text": [" ", {"scheme": "Image", "value": "/images/nodes/sop/topotransfer_Multigeo_Inner.png", "type": "img", "text": ""}], "role": "item", "extent": [20967, 21031], "body": [{"type": "summary", "indent": 4, "text": ["Example: Mapping the Tommy model with inner eye and denture geometry to Fianna\u2019s head scan using Topo Transfer\u2019s geometry constraints."], "extent": [21056, 21202]}], "container": true, "attrs": {"display": "left full"}}, {"ext": null, "type": "fig", "indent": 0, "text": [" ", {"scheme": "Image", "value": "/images/nodes/sop/topotransfer_Multigeo_Outer.jpg", "type": "img", "text": ""}], "role": "item", "extent": [21202, 21266], "body": [{"type": "summary", "indent": 4, "text": ["Example: Another example of using Topo Transfer with source geometry consisting of multiple islands.  Here the source geometry (left) is composed of two seperate meshes, the head and the cloth.  The result (right) is the transfer of the target geometry to the head mesh while deforming the cloth geometry relative to changes on the head mesh."], "extent": [21291, 21645]}, {"type": "note_group", "body": [{"type": "note", "indent": 4, "role": "item", "extent": [21645, 21655], "body": [{"type": "para", "indent": 8, "text": ["When ", {"scheme": null, "value": "#enablegeometryconstraints", "type": "link", "text": ["Enable Geometry Constraints"], "fullpath": "/nodes/sop/topotransfer#enablegeometryconstraints", "fragment": "#enablegeometryconstraints"}, " is active, the ", {"scheme": null, "value": "#reductionpercentage", "type": "link", "text": ["Reduction Factor"], "fullpath": "/nodes/sop/topotransfer#reductionpercentage", "fragment": "#reductionpercentage"}, " allows only an initial percentage for the start of the range because, in this case, no polygonal reduction is used at the end of the range. "], "extent": [21655, 21922]}], "container": true}, {"type": "note", "indent": 4, "role": "item", "extent": [21922, 21932], "body": [{"type": "para", "indent": 8, "text": ["The automatic ", {"scheme": null, "value": "#constraintselection", "type": "link", "text": ["Constraint Selection"], "fullpath": "/nodes/sop/topotransfer#constraintselection", "fragment": "#constraintselection"}, " will simply assume the island with the largest point count is the main geometry.  When this is not the case, the main geometry must be specified manually.  "], "extent": [21932, 22156]}], "container": true}], "container": true, "role": "item_group"}], "container": true, "attrs": {"display": "left full"}}], "container": true, "role": "item_group"}], "attrs": {"id": "multigeoscenario"}}]}, {"level": 1, "id": "parameters", "container": true, "type": "parameters_section", "indent": 0, "role": "section", "extent": [22156, 22168], "body": [{"level": 3, "type": "sep", "indent": 0, "text": [" Geometry Constraints "], "extent": [22168, 22198], "body": [{"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 4, "text": ["Enable Geometry Constraints"], "extent": [22198, 22232], "body": [{"type": "para", "indent": 8, "text": ["Enables a constraint on ancillary geometry during the solve."], "extent": [22272, 22342]}], "container": true, "attrs": {"id": "enablegeometryconstraints"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Constraint Selection"], "extent": [22342, 22368], "body": [{"type": "para", "indent": 8, "text": ["Sets the main geometry component for constraining additional geometry.  This parameter provides a choice of manually specifying the main geometry or letting the node automatically determine the main geometry.  Manually specifying the geometry is conveyed as a set of primitive groups using the drop-down list and/or using the geometry select tool.   "], "extent": [22402, 22762]}], "container": true, "attrs": {"id": "constraintselection"}, "role": "item"}], "container": true, "role": "item_group"}], "container": true}, {"level": 3, "type": "sep", "indent": 0, "text": [" Iterations "], "extent": [22762, 22781], "body": [{"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 4, "text": ["Iterations"], "extent": [22781, 22798], "body": [{"type": "para", "indent": 8, "text": ["Sets the number of iterations that are performed. At each iteration, the node deforms the reduced ", {"type": "strong", "text": ["source"]}, " mesh using the current ", {"type": "ui", "text": ["Rigid Weights"]}, " and ", {"type": "ui", "text": ["Landmark Weights"]}, " parameter settings. "], "extent": [22823, 23026]}, {"type": "para", "indent": 8, "text": ["The higher the number of ", {"type": "ui", "text": ["Iterations"]}, ", the greater the matching quality and the slower the solution."], "extent": [23026, 23138]}], "container": true, "attrs": {"id": "iterations"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Reduced Levels"], "extent": [23138, 23158], "body": [{"type": "para", "indent": 8, "text": ["Sets the number of reduction levels between the first and last ", {"type": "ui", "text": ["Iteration"]}, ". Each level corresponds to the ", {"type": "strong", "text": ["source"]}, " mesh with a reduced number of polygons."], "extent": [23186, 23352]}, {"type": "para", "indent": 8, "text": ["The number of polygons to keep for each level is determined by the ", {"type": "ui", "text": ["Reduction Factor"]}, " parameter."], "extent": [23352, 23460]}, {"type": "para", "indent": 8, "text": ["What ", {"type": "ui", "text": ["Iterations"]}, " belong to which ", {"type": "ui", "text": ["Reduced Levels"]}, " is determined by ", {"type": "code", "text": ["Iterations / Reduced Levels"]}, ". "], "extent": [23460, 23573]}, {"type": "para", "indent": 8, "text": ["For example, if there are 12 ", {"type": "ui", "text": ["Iterations"]}, " and 4 ", {"type": "ui", "text": ["Reduced Levels"]}, ", then there would be ", {"type": "em", "text": ["3"]}, " ", {"type": "ui", "text": ["Iterations"]}, " in each ", {"type": "ui", "text": ["Reduced Level"]}, "."], "extent": [23573, 23718]}, {"type": "fig_group", "body": [{"ext": null, "type": "fig", "indent": 8, "text": [" ", {"scheme": "Image", "value": "/images/nodes/sop/topotransfer_ReducedLevels01.png", "type": "img", "text": ""}], "role": "item", "extent": [23718, 23791], "body": [{"type": "summary", "indent": 12, "text": ["Example: Reduced Levels dividing evenly into Iterations"], "extent": [23824, 23899]}], "container": true, "attrs": {"display": "left full"}}], "container": true, "role": "item_group"}, {"type": "para", "indent": 8, "text": ["If the ", {"type": "ui", "text": ["Reduced Levels"]}, " value does ", {"type": "em", "text": ["not"]}, " divide evenly into ", {"type": "ui", "text": ["Iterations"]}, ", then the result is rounded up and the last ", {"type": "ui", "text": ["Reduced Level"]}, " would contain the remaining ", {"type": "ui", "text": ["Iterations"]}, "."], "extent": [23899, 24091]}, {"type": "fig_group", "body": [{"ext": null, "type": "fig", "indent": 8, "text": [" ", {"scheme": "Image", "value": "/images/nodes/sop/topotransfer_ReducedLevels02.png", "type": "img", "text": ""}], "role": "item", "extent": [24091, 24164], "body": [{"type": "summary", "indent": 12, "text": ["Reduced Levels ", {"type": "em", "text": ["not"]}, " dividing evenly into Iterations"], "extent": [24197, 24269]}], "container": true, "attrs": {"display": "left full"}}], "container": true, "role": "item_group"}], "container": true, "attrs": {"id": "reducedlevels"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Reduction Factor"], "extent": [24269, 24291], "body": [{"type": "para", "indent": 8, "text": ["Sets the percentage of the original polygons in the ", {"type": "strong", "text": ["source"]}, " mesh to use for the first and last ", {"type": "ui", "text": ["Reduced Levels"]}, "."], "extent": [24325, 24450]}, {"type": "para", "indent": 8, "text": ["What ", {"type": "ui", "text": ["Reduction Factor"]}, " is used for each ", {"type": "ui", "text": ["Reduced Level"]}, " is determined by ", {"type": "code", "text": ["(Reduction Factor(last) - Reduction Factor(first)) / Reduced Levels * Reduced Level #"]}, "."], "extent": [24450, 24626]}, {"type": "para", "indent": 8, "text": ["For example, a ", {"type": "ui", "text": ["Reduction Factor"]}, " of 0.1 (first) and 0.9 (last) means that the ", {"type": "ui", "text": ["Reduction Factor"]}, " would be set to 10% for the first few ", {"type": "ui", "text": ["Reduced Levels"]}, ", to 90% for the last few levels, and to values between 10% and 90% for the intermediate ", {"type": "ui", "text": ["Reduced Levels"]}, "."], "extent": [24626, 24902]}, {"type": "para", "indent": 8, "text": ["Setting the final percentage to 1.0 performs the final iterations on the whole mesh and ensures that the landmark \n        pairs are aligned as close as possible."], "extent": [24902, 25082]}, {"type": "fig_group", "body": [{"ext": null, "type": "fig", "indent": 8, "text": [" ", {"scheme": "Image", "value": "/images/nodes/sop/topotransfer_ReductionFactorCombined_v1.png", "type": "img", "text": ""}], "role": "item", "extent": [25082, 25166], "body": [{"type": "summary", "indent": 12, "text": ["Reduction Factor for each Reduced Level when the Reduced Levels evenly divide the number of Iterations"], "extent": [25199, 25321]}], "container": true, "attrs": {"display": "left full"}}, {"ext": null, "type": "fig", "indent": 8, "text": [" ", {"scheme": "Image", "value": "/images/nodes/sop/topotransfer_ReductionFactorCombined_v2.png", "type": "img", "text": ""}], "role": "item", "extent": [25321, 25405], "body": [{"type": "summary", "indent": 12, "text": ["Reduction Factor for each Reduced Level when the Reduced Levels do not evenly divide the number of Iterations"], "extent": [25438, 25567]}], "container": true, "attrs": {"display": "left full"}}], "container": true, "role": "item_group"}], "container": true, "attrs": {"id": "reductionpercentage"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Rigid Weights"], "extent": [25567, 25586], "body": [{"type": "para", "indent": 8, "text": ["Sets the ", {"type": "strong", "text": ["source"]}, " mesh rigidness for the first and last ", {"type": "ui", "text": ["Iterations"]}, ". This value is linearly interpolated for the intermediate ", {"type": "ui", "text": ["Iterations"]}, ". Higher ", {"type": "ui", "text": ["Rigid Weights"]}, " force neighboring points to deform in a similar manner. Lower ", {"type": "ui", "text": ["Rigid Weights"]}, " allow neighboring points to move more independently so that the ", {"type": "strong", "text": ["source"]}, " mesh can deform to capture all the little details of the ", {"type": "strong", "text": ["target"]}, " mesh."], "extent": [25613, 26017]}, {"type": "para", "indent": 8, "text": ["When setting your ", {"type": "ui", "text": ["Rigid Weights"]}, ", try to start with a higher rigid weight value (first field) and then gradually decrease it (last field). This allows the node to first capture the overall pose or shape of the ", {"type": "strong", "text": ["target"]}, " mesh, and then try to match the ", {"type": "strong", "text": ["target"]}, " mesh details for the final iterations."], "extent": [26017, 26328]}, {"type": "para", "indent": 8, "text": ["If you keep the ", {"type": "ui", "text": ["Rigid Weights"]}, " high for all iterations, then the ", {"type": "strong", "text": ["source"]}, " mesh will deform as rigidly as possible and will ", {"type": "em", "text": ["not"]}, " try to capture the ", {"type": "strong", "text": ["target"]}, " mesh\u2019s details."], "extent": [26328, 26513]}], "container": true, "attrs": {"id": "rigidweights"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Landmark Weights"], "extent": [26513, 26535], "body": [{"type": "para", "indent": 8, "text": ["Determines how strongly the node tries to snap ", {"type": "strong", "text": ["source"]}, " and ", {"type": "strong", "text": ["target"]}, " landmark points to each other for the first and last ", {"type": "ui", "text": ["Iterations"]}, ". This value is linearly interpolated for the intermediate ", {"type": "ui", "text": ["Iterations"]}, ". Higher ", {"type": "ui", "text": ["Landmark Weights"]}, " force the landmark points to be at the exact same world space location at the final iteration. Lower ", {"type": "ui", "text": ["Landmark Weights"]}, " decrease the chance that the ", {"type": "strong", "text": ["source"]}, " landmark points will match the ", {"type": "strong", "text": ["target"]}, " landmark points."], "extent": [26565, 27034]}], "container": true, "attrs": {"id": "landmarkweights"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Rigid Mask"], "extent": [27034, 27050], "body": [{"type": "para", "indent": 8, "text": ["Specifies the source mesh rigid weights for each point as a percentage of exclusion from the shape correspondence component during the deformation process."], "extent": [27074, 27239]}], "container": true, "attrs": {"id": "rigidmask"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Mask Mode"], "extent": [27239, 27254], "body": [{"type": "para", "indent": 8, "text": ["Enables/disables the rigid mask parameter."], "extent": [27277, 27329]}], "container": true, "attrs": {"id": "maskmode"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Mask Tolerance"], "extent": [27329, 27349], "body": [{"type": "para", "indent": 8, "text": ["An absolute tolerance value applied during numerical comparisons with rgid mask values."], "extent": [27377, 27474]}], "container": true, "attrs": {"id": "masktolerance"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Rigid Primitives"], "extent": [27474, 27496], "body": [{"type": "para", "indent": 8, "text": ["Specifies the source mesh primitive groups that are excluded from the deformation process and are instead deformed as rigidly as possible."], "extent": [27526, 27674]}, {"type": "para", "indent": 8, "text": ["You can specify multiple existing primitive groups using the drop-down list and/or use the select geometry tool (arrow button) to manually select the primitives.        "], "extent": [27674, 27853]}], "container": true, "attrs": {"id": "rigidprimitives"}, "role": "item"}], "container": true, "role": "item_group"}], "container": true}, {"level": 3, "type": "sep", "indent": 0, "text": [" Closest point correspondences "], "extent": [27853, 27891], "body": [{"type": "para", "indent": 4, "text": ["For each ", {"type": "ui", "text": ["Iteration"]}, ", the node does the following:"], "extent": [27891, 27949]}, {"type": "bullet_group", "body": [{"blevel": 6, "type": "bullet", "indent": 4, "text": ["Looks at each ", {"type": "strong", "text": ["source"]}, " point."], "extent": [27949, 27985]}, {"blevel": 6, "type": "bullet", "indent": 4, "text": ["Finds a corresponding matching ", {"type": "strong", "text": ["target"]}, " point."], "extent": [27985, 28038]}, {"blevel": 6, "type": "bullet", "indent": 4, "text": ["Tries to deform the ", {"type": "strong", "text": ["source"]}, " mesh to reduce the distance between both the matches."], "extent": [28038, 28128]}], "container": true}, {"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 4, "text": ["Distance Tolerance"], "extent": [28128, 28152], "body": [{"type": "para", "indent": 8, "text": ["Sets the distance tolerance (in world units). The threshold value for the distance tolerance is calculated by multiplying the ", {"type": "ui", "text": ["Distance Tolerance"]}, " with the bounding box radius of the ", {"type": "strong", "text": ["source"]}, " mesh. ", {"type": "strong", "text": ["Source"]}, " and ", {"type": "strong", "text": ["target"]}, " points whose distances deviate outside the threshold are ", {"type": "em", "text": ["not"]}, " matched."], "extent": [28184, 28487]}], "container": true, "attrs": {"id": "disttolerance"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Norm Tolerance"], "extent": [28487, 28507], "body": [{"type": "para", "indent": 8, "text": ["Sets the angle tolerance (in degrees). ", {"type": "strong", "text": ["Source"]}, " and ", {"type": "strong", "text": ["target"]}, " points whose normals deviate above the angle tolerance are ", {"type": "em", "text": ["not"]}, " matched."], "extent": [28535, 28679]}], "container": true, "attrs": {"id": "normtolerance"}, "role": "item"}], "container": true, "role": "item_group"}], "container": true}, {"level": 3, "type": "sep", "indent": 0, "text": [" Solver "], "extent": [28679, 28694], "body": [{"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 4, "text": ["Type"], "extent": [28694, 28705], "body": [{"type": "dt_group", "body": [{"type": "dt", "indent": 8, "text": ["Non Linear"], "extent": [28730, 28750], "body": [{"type": "para", "indent": 12, "text": ["Handles general deformation problems including cases that require large rotations between the ", {"type": "strong", "text": ["source"]}, " and the ", {"type": "strong", "text": ["target"]}, ". "], "extent": [28750, 28885]}], "container": true}, {"type": "dt", "indent": 8, "text": ["Linear"], "extent": [28885, 28901], "body": [{"type": "para", "indent": 12, "text": ["Handles cases where deformations do not require large rotations and has faster performance than ", {"type": "ui", "text": ["Non Linear"]}, " for large meshes. "], "extent": [28901, 29044]}], "container": true}], "container": true}], "container": true, "attrs": {"id": "solvertype"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Iterations"], "extent": [29044, 29060], "body": [{"type": "para", "indent": 8, "text": ["Maximum number of iterations the solver is allowed to take before stopping if the ", {"type": "ui", "text": ["Tolerance"]}, " has ", {"type": "em", "text": ["not"]}, " been reached. A smaller value increases the performance but may affect the quality of the solution."], "extent": [29091, 29306]}], "container": true, "attrs": {"id": "solveriterations"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Tolerance"], "extent": [29306, 29321], "body": [{"type": "para", "indent": 8, "text": ["Quality tolerance of the solver solution between the first and last ", {"type": "strong", "text": ["Iteration"]}, ". A larger value increases the performance but may affect the quality of the solution."], "extent": [29349, 29524]}], "container": true, "attrs": {"id": "gradtolerance"}, "role": "item"}], "container": true, "role": "item_group"}], "container": true}, {"level": 3, "type": "sep", "indent": 0, "text": [" Landmarks "], "extent": [29524, 29542], "body": [{"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 4, "text": ["Enable Landmarks"], "extent": [29542, 29565], "body": [{"type": "para", "indent": 8, "text": ["When on, landmark groups participate in the node\u2019s solve."], "extent": [29596, 29663]}], "container": true, "attrs": {"id": "enablegroups"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Landmark Groups"], "extent": [29663, 29684], "body": [{"type": "para", "indent": 8, "text": ["Lets you create or remove landmark groups, and it lists the current number of landmark groups for the node."], "extent": [29713, 29830]}], "container": true, "attrs": {"id": "landmarkgroups"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Enable"], "extent": [29830, 29842], "body": [{"type": "para", "indent": 8, "text": ["When on, the individual landmark group is active and its points are used to generate the result of the topology transfer."], "extent": [29875, 30006]}], "container": true, "attrs": {"id": "enablegroupnum"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Edit Landmark Group"], "extent": [30006, 30031], "body": [{"type": "para", "indent": 8, "text": ["Enables the edit state for the individual landmark group and opens the ", {"type": "ui", "text": ["Edit Landmark Group"]}, " ", {"scheme": null, "value": "#landmarktoolbar", "type": "link", "text": ["toolbar"], "fullpath": "/nodes/sop/topotransfer#landmarktoolbar", "fragment": "#landmarktoolbar"}, " above the viewport window."], "extent": [30061, 30219]}], "container": true, "attrs": {"id": "pstatebuttonnum"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Color"], "extent": [30219, 30230], "body": [{"type": "para", "indent": 8, "text": ["Specifies the color of all the landmark points that belong to the landmark group. This only specifies the color the points appear as when in the landmark group state, ", {"type": "em", "text": ["not"]}, " the color they appear as when in the edit state."], "extent": [30258, 30489]}], "container": true, "attrs": {"id": "pballcolornum"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Name"], "extent": [30489, 30499], "body": [{"type": "para", "indent": 8, "text": ["Specifies the name of the landmark group."], "extent": [30522, 30573]}], "container": true, "attrs": {"id": "pnamenum"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Source Points Group"], "extent": [30573, 30598], "body": [{"type": "para", "indent": 8, "text": ["Lists the point number locations of the ", {"type": "strong", "text": ["source"]}, " landmark points."], "extent": [30632, 30711]}], "container": true, "attrs": {"id": "psourcegroupnum"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Source Point Coordinates"], "extent": [30711, 30741], "body": [{"type": "para", "indent": 8, "text": ["When on, you can ", {"keys": ["LMB"], "type": "keys", "text": null}, "-drag your ", {"type": "strong", "text": ["source"]}, " points to ", {"type": "em", "text": ["any"]}, " location on the ", {"type": "strong", "text": ["source"]}, " guide mesh, not just its polygonal indices. When off, ", {"type": "strong", "text": ["source"]}, " points can ", {"type": "em", "text": ["only"]}, " be placed at polygonal indices."], "extent": [30768, 30975]}, {"type": "para", "indent": 8, "text": ["This field lists the world space coordinates of the ", {"type": "strong", "text": ["source"]}, " points."], "extent": [30975, 31053]}], "container": true, "attrs": {"id": "sourceposnum"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Target Points Group"], "extent": [31053, 31078], "body": [{"type": "para", "indent": 8, "text": ["Lists the point number locations of the ", {"type": "strong", "text": ["target"]}, " points."], "extent": [31112, 31178]}, {"type": "para", "indent": 8, "text": ["This parameter is only available when ", {"type": "ui", "text": ["Target Point Coordinates"]}, " is ", {"type": "em", "text": ["off"]}, "."], "extent": [31178, 31264]}], "container": true, "attrs": {"id": "ptargetgroupnum"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Target Point Coordinates"], "extent": [31264, 31294], "body": [{"type": "para", "indent": 8, "text": ["When on, you can ", {"keys": ["LMB"], "type": "keys", "text": null}, "-drag your ", {"type": "strong", "text": ["target"]}, " points to ", {"type": "em", "text": ["any"]}, " location on the ", {"type": "strong", "text": ["target"]}, " guide mesh, not just its polygonal indices. When off, ", {"type": "strong", "text": ["target"]}, " points can ", {"type": "em", "text": ["only"]}, " be placed at polygonal indices."], "extent": [31321, 31528]}, {"type": "para", "indent": 8, "text": ["This field lists the world space coordinates of the ", {"type": "strong", "text": ["target"]}, " points."], "extent": [31528, 31606]}], "container": true, "attrs": {"id": "targetposnum"}, "role": "item"}], "container": true, "role": "item_group"}], "container": true}], "text": "Parameters"}, {"level": 1, "id": "inputs", "container": true, "type": "inputs_section", "indent": 0, "role": "section", "extent": [31606, 31614], "body": [{"type": "dt_group", "body": [{"type": "dt", "indent": 0, "text": ["Source geometry"], "extent": [31614, 31632], "body": [{"type": "para", "indent": 4, "text": ["The mesh that is deformed. "], "extent": [31656, 31689]}, {"type": "para", "indent": 4, "text": ["The ", {"type": "strong", "text": ["source"]}, " mesh ", {"type": "em", "text": ["must"]}, " be manifold geometry. A mesh is a manifold when each edge is incident to only one or two faces, the faces incident to a vertex forming a closed or an open fan, and the mesh is one continuous patch. If your mesh has multiple patches \n    (for example, teeth, gum, and eye geometries are typically detached from body geometry), then the node will throw an error."], "extent": [31689, 32080]}, {"type": "fig_group", "body": [{"ext": null, "type": "fig", "indent": 4, "text": [" ", {"scheme": "Image", "value": "/images/nodes/sop/topotransfer_NoneManiAndManiGeo.jpg", "type": "img", "text": ""}], "role": "item", "extent": [32080, 32152], "body": [], "container": true, "attrs": {"display": "left wide"}}], "container": true, "role": "item_group"}, {"type": "tip_group", "body": [{"type": "tip", "indent": 4, "role": "item", "extent": [32185, 32194], "body": [{"type": "bullet_group", "body": [{"blevel": 10, "type": "bullet", "indent": 8, "text": ["You can use the ", {"scheme": "Icon", "value": "/icons/SOP/polydoctor.svg", "type": "link", "text": "", "fullpath": "/icons/SOP/polydoctor.svg"}, " ", {"scheme": null, "value": "/nodes/sop/polydoctor", "type": "link", "text": ["Poly Doctor"], "fullpath": "/nodes/sop/polydoctor"}, " node (with the ", {"type": "ui", "text": ["Topology"]}, " > ", {"type": "ui", "text": ["Visualize Maximal Manifold Patches"]}, " parameter ", {"type": "em", "text": ["enabled"]}, ") to visualize different patches. "], "extent": [32194, 32412]}, {"blevel": 10, "type": "bullet", "indent": 8, "text": ["You can use the ", {"scheme": "Icon", "value": "/icons/COMMON/delete.svg", "type": "link", "text": "", "fullpath": "/icons/COMMON/delete.svg"}, " ", {"scheme": null, "value": "/nodes/sop/delete", "type": "link", "text": ["Delete"], "fullpath": "/nodes/sop/delete"}, " node to delete unwanted patches."], "extent": [32412, 32531]}], "container": true}], "container": true}], "container": true, "role": "item_group"}], "container": true, "attrs": {"id": "sourcegeo"}}, {"type": "dt", "indent": 0, "text": ["Target geometry"], "extent": [32531, 32548], "body": [{"type": "para", "indent": 4, "text": ["The ", {"type": "ui", "text": ["Source Geometry"]}, " is deformed to match the size and shape of this mesh."], "extent": [32572, 32655]}], "container": true, "attrs": {"id": "targetgeo"}}], "container": true}], "text": "Inputs"}, {"level": 1, "id": "related", "container": true, "type": "related_section", "indent": 0, "role": "section", "extent": [32655, 32664], "body": [{"type": "bullet_group", "body": [{"blevel": 2, "type": "bullet", "indent": 0, "text": [{"scheme": "Node", "value": "/nodes/sop/topobuild", "type": "link", "text": "", "fullpath": "/nodes/sop/topobuild"}], "extent": [32664, 32687]}, {"blevel": 2, "type": "bullet", "indent": 0, "text": [{"scheme": "Node", "value": "/nodes/sop/remesh", "type": "link", "text": "", "fullpath": "/nodes/sop/remesh"}], "extent": [32687, 32707]}, {"blevel": 2, "type": "bullet", "indent": 0, "text": [{"scheme": "Node", "value": "/nodes/sop/attribtransfer", "type": "link", "text": "", "fullpath": "/nodes/sop/attribtransfer"}], "extent": [32707, 32735]}], "container": true}], "text": "Related"}], "title": ["Topo Transfer"], "summary": ["Non-rigidly deforms a surface to match the size and shape of a different surface."], "included": ["/nodes/sop/_mkl_note"]}