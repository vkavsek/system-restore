{"type": "root", "attrs": {"type": "node", "context": "sop", "internal": "vdbfromparticles", "icon": "SOP/vdbfromparticles", "since": "12.5", "verb_since": "16.5", "tags": "create, model", "version": null, "namespace": null}, "body": [{"level": 0, "type": "title", "indent": 0, "text": ["VDB from Particles"], "extent": [136, 159]}, {"type": "summary", "indent": 0, "text": ["Converts point clouds and/or point attributes into VDB volume primitives."], "extent": [159, 241]}, {"type": "para", "indent": 0, "text": ["See ", {"scheme": null, "value": "/model/volumes", "type": "link", "text": ["volumes"], "fullpath": "/model/volumes"}, " for an explanation of standard volumes and OpenVDB volumes."], "extent": [16, 105]}, {"type": "para", "indent": 0, "text": ["This node can create a distance field (signed (SDF) or unsigned) and/or a density (fog) field."], "extent": [265, 361]}, {"type": "para", "indent": 0, "text": ["Since VDB primitives only store the voxels around each point, they can have a much a higher effective resolution than creating a standard Houdini volume."], "extent": [361, 516]}, {"type": "note_group", "body": [{"type": "note", "indent": 0, "role": "item", "extent": [516, 522], "body": [{"type": "para", "indent": 4, "text": ["This node uses the point scale attribute (", {"type": "code", "text": ["pscale"]}, ") on the input points to convert them to spherical densities.\n    This attribute is set by the ", {"scheme": "Node", "value": "/nodes/pop/attribute", "type": "link", "text": ["Attribute POP"], "fullpath": "/nodes/pop/attribute"}, " or the ", {"scheme": "Node", "value": "/nodes/sop/point", "type": "link", "text": ["Point SOP"], "fullpath": "/nodes/sop/point"}, "."], "extent": [522, 746]}, {"type": "para", "indent": 4, "text": ["If points are smaller than 1.5 voxels, they cannot be resolved and will not appear in the VDB."], "extent": [746, 850]}, {"type": "para", "indent": 4, "text": ["You can also scale all sizes using the ", {"type": "ui", "text": ["Point radius scale"]}, " parameter."], "extent": [850, 928]}], "container": true}], "container": true, "role": "item_group"}, {"type": "para", "indent": 0, "text": ["You can connect a VDB to the second input to automatically use that VDB\u2019s orientation and voxel size (see the ", {"type": "ui", "text": ["Reference VDB"]}, " parameter)."], "extent": [928, 1069]}, {"level": 1, "id": "parameters", "container": true, "type": "parameters_section", "indent": 0, "role": "section", "extent": [1069, 1081], "body": [{"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 0, "text": ["Voxel Size"], "extent": [1081, 1094], "body": [{"type": "para", "indent": 4, "text": ["The size of voxels in the generated VDB volume primitive.\n    Points smaller than this cannot be resolved by the VDB so will not be in the output."], "extent": [1094, 1246]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Reference VDB"], "extent": [1246, 1261], "body": [{"type": "para", "indent": 4, "text": ["If the second input is connected, you can enter the name of a VDB primitive in the second input to copy the orientation and voxel size from it."], "extent": [1281, 1434]}, {"type": "para", "indent": 4, "text": ["See ", {"scheme": null, "value": "/model/volumes#group", "type": "link", "text": ["specifying volumes"], "fullpath": "/model/volumes#group", "fragment": "#group"}, "."], "extent": [1434, 1486]}], "container": true, "attrs": {"id": "group"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Distance VDB"], "extent": [1528, 1542], "body": [{"type": "para", "indent": 4, "text": ["Create a distance field VDB, where each voxel stores the distance to the nearest point."], "extent": [1542, 1635]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Fog VDB"], "extent": [1635, 1644], "body": [{"type": "para", "indent": 4, "text": ["Creates a density field, where a voxel is ", {"type": "code", "text": ["1"]}, " inside a point (that is, the sphere centered around the point with radius defined by the point\u2019s ", {"type": "code", "text": ["pscale"]}, " attribute), and ", {"type": "code", "text": ["0"]}, " outside."], "extent": [1644, 1834]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Mask VDB"], "extent": [1834, 1844], "body": [{"type": "para", "indent": 4, "text": ["Create a mask field VDB."], "extent": [1844, 1878]}, {"type": "para", "indent": 4, "text": ["Generate an alpha mask that is very useful for subsequent constrained level\n    set smoothing of the level set surface from the particles. This alpha mask\n    is defined as the fog volume derived from the CSG difference between a\n    level set surface with a maximum radius of the particles and a level set\n    surface with a minimum radius of the particles. This mask will guarentee\n    that subsequent level set smoothing is constrained between the min/max\n    surfaces thus avoiding the problem that surface details can be completely\n    smoothed away."], "extent": [1878, 2443]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Point Attributes"], "extent": [2443, 2461], "body": [{"type": "para", "indent": 4, "text": ["You can generate additional VDB primitives that store the values of point ", {"scheme": null, "value": "/model/attributes", "type": "link", "text": ["attributes"], "fullpath": "/model/attributes"}, ".\n    Only voxels near the points will be set."], "extent": [2461, 2617]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Attribute"], "extent": [2617, 2628], "body": [{"type": "para", "indent": 4, "text": ["A point attribute to create a VDB from."], "extent": [2628, 2677]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["VDB Name"], "extent": [2370, 2380], "body": [{"type": "para", "indent": 4, "text": ["A new name for the generated VDB primitive storing the attribute values.\n    Leave this blank to use the attribute name."], "extent": [2411, 2537]}], "container": true, "attrs": {"id": "attributevdbname"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Vector Type"], "extent": [2537, 2550], "body": [{"type": "para", "indent": 4, "text": ["How vector values should be interpreted."], "extent": [2572, 2618]}], "container": true, "attrs": {"id": "vectype"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Point Radius Scale"], "extent": [2760, 2780], "body": [{"type": "para", "indent": 4, "text": ["Multiply the particle size (", {"type": "code", "text": ["pscale"]}, " attribute) by this amount before converting."], "extent": [2780, 2867]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Minimum Radius in Voxels"], "extent": [2867, 2893], "body": [{"type": "para", "indent": 4, "text": ["Points with radius less than this number of voxels are ignored.\n    Points with radius smaller than 1.5 voxels will likely cause aliasing artifacts, so you should not set this lower than ", {"type": "code", "text": ["1.5"]}, "."], "extent": [2893, 3092]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Prune"], "extent": [3092, 3099], "body": [{"type": "para", "indent": 4, "text": ["After building the VDB grid there may be undetected constant tiles. Enable\n    this to detect constant regions and collapse them. This option only has an\n    effect if the particles are larger then the leaf nodes so it is normally\n    recommended to leave it disabled."], "extent": [3099, 3373]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Mask Width Scale"], "extent": [3373, 3391], "body": [{"type": "para", "indent": 4, "text": ["Use this scaling parameter to adjust the width of the generated mask VDB."], "extent": [3391, 3470]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Use World Space for Band"], "extent": [3470, 3496], "body": [{"type": "para", "indent": 4, "text": ["Sets whether ", {"type": "ui", "text": ["Half-band"]}, " is specified in Houdini units.\n    When this option is off, the half-band parameter is in voxels."], "extent": [3496, 3626]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Half-Band Voxels"], "extent": [3626, 3644], "body": [{"type": "para", "indent": 4, "text": ["How many voxels outside the point sphere to fill in the generated VDB (when ", {"type": "ui", "text": ["Use world space for band"]}, " is off)."], "extent": [3644, 3763]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Half-Band"], "extent": [3763, 3774], "body": [{"type": "para", "indent": 4, "text": ["How many Houdini units outside the point sphere to fill in the generated VDB (when ", {"type": "ui", "text": ["Use world space for band"]}, " is on)."], "extent": [3774, 3899]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Merge With Reference VDB"], "extent": [3899, 3925], "body": [{"type": "para", "indent": 4, "text": ["If a reference VDB is specified, the new particles will be unioned into\n    that signed distance field.  This allows one to use the particles to only\n    specify the surface detail, but have a coarse, offset, grid used for the\n    main bulk."], "extent": [3925, 4172]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Particle Footprint"], "extent": [4172, 4192], "body": [{"type": "para", "indent": 4, "text": ["The shape of the densities created from points when ", {"type": "ui", "text": ["Fog VDB"]}, " is on."], "extent": [4192, 4268]}, {"type": "dt_group", "body": [{"type": "dt", "indent": 4, "text": ["Spherical"], "extent": [4268, 4283], "body": [{"type": "para", "indent": 8, "text": ["Create spheres centered on the point with radius defined by the point scale attribute (", {"type": "code", "text": ["pscale"]}, ")."], "extent": [4283, 4398]}, {"type": "para", "indent": 8, "text": [{"scheme": "Image", "value": "/images/nodes/sop/vdb_points.jpg", "type": "img", "text": ""}], "extent": [4398, 4452]}], "container": true}, {"type": "dt", "indent": 4, "text": ["Velocity trail"], "extent": [4452, 4472], "body": [{"type": "para", "indent": 8, "text": ["Create ", {"type": "em", "text": ["multiple spheres"]}, " trailing off in the direction of the point\u2019s velocity attribute (", {"type": "code", "text": ["v"]}, ").\n        This may be useful for visualization."], "extent": [4472, 4632]}, {"type": "para", "indent": 8, "text": [{"scheme": "Image", "value": "/images/nodes/sop/vdb_velocity_trails.jpg", "type": "img", "text": ""}], "extent": [4632, 4691]}], "container": true}], "container": true}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Velocity Multiplier"], "extent": [4691, 4712], "body": [{"type": "para", "indent": 4, "text": ["When ", {"type": "ui", "text": ["Particle footprint"]}, " is ", {"type": "q", "text": ["Velocity trail"]}, ", this scales the length of the trail relative to the point velocity attribute (", {"type": "code", "text": ["v"]}, ")."], "extent": [4712, 4850]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Velocity Spacing"], "extent": [4850, 4868], "body": [{"type": "para", "indent": 4, "text": ["When ", {"type": "ui", "text": ["Particle footprint"]}, " is ", {"type": "q", "text": ["Velocity trail"]}, ", how far apart to space the spheres in the trail."], "extent": [4868, 4971]}], "container": true, "role": "item"}], "container": true, "role": "item_group"}], "text": "Parameters"}, {"level": 1, "id": "inputs", "container": true, "type": "inputs_section", "indent": 0, "role": "section", "extent": [4971, 4979], "body": [{"type": "dt_group", "body": [{"type": "dt", "indent": 0, "text": ["Particles to convert"], "extent": [4979, 5002], "body": [{"type": "para", "indent": 4, "text": ["The point geometry to convert."], "extent": [5002, 5038]}], "container": true}, {"type": "dt", "indent": 0, "text": ["Optional reference VDB"], "extent": [5038, 5062], "body": [{"type": "para", "indent": 4, "text": ["If connected, this node copies the orientation and voxel size from a VDB primitive in this input."], "extent": [5062, 5165]}], "container": true}], "container": true}], "text": "Inputs"}, {"level": 1, "id": "related", "container": true, "type": "related_section", "indent": 0, "role": "section", "extent": [5165, 5174], "body": [{"type": "bullet_group", "body": [{"blevel": 2, "type": "bullet", "indent": 0, "text": [{"scheme": "Node", "value": "/nodes/sop/vdb", "type": "link", "text": "", "fullpath": "/nodes/sop/vdb"}], "extent": [5174, 5192]}, {"blevel": 2, "type": "bullet", "indent": 0, "text": [{"scheme": "Node", "value": "/nodes/sop/vdbfrompolygons", "type": "link", "text": "", "fullpath": "/nodes/sop/vdbfrompolygons"}], "extent": [5192, 5221]}, {"blevel": 2, "type": "bullet", "indent": 0, "text": [{"scheme": "Node", "value": "/nodes/sop/isooffset", "type": "link", "text": "", "fullpath": "/nodes/sop/isooffset"}], "extent": [5221, 5245]}], "container": true}], "text": "Related"}], "title": ["VDB from Particles"], "summary": ["Converts point clouds and/or point attributes into VDB volume primitives."], "included": ["/nodes/sop/vdbfrompolygons", "/nodes/sop/volume_types"]}