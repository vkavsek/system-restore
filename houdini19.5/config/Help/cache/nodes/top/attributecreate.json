{"type": "root", "attrs": {"type": "node", "context": "top", "internal": "attributecreate", "icon": "SOP/attribcreate", "tags": "attribute, file", "since": "17.5", "version": null, "namespace": null}, "body": [{"level": 0, "type": "title", "indent": 0, "text": ["Attribute Create"], "extent": [0, 21]}, {"type": "summary", "indent": 0, "text": ["Creates or sets an attribute on all incoming work items."], "extent": [136, 200]}, {"type": "para", "indent": 0, "text": ["This node lets you change internal attributes (", {"type": "code", "text": ["pdg_index"]}, ", ", {"type": "code", "text": ["pdg_frame"]}, ", ", {"type": "code", "text": ["pdg_priority"]}, ", ", {"type": "code", "text": ["pdg_output"]}, ") as well as create/set custom attributes. If an attribute with the given name and type already exists, this will overwrite its size/value."], "extent": [200, 443]}, {"level": 1, "id": "top_attributes", "container": true, "type": "top_attributes_section", "indent": 0, "role": "section", "extent": [443, 459], "body": [{"type": "para", "indent": 0, "text": ["When the ", {"type": "ui", "text": ["Check Files When"]}, " parameter is set to ", {"type": "ui", "text": ["Work Item is Cooked"]}, ", this node adds extra attributes in addition to the attributes created using the multiparms. Each work item also stores a list of files that need to be validated, and whether they should produce errors or warnings."], "extent": [459, 750]}, {"type": "top_attributes_item_group", "body": [{"ext": null, "type": "top_attributes_item", "indent": 0, "text": [{"type": "code", "text": ["validateerrors"]}], "role": "item", "extent": [750, 770], "body": [{"type": "para", "indent": 4, "text": ["A list of flags that determine whether the files being validated should produce a warning or error when validation fails. This is the same size as the ", {"type": "code", "text": ["validatefiles"]}, " attribute."], "extent": [786, 969]}], "container": true, "attrs": {"type": "int"}}, {"ext": null, "type": "top_attributes_item", "indent": 0, "text": [{"type": "code", "text": ["validatefiles"]}], "role": "item", "extent": [969, 988], "body": [{"type": "para", "indent": 4, "text": ["A list of file paths that need to be validated when the work item cooks."], "extent": [1007, 1086]}], "container": true, "attrs": {"type": "string"}}], "container": true, "role": "item_group"}], "text": "Top_attributes"}, {"level": 1, "id": "parameters", "container": true, "type": "parameters_section", "indent": 0, "role": "section", "extent": [1086, 1098], "body": [{"level": 4, "type": "sep", "indent": 0, "text": [" Create "], "extent": [1098, 1116], "body": [{"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 0, "text": ["Generate When"], "extent": [16, 31], "body": [{"type": "para", "indent": 4, "text": ["Determines when this node will generate work items. You should generally leave this set to ", {"type": "q", "text": ["Automatic"]}, " unless you know the node requires a specific generation mode, or that the work items need to be generated dynamically."], "extent": [64, 291]}, {"type": "dt_group", "body": [{"type": "dt", "indent": 4, "text": ["All Upstream Items are Generated"], "extent": [291, 329], "body": [{"type": "para", "indent": 11, "text": ["This node will generate work items once all of the input nodes have generated their work items."], "extent": [329, 437]}], "container": true}, {"type": "dt", "indent": 4, "text": ["All Upstream Items are Cooked"], "extent": [437, 472], "body": [{"type": "para", "indent": 11, "text": ["This node will generate work items once all of the input nodes have cooked their work items."], "extent": [472, 577]}], "container": true}, {"type": "dt", "indent": 4, "text": ["Each Upstream Item is Cooked"], "extent": [577, 611], "body": [{"type": "para", "indent": 11, "text": ["This node will generate work items each time a work item in an input node is cooked."], "extent": [611, 708]}], "container": true}, {"type": "dt", "indent": 4, "text": ["Automatic"], "extent": [708, 723], "body": [{"type": "para", "indent": 11, "text": ["The generation mode is selected based on the generation mode of the input nodes. If any of the input nodes are generating work items when their inputs cook, this node will be set to ", {"type": "ui", "text": ["Each Upstream Item is Cooked"]}, ". Otherwise, it will be set to ", {"type": "ui", "text": ["All Upstream Items are Generated"]}, "."], "extent": [723, 1018]}], "container": true}], "container": true}], "container": true, "attrs": {"id": "pdg_workitemgeneration"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Create When"], "extent": [1172, 1189], "body": [{"type": "para", "indent": 8, "text": ["When this parameter is on, you can set it to an expression that\u2019s evaluated for each work item. Attributes will only be created/updated on a work item if this parameter\u2019s expression returns to a non-zero value for that item. For example, to only set attributes on work items whose ", {"type": "code", "text": ["index"]}, " is greater than 5, enable this parameter and set its expression to ", {"type": "code", "text": ["@pdg_index > 5"]}, "."], "extent": [1213, 1596]}], "container": true, "attrs": {"id": "condition"}, "role": "item"}], "container": true, "role": "item_group"}], "container": true}, {"level": 4, "type": "sep", "indent": 0, "text": [" Work Item "], "extent": [1596, 1616], "body": [{"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 4, "text": ["Copy Inputs to Outputs"], "extent": [1616, 1645], "body": [{"type": "para", "indent": 8, "text": ["Determines whether or not work items in this node should copy input files to their output file list."], "extent": [1671, 1781]}, {"type": "dt_group", "body": [{"type": "dt", "indent": 8, "text": ["Never"], "extent": [1781, 1796], "body": [{"type": "para", "indent": 12, "text": ["Never copy inputs files the output file list."], "extent": [1796, 1855]}], "container": true}, {"type": "dt", "indent": 8, "text": ["Always"], "extent": [1855, 1871], "body": [{"type": "para", "indent": 12, "text": ["Always copy inputs files the output file list."], "extent": [1871, 1931]}], "container": true}, {"type": "dt", "indent": 8, "text": ["If Node Doesn\u2019t Add Outputs"], "extent": [1931, 1968], "body": [{"type": "para", "indent": 12, "text": ["Input files are only copied if the Attribute Create does ", {"type": "em", "text": ["not"]}, " add any new output files to the work item on its own. If this node has output files specified using the ", {"type": "ui", "text": ["Files"]}, " multiparm, then only those files will appear in the output file list."], "extent": [1968, 2228]}], "container": true}], "container": true}], "container": true, "attrs": {"id": "copyoutputs"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Work Item Priority"], "extent": [6495, 6515], "body": [{"type": "para", "indent": 4, "text": ["This parameter determines how the current scheduler prioritizes the work items in this node."], "extent": [6546, 6644]}, {"type": "dt_group", "body": [{"type": "dt", "indent": 4, "text": ["Inherit From Upstream Item"], "extent": [6644, 6677], "body": [{"type": "para", "indent": 11, "text": ["The work items inherit their priority from their parent items. If a work item has no parent, its priority is set to 0."], "extent": [6677, 6808]}], "container": true}, {"type": "dt", "indent": 4, "text": ["Custom Expression"], "extent": [6808, 6832], "body": [{"type": "para", "indent": 11, "text": ["The work item priority is set to the value of ", {"type": "ui", "text": ["Priority Expression"]}, "."], "extent": [6832, 6915]}], "container": true}, {"type": "dt", "indent": 4, "text": ["Node Defines Priority"], "extent": [6915, 6943], "body": [{"type": "para", "indent": 7, "text": ["The work item priority is set based on the node\u2019s own internal priority calculations."], "extent": [6943, 7048]}, {"type": "para", "indent": 7, "text": ["This option is only available on the ", {"scheme": "Icon", "value": "MISC/python.svg", "type": "link", "text": "", "fullpath": "/nodes/top/MISC/python.svg"}, " ", {"scheme": "Node", "value": "/nodes/top/pythonprocessor", "type": "link", "text": ["Python Processor TOP"], "fullpath": "/nodes/top/pythonprocessor"}, ", ", {"scheme": "Icon", "value": "TOP/ropfetch.svg", "type": "link", "text": "", "fullpath": "/nodes/top/TOP/ropfetch.svg"}, " ", {"scheme": "Node", "value": "/nodes/top/ropfetch", "type": "link", "text": ["ROP Fetch TOP"], "fullpath": "/nodes/top/ropfetch"}, ", and ROP Output TOP nodes. These nodes define their own prioritization schemes that are implemented in their node logic."], "extent": [7048, 7344]}], "container": true}], "container": true}], "container": true, "attrs": {"id": "pdg_workitempriority"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Priority Expression"], "extent": [7344, 7365], "body": [{"type": "para", "indent": 4, "text": ["This parameter specifies an expression for work item priority. The expression is evaluated for each work item in the node."], "extent": [7400, 7528]}, {"type": "para", "indent": 4, "text": ["This parameter is only available when ", {"type": "ui", "text": ["Work Item Priority"]}, " is set to ", {"type": "ui", "text": ["Custom Expression"]}, "."], "extent": [7528, 7627]}], "container": true, "attrs": {"id": "pdg_workitempriorityexpr"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Index"], "extent": [2338, 2349], "body": [{"type": "para", "indent": 8, "text": ["When on, the node sets each work item\u2019s internal ", {"type": "code", "text": ["index"]}, " attribute to the result of the given expression. "], "extent": [2374, 2490]}, {"type": "para", "indent": 8, "text": ["For example, to set each work item\u2019s index to be the value of its ", {"type": "code", "text": ["foo"]}, " attribute minus one, turn on ", {"type": "ui", "text": ["Index"]}, " and set the expression to ", {"type": "code", "text": ["@foo - 1"]}, "."], "extent": [2490, 2648]}], "container": true, "attrs": {"id": "indexvalue"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Frame"], "extent": [2648, 2659], "body": [{"type": "para", "indent": 8, "text": ["When on, the node sets each work item\u2019s internal ", {"type": "code", "text": ["frame"]}, " attribute to the result of the given expression. "], "extent": [2684, 2800]}, {"type": "para", "indent": 8, "text": ["For example, to set each work item\u2019s frame number to be the value of its ", {"type": "code", "text": ["source_frame"]}, " attribute, turn on ", {"type": "ui", "text": ["Frame"]}, " and set the expression to ", {"type": "code", "text": ["@source_frame"]}, "."], "extent": [2800, 2969]}], "container": true, "attrs": {"id": "framevalue"}, "role": "item"}], "container": true, "role": "item_group"}], "container": true}, {"level": 4, "type": "sep", "indent": 0, "text": [" Attributes "], "extent": [2969, 2990], "body": [{"type": "para", "indent": 4, "text": ["You can use the parameters in this section to create work item attributes of various types. Integer and Float attributes take an array size between 1 and 4, and other attribute types only take scalar values. "], "extent": [2990, 3205]}, {"type": "para", "indent": 4, "text": ["If you need to create attributes that contain an array of strings or have a longer array length, please consider using a ", {"scheme": "Icon", "value": "MISC/python.svg", "type": "link", "text": "", "fullpath": "/nodes/top/MISC/python.svg"}, " ", {"scheme": "Node", "value": "/nodes/top/pythonprocessor", "type": "link", "text": ["Python Processor"], "fullpath": "/nodes/top/pythonprocessor"}, " or ", {"scheme": "Icon", "value": "MISC/python.svg", "type": "link", "text": "", "fullpath": "/nodes/top/MISC/python.svg"}, " ", {"scheme": "Node", "value": "/nodes/top/pythonscript", "type": "link", "text": ["Python Script"], "fullpath": "/nodes/top/pythonscript"}, " node instead. "], "extent": [3205, 3477]}, {"type": "para", "indent": 4, "text": ["You can also create attributes using the PDG work item Python API: ", {"scheme": "Py", "value": "pdg.WorkItem#addAttrib", "type": "link", "text": "", "fullpath": "/nodes/top/pdg.WorkItem#addAttrib", "fragment": "#addAttrib"}, "."], "extent": [3477, 3578]}, {"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 4, "text": ["Strings"], "extent": [3578, 3591], "body": [{"type": "para", "indent": 8, "text": ["Multiparm that allows you to add/set one or more string attributes."], "extent": [3619, 3696]}], "container": true, "attrs": {"id": "stringattribs"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Name"], "extent": [3696, 3706], "body": [{"type": "para", "indent": 8, "text": ["The name of the string attribute to add/set."], "extent": [3731, 3785]}], "container": true, "attrs": {"id": "stringname"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Existing Name"], "extent": [3785, 3804], "body": [{"type": "para", "indent": 8, "text": ["Determines how to handle a conflict when an existing attribute with the same name is found. "], "extent": [3833, 3935]}, {"type": "dt_group", "body": [{"type": "dt", "indent": 8, "text": ["Replace Existing Attribute"], "extent": [3935, 3971], "body": [{"type": "para", "indent": 12, "text": ["The node deletes the old attribute and add the one described by this multiparm entry."], "extent": [4012, 4111]}], "container": true, "attrs": {"id": "string_replaceexisting"}}, {"type": "dt", "indent": 8, "text": ["Keep Existing Attribute"], "extent": [4111, 4144], "body": [{"type": "para", "indent": 12, "text": ["The old attribute is kept and no values are modified."], "extent": [4182, 4249]}], "container": true, "attrs": {"id": "string_keepexisting"}}, {"type": "dt", "indent": 8, "text": ["Update Existing Attribute Value"], "extent": [4249, 4290], "body": [{"type": "para", "indent": 12, "text": ["The node attempts to update the value if the attribute type matches, otherwise it issues a warning."], "extent": [4330, 4443]}], "container": true, "attrs": {"id": "string_updateexisting"}}, {"type": "dt", "indent": 8, "text": ["Generate Warning on Type Mis-match"], "extent": [4443, 4487], "body": [{"type": "para", "indent": 12, "text": ["The node issues a warning if the attribute type doesn\u2019t match."], "extent": [4523, 4599]}], "container": true, "attrs": {"id": "string_genwarning"}}, {"type": "dt", "indent": 8, "text": ["Generate Error on Type Mis-match"], "extent": [4599, 4641], "body": [{"type": "para", "indent": 12, "text": ["The node issues an error if the attribute type doesn\u2019t match."], "extent": [4675, 4750]}], "container": true, "attrs": {"id": "string_generror"}}], "container": true}], "container": true, "attrs": {"id": "stringconflict"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Scope"], "extent": [4750, 4761], "body": [{"type": "para", "indent": 8, "text": ["The scope that the attribute should be created in. By default attributes are created on work items, but they can also be added as global attributes on the graph instead."], "extent": [4787, 4966]}, {"type": "dt_group", "body": [{"type": "dt", "indent": 8, "text": ["Work Item"], "extent": [4966, 4985], "body": [{"type": "para", "indent": 12, "text": ["The attribute is added to work items in the node."], "extent": [4985, 5048]}], "container": true}, {"type": "dt", "indent": 8, "text": ["Graph (Bound)"], "extent": [5048, 5071], "body": [{"type": "para", "indent": 12, "text": ["The attribute is set globally on the graph, but its lifetime is still bound to the work item that created it."], "extent": [5071, 5194]}], "container": true}, {"type": "dt", "indent": 8, "text": ["Graph (Global)"], "extent": [5194, 5218], "body": [{"type": "para", "indent": 12, "text": ["The attribute is set globally on the graph and will exist even after the work item that created it is deleted."], "extent": [5218, 5342]}], "container": true}], "container": true}], "container": true, "attrs": {"id": "stringscope"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Value"], "extent": [5342, 5353], "body": [{"type": "para", "indent": 8, "text": ["The value of the string attribute. This can be an expression that is evaluated for each incoming work item."], "extent": [5379, 5496]}, {"type": "note_group", "body": [{"type": "note", "indent": 8, "role": "item", "extent": [5496, 5510], "body": [{"type": "para", "indent": 12, "text": ["When ", {"type": "ui", "text": ["Value"]}, " is an expression, then you must place the expression inside ", {"type": "em", "text": ["backticks"]}, " (`)."], "extent": [5510, 5615]}], "container": true}], "container": true, "role": "item_group"}], "container": true, "attrs": {"id": "stringvalue"}, "role": "item"}], "container": true, "role": "item_group"}, {"level": 5, "type": "sep", "indent": 4, "extent": [5615, 5625]}, {"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 4, "text": ["Integers"], "extent": [5625, 5640], "body": [{"type": "para", "indent": 8, "text": ["A multiparm that allows you to add/set one or more integer attributes."], "extent": [5669, 5749]}], "container": true, "attrs": {"id": "integerattribs"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Name"], "extent": [5749, 5759], "body": [{"type": "para", "indent": 8, "text": ["The name of the integer attribute to add/set."], "extent": [5781, 5836]}], "container": true, "attrs": {"id": "intname"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Existing Name"], "extent": [5836, 5855], "body": [{"type": "para", "indent": 8, "text": ["Determines how to handle a conflict when an existing attribute with the same name is found. "], "extent": [5881, 5983]}, {"type": "dt_group", "body": [{"type": "dt", "indent": 8, "text": ["Replace Existing Attribute"], "extent": [5983, 6019], "body": [{"type": "para", "indent": 12, "text": ["The node deletes the old attribute and adds the one described by this multiparm entry. "], "extent": [6064, 6165]}], "container": true, "attrs": {"id": "integer_replaceexisting   "}}, {"type": "dt", "indent": 8, "text": ["Keep Existing Attribute"], "extent": [6165, 6198], "body": [{"type": "para", "indent": 12, "text": ["The old attribute is kept and no values are modified."], "extent": [6237, 6304]}], "container": true, "attrs": {"id": "integer_keepexisting"}}, {"type": "dt", "indent": 8, "text": ["Update Existing Attribute Value"], "extent": [6304, 6345], "body": [{"type": "para", "indent": 12, "text": ["The node attempts to update the value if the attribute type matches, otherwise it issues a warning. "], "extent": [6392, 6506]}], "container": true, "attrs": {"id": "integer_updateexisting"}}, {"type": "dt", "indent": 8, "text": ["Generate Warning on Type Mis-match"], "extent": [6506, 6551], "body": [{"type": "para", "indent": 12, "text": ["The node issues a warning if the attribute type doesn\u2019t match."], "extent": [6588, 6664]}], "container": true, "attrs": {"id": "integer_genwarning"}}, {"type": "dt", "indent": 8, "text": ["Generate Error on Type Mis-match"], "extent": [6664, 6706], "body": [{"type": "para", "indent": 12, "text": ["The node issues an error if the attribute type doesn\u2019t match."], "extent": [6741, 6816]}], "container": true, "attrs": {"id": "integer_generror"}}], "container": true}, {"type": "tip_group", "body": [{"type": "tip", "indent": 8, "role": "item", "extent": [6816, 6829], "body": [{"type": "para", "indent": 12, "text": ["If you set this parameter to ", {"type": "ui", "text": ["Update Existing Attribute Value"]}, " and specify a ", {"type": "ui", "text": ["Size"]}, " value that is ", {"type": "em", "text": ["less than"]}, " the size of an existing attribute array, only the first ", {"type": "ui", "text": ["Size"]}, " component will be updated. For example, you can use this to update the first three values in a four-component vector without affecting the fourth component."], "extent": [6829, 7178]}], "container": true}], "container": true, "role": "item_group"}], "container": true, "attrs": {"id": "intconflict"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Size"], "extent": [7178, 7188], "body": [{"type": "para", "indent": 8, "text": ["The vector size of the integer attribute (1-4). Use ", {"type": "code", "text": ["1"]}, " for a single scalar value or ", {"type": "code", "text": ["3"]}, " for a 3D vector."], "extent": [7210, 7325]}], "container": true, "attrs": {"id": "intsize"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Scope"], "extent": [7325, 7336], "body": [{"type": "para", "indent": 8, "text": ["The scope that the attribute should be created in. By default attributes are created on work items, but they can also be added as global attributes on the graph instead."], "extent": [7359, 7538]}, {"type": "dt_group", "body": [{"type": "dt", "indent": 8, "text": ["Work Item"], "extent": [7538, 7557], "body": [{"type": "para", "indent": 12, "text": ["The attribute is added to work items in the node."], "extent": [7557, 7620]}], "container": true}, {"type": "dt", "indent": 8, "text": ["Graph (Bound)"], "extent": [7620, 7643], "body": [{"type": "para", "indent": 12, "text": ["The attribute is set globally on the graph, but its lifetime is still bound to the work item that created it."], "extent": [7643, 7766]}], "container": true}, {"type": "dt", "indent": 8, "text": ["Graph (Global)"], "extent": [7766, 7790], "body": [{"type": "para", "indent": 12, "text": ["The attribute is set globally on the graph and will exist even after the work item that created it is deleted."], "extent": [7790, 7914]}], "container": true}], "container": true}], "container": true, "attrs": {"id": "intscope"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Value"], "extent": [7914, 7925], "body": [{"type": "para", "indent": 8, "text": ["The value for the integer attribute. This can be an expression that is evaluated for each incoming work item."], "extent": [7948, 8067]}, {"type": "note_group", "body": [{"type": "note", "indent": 8, "role": "item", "extent": [8067, 8081], "body": [{"type": "para", "indent": 12, "text": ["When ", {"type": "ui", "text": ["Value"]}, " is an expression, then you must place the expression inside ", {"type": "em", "text": ["backticks"]}, " (`)."], "extent": [8081, 8186]}], "container": true}], "container": true, "role": "item_group"}], "container": true, "attrs": {"id": "intvalue"}, "role": "item"}], "container": true, "role": "item_group"}, {"level": 5, "type": "sep", "indent": 4, "extent": [8186, 8196]}, {"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 4, "text": ["Floats"], "extent": [8196, 8209], "body": [{"type": "para", "indent": 8, "text": ["A multiparm that allows you to add/set one or more float attributes."], "extent": [8236, 8314]}], "container": true, "attrs": {"id": "floatattribs"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Name"], "extent": [8314, 8324], "body": [{"type": "para", "indent": 8, "text": ["The name of the float attribute to add/set."], "extent": [8348, 8401]}], "container": true, "attrs": {"id": "floatname"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Existing Name"], "extent": [8401, 8420], "body": [{"type": "para", "indent": 8, "text": ["Determines how to handle a conflict when an existing attribute with the same name is found. "], "extent": [8448, 8550]}, {"type": "dt_group", "body": [{"type": "dt", "indent": 8, "text": ["Replace Existing Attribute"], "extent": [8550, 8586], "body": [{"type": "para", "indent": 12, "text": ["The node deletes the old attribute and add the one described by this multiparm entry. "], "extent": [8629, 8729]}], "container": true, "attrs": {"id": "float_replaceexisting   "}}, {"type": "dt", "indent": 8, "text": ["Keep Existing Attribute"], "extent": [8729, 8762], "body": [{"type": "para", "indent": 12, "text": ["The old attribute is kept and no values are modified."], "extent": [8799, 8866]}], "container": true, "attrs": {"id": "float_keepexisting"}}, {"type": "dt", "indent": 8, "text": ["Update Existing Attribute Value"], "extent": [8866, 8908], "body": [{"type": "para", "indent": 12, "text": ["The node attempts to update the value if the attribute type matches, otherwise it issues a warning. "], "extent": [8947, 9061]}], "container": true, "attrs": {"id": "float_updateexisting"}}, {"type": "dt", "indent": 8, "text": ["Generate Warning on Type Mis-match"], "extent": [9061, 9106], "body": [{"type": "para", "indent": 12, "text": ["The node issues a warning if the attribute type doesn\u2019t match."], "extent": [9141, 9217]}], "container": true, "attrs": {"id": "float_genwarning"}}, {"type": "dt", "indent": 8, "text": ["Generate Error on Type Mis-match"], "extent": [9217, 9260], "body": [{"type": "para", "indent": 12, "text": ["The node issues an error if the attribute type doesn\u2019t match."], "extent": [9293, 9368]}], "container": true, "attrs": {"id": "float_generror"}}], "container": true}, {"type": "tip_group", "body": [{"type": "tip", "indent": 8, "role": "item", "extent": [9368, 9381], "body": [{"type": "para", "indent": 12, "text": ["If you set this parameter to ", {"type": "ui", "text": ["Update Existing Attribute Value"]}, " and specify a ", {"type": "ui", "text": ["Size"]}, " value that is ", {"type": "em", "text": ["less than"]}, " the size of an existing attribute array, only the first ", {"type": "ui", "text": ["Size"]}, " component will be updated. For example, you can use this to update the first three values in a four-component vector without affecting the fourth component."], "extent": [9381, 9730]}], "container": true}], "container": true, "role": "item_group"}], "container": true, "attrs": {"id": "floatconflict"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Size"], "extent": [9730, 9740], "body": [{"type": "para", "indent": 8, "text": ["The vector size of the float attribute (1-4). Use ", {"type": "code", "text": ["1"]}, " for a single scalar value or ", {"type": "code", "text": ["3"]}, " for a 3D vector."], "extent": [9764, 9877]}], "container": true, "attrs": {"id": "floatsize"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Scope"], "extent": [9877, 9888], "body": [{"type": "para", "indent": 8, "text": ["The scope that the attribute should be created in. By default attributes are created on work items, but they can also be added as global attributes on the graph instead."], "extent": [9913, 10092]}, {"type": "dt_group", "body": [{"type": "dt", "indent": 8, "text": ["Work Item"], "extent": [10092, 10111], "body": [{"type": "para", "indent": 12, "text": ["The attribute is added to work items in the node."], "extent": [10111, 10174]}], "container": true}, {"type": "dt", "indent": 8, "text": ["Graph (Bound)"], "extent": [10174, 10197], "body": [{"type": "para", "indent": 12, "text": ["The attribute is set globally on the graph, but its lifetime is still bound to the work item that created it."], "extent": [10197, 10320]}], "container": true}, {"type": "dt", "indent": 8, "text": ["Graph (Global)"], "extent": [10320, 10344], "body": [{"type": "para", "indent": 12, "text": ["The attribute is set globally on the graph and will exist even after the work item that created it is deleted."], "extent": [10344, 10468]}], "container": true}], "container": true}], "container": true, "attrs": {"id": "floatscope"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Value"], "extent": [10468, 10479], "body": [{"type": "para", "indent": 8, "text": ["The value for the float attribute. This can be an expression that is evaluated for each incoming work item."], "extent": [10504, 10621]}, {"type": "note_group", "body": [{"type": "note", "indent": 8, "role": "item", "extent": [10621, 10635], "body": [{"type": "para", "indent": 12, "text": ["When ", {"type": "ui", "text": ["Value"]}, " is an expression, then you must place the expression inside ", {"type": "em", "text": ["backticks"]}, " (`)."], "extent": [10635, 10740]}], "container": true}], "container": true, "role": "item_group"}], "container": true, "attrs": {"id": "floatvalue"}, "role": "item"}], "container": true, "role": "item_group"}, {"level": 5, "type": "sep", "indent": 4, "extent": [10740, 10750]}, {"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 4, "text": ["PyObjects"], "extent": [10750, 10766], "body": [{"type": "para", "indent": 8, "text": ["A multiparm that allows you to add/set one or more PyObject attributes."], "extent": [10796, 10885]}, {"type": "para", "indent": 8, "text": ["The expressions used to create PyObjects with this node must be literal expressions, meaning they can only consist of strings, booleans, numbers, lists, dicts and tuples. To create more complicated PyObject attributes, you should use a ", {"scheme": "Node", "value": "/nodes/top/pythonscript", "type": "link", "text": ["Python Script"], "fullpath": "/nodes/top/pythonscript"}, " node instead. The ", {"scheme": "Py", "value": "pdg.WorkItem#setPyObjectAttrib", "type": "link", "text": "", "fullpath": "/nodes/top/pdg.WorkItem#setPyObjectAttrib", "fragment": "#setPyObjectAttrib"}, " API method can be used to store any type of PyObject to a work item attribute."], "extent": [10885, 11301]}], "container": true, "attrs": {"id": "pyobjectattribs"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Name"], "extent": [11301, 11311], "body": [{"type": "para", "indent": 8, "text": ["The name of the PyObject attribute to add/set."], "extent": [11338, 11394]}], "container": true, "attrs": {"id": "pyobjectname"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Existing Name"], "extent": [11394, 11413], "body": [{"type": "para", "indent": 8, "text": ["Determines how to handle a conflict when an existing attribute with the same name is found. "], "extent": [11444, 11546]}, {"type": "dt_group", "body": [{"type": "dt", "indent": 8, "text": ["Replace Existing Attribute"], "extent": [11546, 11582], "body": [{"type": "para", "indent": 12, "text": ["The node deletes the old attribute and adds the one described by this multiparm entry. "], "extent": [11623, 11724]}], "container": true, "attrs": {"id": "pyobj_replaceexisting "}}, {"type": "dt", "indent": 8, "text": ["Keep Existing Attribute"], "extent": [11724, 11757], "body": [{"type": "para", "indent": 12, "text": ["The old attribute is kept and no values are modified."], "extent": [11794, 11861]}], "container": true, "attrs": {"id": "pyobj_keepexisting"}}, {"type": "dt", "indent": 8, "text": ["Update Existing Attribute Value"], "extent": [11861, 11902], "body": [{"type": "para", "indent": 12, "text": ["The node attempts to update the value if the attribute type matches, otherwise it issues a warning. "], "extent": [11942, 12056]}], "container": true, "attrs": {"id": "pyobj_updateexisting "}}, {"type": "dt", "indent": 8, "text": ["Generate Warning on Type Mis-match"], "extent": [12056, 12100], "body": [{"type": "para", "indent": 12, "text": ["The node issues a warning if the attribute type doesn\u2019t match."], "extent": [12135, 12211]}], "container": true, "attrs": {"id": "pyobj_genwarning"}}, {"type": "dt", "indent": 8, "text": ["Generate Error on Type Mis-match"], "extent": [12211, 12253], "body": [{"type": "para", "indent": 12, "text": ["The node issues an error if the attribute type doesn\u2019t match."], "extent": [12286, 12361]}], "container": true, "attrs": {"id": "pyobj_generror"}}], "container": true}], "container": true, "attrs": {"id": "pyobjectconflict"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Scope"], "extent": [12361, 12372], "body": [{"type": "para", "indent": 8, "text": ["The scope that the attribute should be created in. By default attributes are created on work items, but they can also be added as global attributes on the graph instead."], "extent": [12400, 12579]}, {"type": "dt_group", "body": [{"type": "dt", "indent": 8, "text": ["Work Item"], "extent": [12579, 12598], "body": [{"type": "para", "indent": 12, "text": ["The attribute is added to work items in the node."], "extent": [12598, 12661]}], "container": true}, {"type": "dt", "indent": 8, "text": ["Graph (Bound)"], "extent": [12661, 12684], "body": [{"type": "para", "indent": 12, "text": ["The attribute is set globally on the graph, but its lifetime is still bound to the work item that created it."], "extent": [12684, 12807]}], "container": true}, {"type": "dt", "indent": 8, "text": ["Graph (Global)"], "extent": [12807, 12831], "body": [{"type": "para", "indent": 12, "text": ["The attribute is set globally on the graph and will exist even after the work item that created it is deleted."], "extent": [12831, 12955]}], "container": true}], "container": true}], "container": true, "attrs": {"id": "pyobjectscope"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Expression"], "extent": [12955, 12971], "body": [{"type": "para", "indent": 8, "text": ["The Python expression for the new PyObject attribute. This can be an expression that is evaluated for each incoming work item. It must consist only of Python literals, meaning that it can only use strings, booleans, numeric values, lists, dictionaries and tuples."], "extent": [13004, 13277]}], "container": true, "attrs": {"id": "pyobjectexpression"}, "role": "item"}], "container": true, "role": "item_group"}, {"level": 5, "type": "sep", "indent": 4, "extent": [13277, 13287]}, {"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 4, "text": ["Files"], "extent": [13287, 13299], "body": [{"type": "para", "indent": 8, "text": ["A multiparm that allows you to add/set one or more output file paths. For each work item, TOPs tracks the file paths of files created by that work item. Often times work items ", {"scheme": null, "value": "/tops/stocknodes#script", "type": "link", "text": ["work script"], "fullpath": "/tops/stocknodes#script", "fragment": "#script"}, " update this information automatically, but you can also use this node to set it ", {"type": "em", "text": ["manually"]}, "."], "extent": [13324, 13639]}], "container": true, "attrs": {"id": "resultdata"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Create As"], "extent": [13639, 13654], "body": [{"type": "dt_group", "body": [{"type": "dt", "indent": 8, "text": ["Output File"], "extent": [13679, 13700], "body": [{"type": "para", "indent": 12, "text": ["The file is added to the work item\u2019s output file list."], "extent": [13700, 13768]}], "container": true}, {"type": "dt", "indent": 8, "text": ["File Attribute"], "extent": [13768, 13792], "body": [{"type": "para", "indent": 12, "text": ["The file is added to the work item as an attribute with the ", {"type": "code", "text": ["file"]}, " type."], "extent": [13792, 13878]}], "container": true}], "container": true}], "container": true, "attrs": {"id": "resultmenu"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Attribute Name"], "extent": [13878, 13898], "body": [{"type": "para", "indent": 8, "text": ["When ", {"type": "ui", "text": ["Create As"]}, " is set to ", {"type": "ui", "text": ["Attribute"]}, ", choose the name of the created attribute."], "extent": [13927, 14022]}], "container": true, "attrs": {"id": "resultattrname"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Existing Name"], "extent": [14022, 14041], "body": [{"type": "para", "indent": 8, "text": ["This parameter is only used when ", {"type": "ui", "text": ["Create As"]}, " is set to ", {"type": "ui", "text": ["Attribute"]}, "."], "extent": [14070, 14151]}, {"type": "para", "indent": 8, "text": ["Determines how to handle a conflict when an existing attribute with the same name is found. "], "extent": [14151, 14253]}, {"type": "dt_group", "body": [{"type": "dt", "indent": 8, "text": ["Replace Existing Attribute"], "extent": [14253, 14289], "body": [{"type": "para", "indent": 12, "text": ["The node deletes the old attribute and adds the one described by this multiparm entry. "], "extent": [14329, 14430]}], "container": true, "attrs": {"id": "files_replaceexisting"}}, {"type": "dt", "indent": 8, "text": ["Keep Existing Attribute"], "extent": [14430, 14463], "body": [{"type": "para", "indent": 12, "text": ["The old attribute is kept and no values are modified."], "extent": [14500, 14567]}], "container": true, "attrs": {"id": "files_keepexisting"}}, {"type": "dt", "indent": 8, "text": ["Update Existing Attribute Value"], "extent": [14567, 14608], "body": [{"type": "para", "indent": 12, "text": ["The node attempts to update the value if the attribute type matches, otherwise it issues a warning."], "extent": [14647, 14760]}], "container": true, "attrs": {"id": "files_updateexisting"}}, {"type": "dt", "indent": 8, "text": ["Generate Warning on Type Mis-match"], "extent": [14760, 14804], "body": [{"type": "para", "indent": 12, "text": ["The node issues a warning if the attribute type doesn\u2019t match."], "extent": [14839, 14915]}], "container": true, "attrs": {"id": "files_genwarning"}}, {"type": "dt", "indent": 8, "text": ["Generate Error on Type Mis-match"], "extent": [14915, 14958], "body": [{"type": "para", "indent": 12, "text": ["The node issues an error if the attribute type doesn\u2019t match."], "extent": [14991, 15066]}], "container": true, "attrs": {"id": "files_generror"}}], "container": true}], "container": true, "attrs": {"id": "resultconflict"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Scope"], "extent": [15066, 15077], "body": [{"type": "para", "indent": 8, "text": ["The scope that the attribute should be created in. By default attributes are created on work items, but they can also be added as global attributes on the graph instead."], "extent": [15103, 15282]}, {"type": "dt_group", "body": [{"type": "dt", "indent": 8, "text": ["Work Item"], "extent": [15282, 15301], "body": [{"type": "para", "indent": 12, "text": ["The attribute is added to work items in the node."], "extent": [15301, 15364]}], "container": true}, {"type": "dt", "indent": 8, "text": ["Graph (Bound)"], "extent": [15364, 15387], "body": [{"type": "para", "indent": 12, "text": ["The attribute is set globally on the graph, but its lifetime is still bound to the work item that created it."], "extent": [15387, 15510]}], "container": true}, {"type": "dt", "indent": 8, "text": ["Graph (Global)"], "extent": [15510, 15534], "body": [{"type": "para", "indent": 12, "text": ["The attribute is set globally on the graph and will exist even after the work item that created it is deleted."], "extent": [15534, 15658]}], "container": true}], "container": true}], "container": true, "attrs": {"id": "resultscope"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["File Path"], "extent": [15658, 15673], "body": [{"type": "para", "indent": 8, "text": ["A file path to add to each work item\u2019s list of file outputs. This can be an expression that is evaluated for each incoming work item."], "extent": [15699, 15842]}], "container": true, "attrs": {"id": "resultvalue"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["File Tag"], "extent": [15842, 15856], "body": [{"type": "para", "indent": 8, "text": ["The ", {"scheme": null, "value": "/tops/filetags", "type": "link", "text": ["file tag"], "fullpath": "/tops/filetags"}, " to apply to the ", {"type": "ui", "text": ["File Path"]}, ". For example, ", {"type": "code", "text": ["file/geo"]}, " or ", {"type": "code", "text": ["file/pic"]}, ". This can be an expression that is evaluated for each incoming work item."], "extent": [15880, 16062]}], "container": true, "attrs": {"id": "resulttag"}, "role": "item"}], "container": true, "role": "item_group"}, {"type": "note_group", "body": [{"type": "note", "indent": 4, "role": "item", "extent": [16062, 16072], "body": [{"type": "para", "indent": 8, "text": ["When ", {"type": "ui", "text": ["File Path"]}, " or ", {"type": "ui", "text": ["File Tag"]}, " are expressions, then you must place the expression inside ", {"type": "em", "text": ["backticks"]}, " (`)."], "extent": [16072, 16192]}], "container": true}], "container": true, "role": "item_group"}, {"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 4, "text": ["Take Ownership"], "extent": [16192, 16212], "body": [{"type": "para", "indent": 8, "text": ["Mark the file as ", {"type": "ui", "text": ["owned"]}, " by PDG.  This should be used to indicate that the file was produced by the PDG cook. WARNING: owned ", {"type": "ui", "text": ["Output Files"]}, " are deleted by menu actions like ", {"type": "ui", "text": ["Delete All File Outputs From Disk"]}, "."], "extent": [16236, 16469]}, {"type": "para", "indent": 8, "text": ["In the case of ", {"type": "ui", "text": ["Output Files"]}, ", ", {"type": "ui", "text": ["owned"]}, " additionally indicates the file is owned by the work item. Owned File attributes are not treated as work item Outputs and so they are not deleted by those menu actions."], "extent": [16469, 16690]}], "container": true, "attrs": {"id": "resultown"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Copy File to Working Directory"], "extent": [16690, 16726], "body": [{"type": "para", "indent": 8, "text": ["Indicates that the file should be copied from its source location to the scheduler\u2019s working directory when this work item cooks."], "extent": [16751, 16890]}, {"type": "para", "indent": 8, "text": ["Enabling this toggle sets the ", {"scheme": "Py", "value": "pdg.attribFlag#Transfer", "type": "link", "text": "", "fullpath": "/nodes/top/pdg.attribFlag#Transfer", "fragment": "#Transfer"}, " attribute flag on the file attribute or output file added by this node. "], "extent": [16890, 17031]}], "container": true, "attrs": {"id": "resultcopy"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Check File Path"], "extent": [17031, 17052], "body": [{"type": "para", "indent": 8, "text": ["Determines if the node should verify that the file path exists and is readable before adding it to your work items."], "extent": [17086, 17211]}, {"type": "dt_group", "body": [{"type": "dt", "indent": 8, "text": ["No File Path Validation"], "extent": [17211, 17244], "body": [{"type": "para", "indent": 12, "text": ["The node does ", {"type": "em", "text": ["not"]}, " perform file validation."], "extent": [17284, 17342]}], "container": true, "attrs": {"id": "checkfilepath_novalid"}}, {"type": "dt", "indent": 8, "text": ["Error on Missing File"], "extent": [17342, 17373], "body": [{"type": "para", "indent": 12, "text": ["The node issues an error when the specified ", {"type": "ui", "text": ["File Path"]}, " ", {"type": "em", "text": ["does not"]}, " exist."], "extent": [17414, 17503]}], "container": true, "attrs": {"id": "checkfilepath_generror"}}, {"type": "dt", "indent": 8, "text": ["Warning on Missing File"], "extent": [17503, 17536], "body": [{"type": "para", "indent": 12, "text": ["The node issues a warning when the specified ", {"type": "ui", "text": ["File Path"]}, " ", {"type": "em", "text": ["does not"]}, " exist."], "extent": [17579, 17669]}], "container": true, "attrs": {"id": "checkfilepath_genwarning"}}], "container": true}], "container": true, "attrs": {"id": "resultcheckfilepath"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Check File When"], "extent": [17669, 17690], "body": [{"type": "para", "indent": 8, "text": ["Determines when the work items are validated. "], "extent": [17718, 17774]}, {"type": "dt_group", "body": [{"type": "dt", "indent": 8, "text": ["Work Item is Generated"], "extent": [17774, 17806], "body": [{"type": "para", "indent": 12, "text": ["Work items are validated during work item generation."], "extent": [17806, 17873]}], "container": true}, {"type": "dt", "indent": 8, "text": ["Work Item if Cooked"], "extent": [17873, 17902], "body": [{"type": "para", "indent": 12, "text": ["Work items are validated when the work items cook."], "extent": [17902, 17966]}, {"type": "para", "indent": 12, "text": ["Validating files during the cook is useful when you expect the files to be created when something upstream cooks, as opposed to referring to a existing path already on disk."], "extent": [17966, 18153]}], "container": true}], "container": true}], "container": true, "attrs": {"id": "checkpathwhen"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Exists Attribute Name"], "extent": [18153, 18180], "body": [{"type": "para", "indent": 8, "text": ["When ", {"type": "ui", "text": ["Check File Path"]}, " is set to ", {"type": "ui", "text": ["Warning on Missing File"]}, ", this attribute specifies the name of an integer attribute which will be used to indicate whether the file exists. If the attribute is set to 0, it indicates that the file does not exist, while 1 indicates that the file does exist."], "extent": [18207, 18511]}], "container": true, "attrs": {"id": "existsattrib"}, "role": "item"}], "container": true, "role": "item_group"}], "container": true}], "text": "Parameters"}, {"level": 1, "id": "related", "container": true, "type": "related_section", "indent": 0, "role": "section", "extent": [18511, 18520], "body": [{"type": "bullet_group", "body": [{"blevel": 2, "type": "bullet", "indent": 0, "text": [{"scheme": "Node", "value": "/nodes/top/attributecopy", "type": "link", "text": "", "fullpath": "/nodes/top/attributecopy"}], "extent": [18520, 18547]}, {"blevel": 2, "type": "bullet", "indent": 0, "text": [{"scheme": "Node", "value": "/nodes/top/attributedelete", "type": "link", "text": "", "fullpath": "/nodes/top/attributedelete"}], "extent": [18547, 18576]}, {"blevel": 2, "type": "bullet", "indent": 0, "text": [{"scheme": "Node", "value": "/nodes/top/partitionbyattribute", "type": "link", "text": "", "fullpath": "/nodes/top/partitionbyattribute"}], "extent": [18576, 18610]}], "container": true}], "text": "Related"}], "title": ["Attribute Create"], "summary": ["Creates or sets an attribute on all incoming work items."], "included": ["/nodes/top/processor_common"]}