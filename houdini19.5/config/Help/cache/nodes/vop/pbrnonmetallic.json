{"type": "root", "attrs": {"type": "node", "context": "vop", "internal": "pbrnonmetallic", "icon": "VOP/pbrnonmetallic", "since": "17.0", "version": null, "namespace": null}, "body": [{"level": 0, "type": "title", "indent": 0, "text": ["PBR Non-Metallic"], "extent": [101, 122]}, {"type": "summary", "indent": 0, "text": ["Computes reflections and refractions for dielectric (non-metallic) materials."], "extent": [122, 208]}, {"type": "para", "indent": 0, "text": ["This node computes reflections, refractions or both."], "extent": [208, 262]}, {"type": "para", "indent": 0, "text": ["It can be used to build more compplex materials by plugging other BSDF VOPs into its base layer input."], "extent": [262, 366]}, {"level": 1, "id": "parameters", "container": true, "type": "parameters_section", "indent": 0, "role": "section", "extent": [366, 378], "body": [{"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 0, "text": ["Specular Model"], "extent": [378, 395], "body": [{"type": "para", "indent": 4, "text": ["The mathematical model used to simulate glossy reflections. For each viewing angle and surface normal, the model defines from which directions and at what intensity light is reflected. This is what shapes specular highlights and reflections in general."], "extent": [411, 669]}, {"type": "para", "indent": 4, "text": ["The overall glossiness, and with it the size of highlights, is controlled by ", {"type": "ui", "text": ["Roughness"]}, ". The available models simulate the effects caused by ", {"type": "ui", "text": ["Roughness"]}, " with varying degrees of physical accuracy, with GGX currently being the most accurate."], "extent": [669, 919]}, {"type": "para", "indent": 4, "text": ["The chosen model has no effect when ", {"type": "ui", "text": ["Roughness"]}, " is ", {"type": "code", "text": ["0"]}, ", since this causes light to be reflected from a single direction at full intensity, making the model irrelevant."], "extent": [919, 1094]}, {"type": "para", "indent": 4, "text": ["See ", {"type": "ui", "text": ["Roughness"]}, " for more information."], "extent": [1094, 1140]}], "container": true, "attrs": {"id": "model"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Reflection Label"], "extent": [1140, 1158], "body": [{"type": "para", "indent": 4, "text": ["Specifies a label for the reflection BSDF. This can be used to export\n    contributions from this component to a separate image plane."], "extent": [1181, 1321]}], "container": true, "attrs": {"id": "reflectlabel"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Refraction Label"], "extent": [1321, 1339], "body": [{"type": "para", "indent": 4, "text": ["Specifies a label for the refraction BSDF. This can be used to export\n    contributions from this component to a separate image plane."], "extent": [1362, 1502]}], "container": true, "attrs": {"id": "refractlabel"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Reflect"], "extent": [1502, 1511], "body": [{"type": "para", "indent": 4, "text": ["Controls the amount of reflection output."], "extent": [1529, 1576]}], "container": true, "attrs": {"id": "reflect"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Refract"], "extent": [1576, 1585], "body": [{"type": "para", "indent": 4, "text": ["Controls the amount of reflection output."], "extent": [1603, 1650]}], "container": true, "attrs": {"id": "refract"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Roughness"], "extent": [1650, 1661], "body": [{"type": "para", "indent": 4, "text": ["Controls how dull a surface appears. A value of ", {"type": "code", "text": ["0.0"]}, " results in a smooth surface with perfectly sharp reflections. A value of ", {"type": "code", "text": ["1.0"]}, " produces a completely dull surface."], "extent": [1676, 1850]}, {"type": "para", "indent": 4, "text": ["This simulates microscopic bumps which become more pronounced the higher the ", {"type": "ui", "text": ["Roughness"]}, ", causing reflected light to be scattered more."], "extent": [1850, 1993]}, {"type": "para", "indent": 4, "text": [{"scheme": "Image", "value": "/images/nodes/vop/principled_shader_rough_dielectric.png", "type": "link", "text": "", "fullpath": "/images/nodes/vop/principled_shader_rough_dielectric.png"}], "extent": [1993, 2064]}], "container": true, "attrs": {"id": "rough"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Anisotropy"], "extent": [2064, 2076], "body": [{"type": "para", "indent": 4, "text": ["Causes reflections to be stretched in the direction defined by ", {"type": "ui", "text": ["Anisotropy Direction"]}, "."], "extent": [828, 922]}, {"type": "para", "indent": 4, "text": ["This simulates microscopic bumps with a directional bias, causing light to be scattered more in the defined direction. This is typical of brushed metals."], "extent": [922, 1081]}, {"type": "para", "indent": 4, "text": [{"scheme": "Image", "value": "/images/nodes/vop/principled_shader_aniso.png", "type": "link", "text": "", "fullpath": "/images/nodes/vop/principled_shader_aniso.png"}], "extent": [1081, 1140]}, {"type": "para", "indent": 4, "text": ["The effect of this parameter increases with ", {"type": "ui", "text": ["Roughness"]}, ". It has no effect at all when ", {"type": "ui", "text": ["Roughness"]}, " is ", {"type": "code", "text": ["0.0"]}, "."], "extent": [1169, 1286]}], "container": true, "attrs": {"id": "aniso"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Anisotropy Direction"], "extent": [2144, 2166], "body": [{"type": "para", "indent": 4, "text": ["Controls the direction of ", {"type": "ui", "text": ["Anisotropy"]}, " relative to the UV coordinates of the surface. At ", {"type": "code", "text": ["0.0"]}, ", reflections are stretched in the ", {"type": "ui", "text": ["U"]}, " direction. At ", {"type": "code", "text": ["0.5"]}, ", the direction is rotated by ", {"type": "code", "text": ["90 degrees"]}, " to the ", {"type": "ui", "text": ["V"]}, " direction. ", {"type": "code", "text": ["1.0"]}, " equals ", {"type": "code", "text": ["180"]}, " degrees. Since the effect is symmetrical this produces the same result as ", {"type": "code", "text": ["0.0"]}, "."], "extent": [1312, 1640]}, {"type": "para", "indent": 4, "text": ["The direction of rotation also depends on the UV layout. When the UVs are layed out such that textures appear on the surface without mirroring, higher values rotate counter-clockwise."], "extent": [1640, 1829]}, {"type": "para", "indent": 4, "text": [{"scheme": "Image", "value": "/images/nodes/vop/principled_shader_anisodir.png", "type": "link", "text": "", "fullpath": "/images/nodes/vop/principled_shader_anisodir.png"}], "extent": [1829, 1891]}, {"type": "para", "indent": 4, "text": ["The effect of this parameter diminishes with decreasing ", {"type": "ui", "text": ["Roughness"]}, " and ", {"type": "ui", "text": ["Anisotropy"]}, "."], "extent": [1891, 1986]}], "container": true, "attrs": {"id": "anisodir"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Color"], "extent": [2242, 2249], "body": [{"type": "para", "indent": 4, "text": ["Tints both reflections and refractions."], "extent": [2265, 2310]}], "container": true, "attrs": {"id": "color"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Index of Refraction"], "extent": [2310, 2331], "body": [{"type": "para", "indent": 4, "text": ["Higher values reflect more light and bend refraction rays more."], "extent": [2344, 2413]}, {"type": "para", "indent": 4, "text": ["The impact on reflectivity is strongest on surfaces facing directly towards the viewer. Surfaces facing less directly towards the viewer generally reflect more light, regardless of this parameter\u2019s value."], "extent": [2413, 2623]}, {"type": "note_group", "body": [{"type": "note", "indent": 4, "role": "item", "extent": [2623, 2633], "body": [{"type": "para", "indent": 8, "text": ["The shininess of a surface also depends greatly on its ", {"type": "ui", "text": ["Roughness"]}, "."], "extent": [2633, 2712]}], "container": true}], "container": true, "role": "item_group"}, {"type": "para", "indent": 4, "text": [{"scheme": "Image", "value": "/images/nodes/vop/principled_shader_ior_opaque.png", "type": "link", "text": "", "fullpath": "/images/nodes/vop/principled_shader_ior_opaque.png"}], "extent": [2712, 2776]}, {"type": "para", "indent": 4, "text": [{"scheme": "Image", "value": "/images/nodes/vop/principled_shader_ior_transparent.png", "type": "link", "text": "", "fullpath": "/images/nodes/vop/principled_shader_ior_transparent.png"}], "extent": [2776, 2845]}, {"type": "para", "indent": 4, "text": ["The effect on a shiny black object in a white environment. Note how reflections at the edges are not affected, apart from the special value ", {"type": "code", "text": ["1.0"]}, ":"], "extent": [2845, 2997]}, {"type": "para", "indent": 4, "text": [{"scheme": "Image", "value": "/images/nodes/vop/principled_shader_ior_white.png", "type": "link", "text": "", "fullpath": "/images/nodes/vop/principled_shader_ior_white.png"}], "extent": [2997, 3060]}], "container": true, "attrs": {"id": "ior"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Surface Priority"], "extent": [3060, 3078], "body": [{"type": "para", "indent": 4, "text": ["The shaded surface\u2019s place in an order of precedence for overlapping transparent materials. A value of 0 means the surface priority should be ignored. Surfaces with lower numbers (higher priority) ", {"type": "q", "text": ["override"]}, " surfaces with higher numbers (lower priority). Mantra will only calculate the shaders for the highest priority object in a given area, creating the effect of higher priority objects overriding and removing lower priority objects in the same overlapping space."], "extent": [3696, 4173]}, {"type": "para", "indent": 4, "text": [{"scheme": "Image", "value": "/images/render/mug/nested_dielectrics/NestedOrderTest.jpg", "type": "link", "text": "", "fullpath": "/images/render/mug/nested_dielectrics/NestedOrderTest.jpg"}], "extent": [4173, 4244]}, {"type": "fig_group", "body": [{"ext": null, "type": "fig", "indent": 4, "text": [{"scheme": "Image", "value": "/images/render/mug/nested_dielectrics/NestedRenderAWithLabel.jpg", "type": "link", "text": "", "fullpath": "/images/render/mug/nested_dielectrics/NestedRenderAWithLabel.jpg"}], "role": "item", "extent": [4244, 4327], "body": [{"type": "para", "indent": 8, "text": ["In this render, the red sphere and the blue box have the same surface priority. This causes problems with refraction and absorption, because it\u2019s not clear to Mantra which surface is inside or outside."], "extent": [4327, 4538]}], "container": true}, {"ext": null, "type": "fig", "indent": 4, "text": [{"scheme": "Image", "value": "/images/render/mug/nested_dielectrics/NestedRenderBWithLabel.jpg", "type": "link", "text": "", "fullpath": "/images/render/mug/nested_dielectrics/NestedRenderBWithLabel.jpg"}], "role": "item", "extent": [4538, 4621], "body": [{"type": "para", "indent": 8, "text": ["In this example, the red sphere has a higher priority than the blue box (lower numbers mena higher priority) so it ", {"type": "q", "text": ["carves out"]}, " its volume from the box (Mantra simply ignores whichever parts of the box have overlapped the sphere). The absorption and refraction is now correct for the red sphere being embedded in the blue box. This setup would work well for something like ice cubes floating in water."], "extent": [4621, 5032]}], "container": true}, {"ext": null, "type": "fig", "indent": 4, "text": [{"scheme": "Image", "value": "/images/render/mug/nested_dielectrics/NestedRenderCWithLabel.jpg", "type": "link", "text": "", "fullpath": "/images/render/mug/nested_dielectrics/NestedRenderCWithLabel.jpg"}], "role": "item", "extent": [5032, 5115], "body": [{"type": "para", "indent": 8, "text": ["In this example, the surface priority values are switched so the blue box has higher priority. This has the effect of removing any parts of the red sphere which overlapped the blue box. This setup would work for something like water droplets resting on the surface of a glass."], "extent": [5115, 5401]}], "container": true}], "container": true, "role": "item_group"}, {"type": "para", "indent": 4, "text": ["This parameter only takes effect when ", {"type": "ui", "text": ["Enable Absorption and Nested Dielectrics"]}, " is turned on in the ", {"scheme": "Node", "value": "/nodes/out/ifd", "type": "link", "text": ["Mantra render node"], "fullpath": "/nodes/out/ifd"}, "."], "extent": [5401, 5543]}], "container": true, "attrs": {"id": "priority"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Dispersion"], "extent": [3154, 3166], "body": [{"type": "para", "indent": 4, "text": ["Spreads and colors refraction rays to simulate the effect of a spectrum of\n    wavelengths within the refracted light. The larger this value, the larger the spectral separation."], "extent": [3125, 3312]}, {"type": "para", "indent": 4, "text": ["When this parameter is set to a non-zero value, refracted rays are tagged with a single wavelength in the visible spectrum. Each of these wavelengths modify the underlying index of refraction (IOR) causing the rays to separate as they travel through the refractive material. "], "extent": [3312, 3597]}, {"type": "para", "indent": 4, "text": [{"scheme": "Image", "value": "/images/render/mug/nested_dielectrics/DispersionCompare.jpg", "type": "link", "text": "", "fullpath": "/images/render/mug/nested_dielectrics/DispersionCompare.jpg"}], "extent": [3597, 3670]}], "container": true, "attrs": {"id": "dispersion"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Transmittance Color"], "extent": [3246, 3267], "body": [{"type": "para", "indent": 4, "text": ["Tint rays with this color as they pass through an object. The amount\n    of tinting depends on the distance a light ray travels within the object. You can scale the tinting using ", {"type": "ui", "text": ["At distance"]}, "."], "extent": [2254, 2455]}], "container": true, "attrs": {"id": "transcolor"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["At Distance"], "extent": [3347, 3360], "body": [{"type": "para", "indent": 4, "text": ["A ray must travel this distance within the object before it is completely colored by the ", {"type": "ui", "text": ["Transmission color"]}, ". Shorter distances give less tinting, longer distances give a darker and more saturated version of the ", {"type": "ui", "text": ["Transmission Color"]}, "."], "extent": [2486, 2730]}, {"type": "para", "indent": 4, "text": [{"scheme": "Image", "value": "/images/render/mug/nested_dielectrics/AtDistanceExamples.jpg", "type": "link", "text": "", "fullpath": "/images/render/mug/nested_dielectrics/AtDistanceExamples.jpg"}], "extent": [2730, 2804]}, {"type": "tip_group", "body": [{"type": "tip", "indent": 4, "role": "item", "extent": [2804, 2813], "body": [{"type": "para", "indent": 8, "text": ["Colors that are not fully saturated work best with the ", {"type": "ui", "text": ["At Distance"]}, " parameter."], "extent": [2813, 2904]}, {"type": "para", "indent": 8, "text": ["Color components that are set to ", {"type": "code", "text": ["0.0"]}, " aren\u2019t absorbed at all, while components set to ", {"type": "code", "text": ["1.0"]}, " are fully absorbed. This means that ", {"type": "ui", "text": ["At Distance"]}, " has no effect on those components."], "extent": [2904, 3093]}], "container": true}], "container": true, "role": "item_group"}], "container": true, "attrs": {"id": "transdist"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Thin Film Refractions"], "extent": [3438, 3461], "body": [{"type": "para", "indent": 4, "text": ["Treat the shaded surface as an infinitely thin surface rather than a surface of a solid object."], "extent": [3479, 3580]}], "container": true, "attrs": {"id": "thinfilm"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Energy Conserving Fresnel Blend"], "extent": [3580, 3613], "body": [{"type": "para", "indent": 4, "text": ["Blend the reflection and refraction components in a physically correct manner. Conserve energy when layered on top of a base layer input."], "extent": [3632, 3775]}], "container": true, "attrs": {"id": "fresblend"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Shade Both Sides As Front"], "extent": [3775, 3802], "body": [{"type": "para", "indent": 4, "text": ["Shades both sides of the surface as if they were the front."], "extent": [3821, 3886]}, {"type": "note_group", "body": [{"type": "note", "indent": 4, "role": "item", "extent": [3886, 3896], "body": [{"type": "para", "indent": 8, "text": ["This produces incorrect results for transparent surfaces."], "extent": [3896, 3963]}], "container": true}], "container": true, "role": "item_group"}], "container": true, "attrs": {"id": "frontface"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Shade Back Side"], "extent": [3963, 3980], "body": [{"type": "para", "indent": 4, "text": ["When ", {"type": "ui", "text": ["Shade Both Sides As Front"]}, " is disabled, this controls whether the back side receives any shading at all. When disabled the backside renders black."], "extent": [4003, 4163]}], "container": true, "attrs": {"id": "shadebackface"}, "role": "item"}], "container": true, "role": "item_group"}], "text": "Parameters"}, {"level": 1, "id": "related", "container": true, "type": "related_section", "indent": 0, "role": "section", "extent": [4163, 4172], "body": [{"type": "bullet_group", "body": [{"blevel": 2, "type": "bullet", "indent": 0, "text": [{"scheme": "Node", "value": "/nodes/vop/pbrmetallic", "type": "link", "text": ["PBR Metallic"], "fullpath": "/nodes/vop/pbrmetallic"}], "extent": [4172, 4210]}, {"blevel": 2, "type": "bullet", "indent": 0, "text": [{"scheme": "Node", "value": "/nodes/vop/pbrdiffuse", "type": "link", "text": ["PBR Diffuse"], "fullpath": "/nodes/vop/pbrdiffuse"}], "extent": [4210, 4246]}, {"blevel": 2, "type": "bullet", "indent": 0, "text": [{"scheme": "Node", "value": "/nodes/vop/pbrsss", "type": "link", "text": ["PBR SSS"], "fullpath": "/nodes/vop/pbrsss"}], "extent": [4246, 4274]}, {"blevel": 2, "type": "bullet", "indent": 0, "text": [{"scheme": "Node", "value": "/nodes/vop/pbremission", "type": "link", "text": ["PBR Emission"], "fullpath": "/nodes/vop/pbremission"}], "extent": [4274, 4312]}], "container": true}], "text": "Related"}], "title": ["PBR Non-Metallic"], "summary": ["Computes reflections and refractions for dielectric (non-metallic) materials."], "included": ["/nodes/shop/standard_shading_parms", "/nodes/vop/computetan", "/nodes/vop/displace", "/nodes/vop/displacetexture", "/nodes/vop/pbrspecular", "/nodes/vop/physicalsss", "/nodes/vop/principledshader", "/nodes/vop/standard_shading_parms", "/nodes/vop/surfacemodel", "/nodes/vop/texture"]}