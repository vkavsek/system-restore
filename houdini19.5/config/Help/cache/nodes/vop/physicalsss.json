{"type": "root", "attrs": {"type": "node", "context": "vop", "internal": "physicalsss", "bestbet": "subsurface scatter scattering sss", "since": "11.0", "version": null, "namespace": null}, "body": [{"level": 0, "type": "title", "indent": 0, "text": ["Physical SSS"], "extent": [0, 17]}, {"type": "summary", "indent": 0, "text": ["Outputs surface color based on a physically-based subsurface\nscattering model. This node an do physically correct single scattering and/or multiple scattering."], "extent": [125, 292]}, {"type": "include_group", "body": [{"ext": "/news/11/new_feature", "type": "include", "indent": 0, "role": "item", "extent": [292, 324]}], "container": true, "role": "item_group"}, {"type": "tip_group", "body": [{"type": "tip", "indent": 0, "role": "item", "extent": [324, 329], "body": [{"type": "para", "indent": 4, "text": ["The functionality of this node is built into the\n    ", {"scheme": "Node", "value": "/nodes/vop/surfacemodel", "type": "link", "text": ["surface model VOP"], "fullpath": "/nodes/vop/surfacemodel"}, ", however you may want to use this node if you need finer control over the scattering."], "extent": [329, 515]}], "container": true}], "container": true, "role": "item_group"}, {"type": "para", "indent": 0, "text": ["Subsurface scattering simulates the look of materials such as skin, jade, fruit, marble, milk, and others, where light enters a semi-transparent skin, bounces around underneath and is either absorbed or exits at a different point on the surface. For more information, see ", {"scheme": "Wp", "value": "http://en.wikipedia.org/wiki/Subsurface_scattering", "type": "link", "text": ["the Wikipedia article"], "exists": true}, "."], "extent": [515, 838]}, {"type": "para", "indent": 0, "text": ["The Physical SSS node uses a physically correct lighting model, in contrast to nodes included in previous releases."], "extent": [838, 955]}, {"type": "para", "indent": 0, "text": ["This node can simulate single scattering, and/or multiple scattering using\neither ray tracing or a point cloud."], "extent": [955, 1068]}, {"level": 2, "id": null, "container": true, "type": "h", "indent": 0, "text": ["Workflow"], "extent": [1068, 1083], "body": [{"type": "bullet_group", "body": [{"blevel": 2, "type": "bullet", "indent": 0, "text": ["Certain looks are achievable with single scattering alone. Try working on the look with both single scattering and multiple scattering on, then turn off multiple scattering. If it doesn\u2019t affect the look, you can leave multiple scattering off."], "extent": [1083, 1331]}, {"blevel": 2, "type": "bullet", "indent": 0, "text": ["To increase quality, turn up the ", {"type": "ui", "text": ["Samples"]}, " parameter for single scattering, and/or the number of points in the point cloud (", {"type": "ui", "text": ["Auto Size Factor"]}, "/", {"type": "ui", "text": ["Auto Point Cloud Size"]}, ") for multiple scattering."], "extent": [1331, 1533]}], "container": true}]}, {"level": 2, "id": "clouds", "container": true, "type": "h", "indent": 0, "text": ["Managing point clouds"], "extent": [1533, 1570], "body": [{"type": "para", "indent": 0, "text": ["Use the ", {"type": "ui", "text": ["Point Cloud Mode"]}, " parameter to control reading and writing the point cloud file."], "extent": [1570, 1664]}, {"type": "para", "indent": 0, "text": ["By default, the node re-generates the point cloud every time you render.\nThis may be useful when you're experimenting with the scene, but once the geometry is stable you will want to cache the point cloud file for faster renders, especially when rendering animation."], "extent": [1664, 1932]}, {"type": "para", "indent": 0, "text": ["The point cloud file is based on surface ST coordinates, so it is not necessary to regenerate it for a deforming surface. However, you need to regenerate it if the topology of the shaded surface changes. Since the point cloud is based on mantra\u2019s inherent S and T coordinates, it is not necessary to assign UVs to polygons for the point cloud to work."], "extent": [1932, 2285]}, {"type": "task_group", "body": [{"ext": null, "type": "task", "indent": 0, "text": ["Cache the subsurface scattering point cloud file"], "role": "item", "extent": [2285, 2341], "body": [{"type": "ord_group", "body": [{"blevel": 6, "type": "ord", "indent": 4, "text": ["Set ", {"type": "ui", "text": ["Point Cloud Mode"]}, " to ", {"type": "ui", "text": ["Write To File"]}, "."], "extent": [2341, 2394]}, {"blevel": 6, "type": "ord", "indent": 4, "text": ["Enter the name of the point cloud file in the ", {"type": "ui", "text": ["Point Cloud"]}, "\n      parameter."], "extent": [2394, 2479]}, {"blevel": 6, "type": "ord", "indent": 4, "text": ["Render the scene. The node will generate the point cloud and\n      write it to the filename."], "extent": [2479, 2578]}, {"blevel": 6, "type": "ord", "indent": 4, "text": ["Change the ", {"type": "ui", "text": ["Point Cloud Mode"]}, " parameter to ", {"type": "ui", "text": ["Read From File"]}, "."], "extent": [2578, 2650]}], "container": true}], "container": true}], "container": true, "role": "item_group"}, {"type": "tip_group", "body": [{"type": "tip", "indent": 0, "role": "item", "extent": [2650, 2655], "body": [{"type": "para", "indent": 4, "text": ["Point clouds can be viewed using gplay or by loading the .pc file into houdini using a file SOP.  Viewing the point cloud in this way will automatically convert it to geometry.  The ", {"type": "code", "text": ["P"]}, " attribute stored on the points will be the position from the render that generated the point cloud - not necessarily the final position produced by the renderer."], "extent": [2655, 3008]}], "container": true}], "container": true, "role": "item_group"}]}, {"level": 1, "id": "parameters", "container": true, "type": "parameters_section", "indent": 0, "role": "section", "extent": [3008, 3020], "body": [{"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 0, "text": ["Parameter Mode"], "extent": [3020, 3037], "body": [{"type": "para", "indent": 4, "text": ["Switches the interface between artist-friendly controls\n    based on color, and physically-based measurements. The physical\n    mode can be useful if you have measured the scattering values for a particular material."], "extent": [3056, 3278]}, {"type": "dt_group", "body": [{"type": "dt", "indent": 4, "text": ["Artist"], "extent": [3278, 3290], "body": [{"type": "para", "indent": 8, "text": ["Enables the ", {"type": "ui", "text": ["Diffuse Color"]}, ", ", {"type": "ui", "text": ["Attenuation Density"]}, ", and\n        ", {"type": "ui", "text": ["Attenuation Color"]}, " parameters."], "extent": [3290, 3409]}], "container": true}, {"type": "dt", "indent": 4, "text": ["Physical"], "extent": [3409, 3423], "body": [{"type": "para", "indent": 8, "text": ["Enables the ", {"type": "ui", "text": ["Absorption Coefficient"]}, ", ", {"type": "ui", "text": ["Reduced Scattering\n        Coefficient"]}, ", and ", {"type": "ui", "text": ["Scattering Scale"]}, " parameters."], "extent": [3423, 3561]}], "container": true}], "container": true}, {"type": "para", "indent": 4, "text": ["When you change one set of controls, Houdini will map the values to the other set of controls automatically. However, some values may not translate perfectly."], "extent": [3561, 3725]}], "container": true, "attrs": {"id": "mode"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Diffuse Color"], "extent": [3725, 3740], "body": [{"type": "para", "indent": 4, "text": ["This is the dominant color that will appear in lit areas of the surface."], "extent": [3761, 3839]}], "container": true, "attrs": {"id": "diffuseclr"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Attenuation Density"], "extent": [3839, 3860], "body": [{"type": "para", "indent": 4, "text": ["How quickly the light intensity decreases as it scatters. Higher values make the lighting level decrease faster. Available when ", {"type": "ui", "text": ["Parameter mode"]}, " is ", {"type": "ui", "text": ["Artist"]}, "."], "extent": [3883, 4050]}, {"type": "para", "indent": 4, "text": [{"scheme": "Image", "value": "/images/nodes/shop/mantrasurface_sss_atten.png", "type": "link", "text": "", "fullpath": "/images/nodes/shop/mantrasurface_sss_atten.png"}], "extent": [4050, 4110]}], "container": true, "attrs": {"id": "attendensity"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Attenuation Color"], "extent": [4110, 4129], "body": [{"type": "para", "indent": 4, "text": ["The color the surface will tend toward in unlit areas. This value adjusts the density so that the color components with higher attenuation color values will scatter light at longer distances, while color components with a low attenuation color will scatter at shorter distances. Available when ", {"type": "ui", "text": ["Parameter mode"]}, " is ", {"type": "ui", "text": ["Artist"]}, "."], "extent": [4148, 4481]}], "container": true, "attrs": {"id": "attenclr"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Absorption Coefficient"], "extent": [4481, 4505], "body": [{"type": "para", "indent": 4, "text": ["Probability (per distance unit) that light will be absorbed, per color channel (red, green, blue). This parameter is useful when you have physically measured values for a certain material. Available when ", {"type": "ui", "text": ["Parameter mode"]}, " is ", {"type": "ui", "text": ["Physical"]}, "."], "extent": [4521, 4770]}, {"type": "para", "indent": 4, "text": ["Since the probability is per distance unit, it may range from ", {"type": "code", "text": ["0"]}, " to infinity."], "extent": [4770, 4854]}], "container": true, "attrs": {"id": "absrp"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Reduced Scattering Coefficient"], "extent": [4854, 4886], "body": [{"type": "para", "indent": 4, "text": ["Probability (per distance unit) that light will scatter (assuming isotropic scattering), per color channel (red, green, blue). This parameter is useful when you have physically measured values for a certain material. Available when ", {"type": "ui", "text": ["Parameter Mode"]}, " is ", {"type": "ui", "text": ["Physical"]}, "."], "extent": [4905, 5182]}, {"type": "para", "indent": 4, "text": ["Since the probability is per distance unit, it may range from ", {"type": "code", "text": ["0"]}, " to infinity."], "extent": [5182, 5266]}], "container": true, "attrs": {"id": "redscatr"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Scattering Scale"], "extent": [5266, 5284], "body": [{"type": "para", "indent": 4, "text": ["This parameter adjusts the scale of the scattering/absorption events.  Values less than 1 will cause the scattering to become more localized and the surface to look more opaque, while values greater than 1 will cause the scattering to become less localized and the surface to look more transparent.  Available when ", {"type": "ui", "text": ["Parameter Mode"]}, " is ", {"type": "ui", "text": ["Physical"]}, "."], "extent": [5305, 5661]}], "container": true, "attrs": {"id": "scatrscale"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Scattering Phase"], "extent": [5661, 5679], "body": [{"type": "para", "indent": 4, "text": ["Controls the nature of the scattering. Positive values give forward scattering, ", {"type": "code", "text": ["0"]}, " gives isotropic scattering, and negative values give backscattering. Range is ", {"type": "code", "text": ["-1"]}, " (full backscattering) to ", {"type": "code", "text": ["1"]}, " (full forward scattering)."], "extent": [5691, 5923]}, {"type": "para", "indent": 4, "text": ["The value depends on the type of material you are trying to model. For example, skin is highly forward scattering, while marble is backscattering."], "extent": [5923, 6075]}, {"type": "para", "indent": 4, "text": [{"scheme": "Image", "value": "/images/nodes/shop/mantrasurface_sss_phase.png", "type": "link", "text": "", "fullpath": "/images/nodes/shop/mantrasurface_sss_phase.png"}], "extent": [6075, 6135]}], "container": true, "attrs": {"id": "g"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Inside IOR"], "extent": [6135, 6147], "body": [{"type": "para", "indent": 4, "text": ["Absolute index of refraction of the surface medium (the physical material the shader is simulating the look of)."], "extent": [6162, 6280]}], "container": true, "attrs": {"id": "iior"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Outside IOR"], "extent": [6280, 6293], "body": [{"type": "para", "indent": 4, "text": ["Absolute index of refraction of the surrounding medium (for\n    example, air)."], "extent": [6308, 6392]}, {"type": "para", "indent": 4, "text": ["See the ", {"scheme": "Wp", "value": "http://en.wikipedia.org/wiki/List_of_refractive_indices", "type": "link", "text": ["list of indices for various materials"], "exists": true}, "."], "extent": [6392, 6476]}], "container": true, "attrs": {"id": "oior"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Enable RGB Spectral Scattering"], "extent": [6476, 6508], "body": [{"type": "para", "indent": 4, "text": ["Enables independent scattering of the red, green, and blue color\n    components.  When enabled, an independent scattering and absorption\n    coefficient will be used for each color component, leading to more\n    accurate renders - though the results can sometimes show colors that\n    are complementary to the attenuation color. For example, with a blue\n    attenuation color, shorter scattering distances will render with a\n    yellow tint. To partially eliminate this unpredictable effect, disable\n    this toggle."], "extent": [6526, 7048]}], "container": true, "attrs": {"id": "spectral"}, "role": "item"}], "container": true, "role": "item_group"}, {"level": 2, "id": null, "container": true, "type": "h", "indent": 0, "text": ["Single Scattering"], "extent": [7048, 7072], "body": [{"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 0, "text": ["Enable Single Scattering"], "extent": [7072, 7099], "body": [{"type": "para", "indent": 4, "text": ["Enable/disable contribution from light that scatters exactly once in the surface.  Certain types of surfaces (such as skin) gain little contribution from single scattering and so disabling this option will reduce computation time with little impact on accuracy."], "extent": [7119, 7386]}], "container": true, "attrs": {"id": "singlesss"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Optimize Secondary Rays"], "extent": [7386, 7411], "body": [{"type": "para", "indent": 4, "text": ["When this option is on, the node uses a BRDF to approximate the scattered rays. This option is faster but less accurate."], "extent": [7431, 7557]}], "container": true, "attrs": {"id": "optsingle"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Samples"], "extent": [7557, 7566], "body": [{"type": "para", "indent": 4, "text": ["The number of samples for single scattering. Increase this option to decrease noise at the expense of slower shading."], "extent": [7584, 7707]}], "container": true, "attrs": {"id": "nsingle"}, "role": "item"}], "container": true, "role": "item_group"}]}, {"level": 2, "id": null, "container": true, "type": "h", "indent": 0, "text": ["Multiple scattering"], "extent": [7707, 7733], "body": [{"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 0, "text": ["Enable Multiple Scattering"], "extent": [7733, 7762], "body": [{"type": "para", "indent": 4, "text": ["Enable contribution from light that scatters more than once in the surface.  For low albedo materials (low ", {"type": "ui", "text": ["Diffuse Color"]}, "), multiple scattering contributes little to the image and can be disabled to reduce computation time."], "extent": [7784, 8016]}], "container": true, "attrs": {"id": "multienable"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Model"], "extent": [8016, 8023], "body": [{"type": "para", "indent": 4, "text": ["Controls the way in which multiple scattering is computed.  Normally\n    you should use the ", {"type": "ui", "text": ["Local And Global"]}, " mode if you are planning to use\n    a point cloud, and ", {"type": "ui", "text": ["Ray Tracing"]}, " to compute multiple scattering\n    without a point cloud.  Using a point cloud can produce smoother and\n    faster results, but it requires precomputation of a point cloud and\n    computation of irradiance for each point in the cloud (once per\n    render)."], "extent": [8048, 8494]}, {"type": "dt_group", "body": [{"type": "dt", "indent": 4, "text": ["Ray Tracing"], "extent": [8494, 8511], "body": [{"type": "para", "indent": 8, "text": ["Use ray tracing rather than a point cloud to approximate multiple\n        scattering.  This option avoids point cloud calculations but may\n        require more sampling to eliminate noise."], "extent": [8511, 8709]}], "container": true}, {"type": "dt", "indent": 4, "text": ["Full Ray Tracing"], "extent": [8709, 8731], "body": [{"type": "para", "indent": 8, "text": ["When an single object is made of multiple packed primitives (i.e.\n        multiple Alembic shape nodes), each shape will have local multiple\n        scattering.  With Full Ray Traced, all individual packed primitives\n        will be considered when computing multiple scattering."], "extent": [8731, 9020]}], "container": true}, {"type": "dt", "indent": 4, "text": ["Local BRDF"], "extent": [9020, 9036], "body": [{"type": "para", "indent": 8, "text": ["Only use a BRDF function to compute the multiple scattering\n        contribution.  This is the fastest option, though no subsurface\n        diffusion will be produced."], "extent": [9036, 9221]}], "container": true}, {"type": "dt", "indent": 4, "text": ["Global Point Cloud"], "extent": [9221, 9245], "body": [{"type": "para", "indent": 8, "text": ["Use a point cloud to compute the multiple scattering contribution.\n        This option requires a precomputation stage to generate the point\n        cloud and to calculate and cache the surface irradiance values in\n        the point cloud."], "extent": [9245, 9502]}], "container": true}, {"type": "dt", "indent": 4, "text": ["Local And Global"], "extent": [9502, 9524], "body": [{"type": "para", "indent": 8, "text": ["Use the BRDF function to compute the local contribution and the\n        point cloud to compute the global contribution, with the ", {"type": "ui", "text": ["Local\n        Radius Scale"]}, " parameter controlling the local radius.  This option\n        will usually produce more accurate results than using a point cloud\n        alone, especially for short scattering distances."], "extent": [9524, 9884]}], "container": true}, {"type": "dt", "indent": 4, "text": ["Path Tracing"], "extent": [9884, 9902], "body": [{"type": "para", "indent": 8, "text": ["Simulate subsurface scattering by path tracing through it as a\n        volume.  This options is slow and noisy but will produce the most\n        accurate results - so it may be used to produce ground truth images\n        for comparison with the other techniques."], "extent": [9902, 10174]}], "container": true}], "container": true}], "container": true, "attrs": {"id": "multimodel"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Global Light Quality"], "extent": [10174, 10196], "body": [{"type": "para", "indent": 4, "text": ["The quality of the light sampling used for the point cloud contribution when ", {"type": "ui", "text": ["Model"]}, " is ", {"type": "ui", "text": ["Global Point Cloud"]}, " or ", {"type": "ui", "text": ["Local And Global"]}, ".  This value is also used to control the number of ray samples when the ", {"type": "ui", "text": ["Model"]}, " is ", {"type": "ui", "text": ["Ray Tracing"]}, "."], "extent": [10218, 10462]}], "container": true, "attrs": {"id": "globquality"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Local Light Quality"], "extent": [10462, 10483], "body": [{"type": "para", "indent": 4, "text": ["The quality of the light sampling used for the BRDF contribution when ", {"type": "ui", "text": ["Model"]}, " is ", {"type": "ui", "text": ["Local BRDF"]}, " or ", {"type": "ui", "text": ["Local And Global"]}, ". The local quality can be an order of magnitude lower than the global quality without adversely affecting the outcome, allowing faster evaluation."], "extent": [10505, 10779]}], "container": true, "attrs": {"id": "loclquality"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Optimize Secondary Rays"], "extent": [10779, 10804], "body": [{"type": "para", "indent": 4, "text": ["Use a BRDF approximation to compute multiple scattering for secondary rays. Turn this option on for faster but less accurate results. "], "extent": [10823, 10963]}], "container": true, "attrs": {"id": "optmulti"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Local Radius Scale"], "extent": [10963, 10983], "body": [{"type": "para", "indent": 4, "text": ["Controls the contribution from the local BRDF in the ", {"type": "ui", "text": ["Local And Global"]}, " model.  Smaller values will reduce the area of local integration, which will reduce sharpness and possibly introduce low frequency noise.  Higher values will increase sharpness and reduce low frequency noise."], "extent": [11006, 11294]}], "container": true, "attrs": {"id": "loclradscale"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Point Cloud Mode"], "extent": [11294, 11312], "body": [{"type": "para", "indent": 4, "text": ["Controls how the shader generates a point cloud.  The simplest option is to select ", {"type": "ui", "text": ["Generate At Render Time"]}, ".  This will create a new point cloud for every render.  To reduce computation time, you can first use ", {"type": "ui", "text": ["Write To File"]}, " mode and then re-use the point cloud using ", {"type": "ui", "text": ["Read From File"]}, " mode on subsequent renders.  This is also the recommended approach when rendering animations because the shader will smoothly interpolate the point cloud across frames.  The exception to this is when the model\u2019s topology changes (two joined polygons are separated, for example).  In this case, a new point cloud must be generated.  Note that in ", {"type": "ui", "text": ["Write To File"]}, " mode, the file will be overwritten if it already exists.  Cancelling a render before it completes in ", {"type": "ui", "text": ["Write To File"]}, " mode may result in an unusable point cloud file."], "extent": [11329, 12158]}, {"type": "para", "indent": 4, "text": ["See ", {"scheme": null, "value": "/nodes/vop/physicalsss#clouds", "type": "link", "text": ["managing point clouds"], "fullpath": "/nodes/vop/physicalsss#clouds", "fragment": "#clouds"}, " for more information."], "extent": [12158, 12243]}, {"type": "dt_group", "body": [{"type": "dt", "indent": 4, "text": ["Generate At Render Time"], "extent": [12243, 12272], "body": [{"type": "para", "indent": 8, "text": ["Always regenerate the point cloud whenever the node renders. This is convenient since you don\u2019t have to worry about file management, and can be useful when you are modifying the shader and model at the same time. However, for efficiency you should cache the point cloud, especially when rendering animation."], "extent": [12272, 12597]}], "container": true}, {"type": "dt", "indent": 4, "text": ["Read From File"], "extent": [12597, 12617], "body": [{"type": "para", "indent": 8, "text": ["Read the point cloud from a file (specified in the ", {"type": "ui", "text": ["Point Cloud"]}, " parameter below), generated using the ", {"type": "ui", "text": ["Write To File"]}, " mode."], "extent": [12617, 12763]}], "container": true}, {"type": "dt", "indent": 4, "text": ["Write To File"], "extent": [12763, 12782], "body": [{"type": "para", "indent": 8, "text": ["Write the point cloud to the file specified in the ", {"type": "ui", "text": ["Point Cloud"]}, " parameter below."], "extent": [12782, 12875]}], "container": true}], "container": true}], "container": true, "attrs": {"id": "pcmode"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Point Cloud"], "extent": [12875, 12888], "body": [{"type": "para", "indent": 4, "text": ["Controls the file the point cloud is written to/read from when ", {"type": "ui", "text": ["Point Cloud Mode"]}, " is ", {"type": "ui", "text": ["Write To File"]}, " or ", {"type": "ui", "text": ["Read From File"]}, ". The point cloud is based on surface UVs, so it is not necessary to write a new point cloud file for each frame unless the topology of the model is changes."], "extent": [12905, 13194]}], "container": true, "attrs": {"id": "pcname"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Cache Positions/Normals/Areas"], "extent": [13194, 13225], "body": [{"type": "para", "indent": 4, "text": ["Writes point positions, normals, and areas to the point cloud. This may speed up shading, but only for static geometry and a static camera. If the geometry or camera moves (transforms), you should either turn this option off or regenerate the point cloud."], "extent": [13245, 13506]}], "container": true, "attrs": {"id": "pcsavepos"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Cache Irradiance"], "extent": [13506, 13524], "body": [{"type": "para", "indent": 4, "text": ["Writes light information to the point cloud. This can speed up shading for point clouds with many points, but only for static geometry and a static camera. If the geometry or camera moves (transforms), you should either turn this option off or regenerate the point cloud."], "extent": [13546, 13827]}], "container": true, "attrs": {"id": "pcsaveirrad"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Auto Point Cloud Size"], "extent": [13827, 13850], "body": [{"type": "para", "indent": 4, "text": ["Turn this option on to have the node automatically decide how many points to use in the point cloud based on the scattering properties of the surface. You can then use the ", {"type": "ui", "text": ["Auto Size Factor"]}, " parameter to scale that number. Turn this option off to set the number of points in the cloud manually.  Smaller point clouds are faster to generate and render, so reducing the size can speed up the render."], "extent": [13871, 14276]}], "container": true, "attrs": {"id": "pcautosize"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Auto Size Factor"], "extent": [14276, 14294], "body": [{"type": "para", "indent": 4, "text": ["Lets you scale the number of points the node chooses for the point cloud when ", {"type": "ui", "text": ["Auto Point Cloud Size"]}, " is on."], "extent": [14317, 14433]}], "container": true, "attrs": {"id": "pcautofactor"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Point Cloud Size"], "extent": [14433, 14451], "body": [{"type": "para", "indent": 4, "text": ["Number of points to generate in the point cloud when ", {"type": "ui", "text": ["Auto Point Cloud Size"]}, " is off.  Higher point counts will increase quality at the expense of computation time."], "extent": [14468, 14639]}], "container": true, "attrs": {"id": "pcsize"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Filter Multiple Scattering"], "extent": [14639, 14667], "body": [{"type": "para", "indent": 4, "text": ["Caches results of multiple scattering calculation on the point cloud\u2019s points, and then interpolates between those cached values to compute the value at a sampled point. This is much more efficient, but less accurate, than recomputing scattering for each sampled point on the surface."], "extent": [14686, 14980]}, {"type": "para", "indent": 4, "text": ["When this option is enabled, the ", {"type": "ui", "text": ["Multiple Scattering Color (Global)"]}, " output of this VOP must be exported via a ", {"scheme": "Node", "value": "/nodes/vop/parameter", "type": "link", "text": ["Parameter VOP"], "fullpath": "/nodes/vop/parameter"}, ".  To do this, create a ", {"scheme": "Node", "value": "/nodes/vop/parameter", "type": "link", "text": ["Parameter VOP"], "fullpath": "/nodes/vop/parameter"}, ", set its ", {"type": "ui", "text": ["Parameter Type"]}, " to ", {"type": "ui", "text": ["Color"]}, ", set its ", {"type": "ui", "text": ["Parameter Name"]}, " to ", {"type": "code", "text": ["multiglobclr"]}, ", set ", {"type": "ui", "text": ["Export"]}, " to ", {"type": "ui", "text": ["Always"]}, ", and connect its input to this VOPs ", {"type": "ui", "text": ["Multiple Scattering Color (Global)"]}, " output.  Alternatively, use the right click ", {"type": "ui", "text": ["Create Export Bindings"]}, " menu item on the physicalsss node to create exports for each output."], "extent": [14980, 15524]}], "container": true, "attrs": {"id": "pcfilter"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Filter Samples"], "extent": [15524, 15540], "body": [{"type": "para", "indent": 4, "text": ["Number of point cloud points to filter (see ", {"type": "ui", "text": ["Filter Multiple Scattering"]}, ").  Increasing the point count will produce a more blurry result, while decreasing the point count will produce a more blotchy result."], "extent": [15563, 15777]}], "container": true, "attrs": {"id": "pcfiltersize"}, "role": "item"}], "container": true, "role": "item_group"}]}, {"level": 2, "id": null, "container": true, "type": "h", "indent": 0, "text": ["Performance Tips"], "extent": [15777, 15800], "body": [{"type": "bullet_group", "body": [{"blevel": 2, "type": "bullet", "indent": 0, "text": ["Limit the number of points in your point cloud by reducing ", {"type": "ui", "text": ["Auto Size Factor"]}, " or ", {"type": "ui", "text": ["Point Cloud Size"]}, ". Focus on getting your point count as low as possible."], "extent": [15800, 15963]}, {"blevel": 2, "type": "bullet", "indent": 0, "text": ["Enable ", {"type": "ui", "text": ["Filter Multiple Scattering"]}, "."], "extent": [15963, 16005]}, {"blevel": 2, "type": "bullet", "indent": 0, "text": ["Enable ", {"type": "ui", "text": ["Optimize Secondary Rays"]}, " for both single and multiple scattering."], "extent": [16005, 16084]}, {"blevel": 2, "type": "bullet", "indent": 0, "text": ["Set the multiple scattering model to ", {"type": "ui", "text": ["Local and Global"]}, "."], "extent": [16084, 16146]}, {"blevel": 2, "type": "bullet", "indent": 0, "text": ["Reduce the ", {"type": "ui", "text": ["Light Quality"]}, " parameters. "], "extent": [16146, 16191]}], "container": true}]}], "text": "Parameters"}, {"level": 1, "id": "inputs", "container": true, "type": "inputs_section", "indent": 0, "role": "section", "extent": [16191, 16199], "body": [{"type": "dt_group", "body": [{"type": "dt", "indent": 0, "text": ["Position"], "extent": [16199, 16210], "body": [{"type": "para", "indent": 4, "text": ["Allows you to override the surface position to compute the color for."], "extent": [16226, 16301]}], "container": true, "attrs": {"id": "p"}}, {"type": "dt", "indent": 0, "text": ["Blur position"], "extent": [16301, 16316], "body": [{"type": "para", "indent": 4, "text": ["If you override the position, you need to override the blur position (the position at the start of the frame)."], "extent": [16336, 16452]}], "container": true, "attrs": {"id": "blurp"}}, {"type": "dt", "indent": 0, "text": ["Normal"], "extent": [16452, 16460], "body": [{"type": "para", "indent": 4, "text": ["If you override the position, you need to override the normal."], "extent": [16476, 16544]}], "container": true, "attrs": {"id": "n"}}, {"type": "dt", "indent": 0, "text": ["Transmitted"], "extent": [16544, 16557], "body": [{"type": "para", "indent": 4, "text": ["If you are simulating fresnel (refracted) outside this node, you can override the fresnel transmission vector. Normally the node computes the refraction angle itself using the fresnel function."], "extent": [16573, 16772]}], "container": true, "attrs": {"id": "t"}}, {"type": "dt", "indent": 0, "text": ["Fresnel transmission"], "extent": [16772, 16794], "body": [{"type": "para", "indent": 4, "text": ["If you override the transmission vector, this input allows you to override the amount of transmitted light."], "extent": [16811, 16924]}], "container": true, "attrs": {"id": "kt"}}], "container": true}], "text": "Inputs"}, {"level": 1, "id": "outputs", "container": true, "type": "outputs_section", "indent": 0, "role": "section", "extent": [16924, 16933], "body": [{"type": "dt_group", "body": [{"type": "dt", "indent": 0, "text": ["Color"], "extent": [16933, 16941], "body": [{"type": "para", "indent": 4, "text": ["The result of the subsurface scattering."], "extent": [16959, 17005]}], "container": true, "attrs": {"id": "clr"}}, {"type": "dt", "indent": 0, "text": ["No scattering color"], "extent": [17005, 17026], "body": [{"type": "para", "indent": 4, "text": ["Light that is attenuated as it passes through the surface but not scattered."], "extent": [17051, 17133]}], "container": true, "attrs": {"id": "noscatrclr"}}, {"type": "dt", "indent": 0, "text": ["Single scattering color"], "extent": [17133, 17158], "body": [{"type": "para", "indent": 4, "text": ["Light that is scattered once as it passes through the surface."], "extent": [17182, 17250]}], "container": true, "attrs": {"id": "singleclr"}}, {"type": "dt", "indent": 0, "text": ["Multiple scattering color"], "extent": [17250, 17277], "body": [{"type": "para", "indent": 4, "text": ["Light that is scattered more than once as it passes through the surface."], "extent": [17300, 17378]}], "container": true, "attrs": {"id": "multiclr"}}, {"type": "dt", "indent": 0, "text": ["Multiple scattering color (Local)"], "extent": [17378, 17413], "body": [{"type": "para", "indent": 4, "text": ["Light that is scattered more than once and is computed using the BRDF."], "extent": [17413, 17489]}], "container": true}, {"type": "dt", "indent": 0, "text": ["Multiple scattering color (Global)"], "extent": [17489, 17525], "body": [{"type": "para", "indent": 4, "text": ["Light that is scattered more than once and is computed using the point cloud."], "extent": [17525, 17608]}], "container": true}, {"type": "dt", "indent": 0, "text": ["Fresnel reflectance"], "extent": [17608, 17629], "body": [{"type": "para", "indent": 4, "text": ["Amount of light reflected at the surface point."], "extent": [17646, 17699]}], "container": true, "attrs": {"id": "kr"}}], "container": true}], "text": "Outputs"}, {"level": 1, "id": "related", "container": true, "type": "related_section", "indent": 0, "role": "section", "extent": [17699, 17708], "body": [{"type": "bullet_group", "body": [{"blevel": 2, "type": "bullet", "indent": 0, "text": [{"scheme": "Node", "value": "/nodes/vop/surfacemodel", "type": "link", "text": "", "fullpath": "/nodes/vop/surfacemodel"}], "extent": [17708, 17735]}, {"blevel": 2, "type": "bullet", "indent": 0, "text": [{"scheme": "Node", "value": "/nodes/vop/singleSSS", "type": "link", "text": "", "fullpath": "/nodes/vop/singleSSS"}], "extent": [17735, 17761]}], "container": true}], "text": "Related"}], "title": ["Physical SSS"], "summary": ["Outputs surface color based on a physically-based subsurface\nscattering model. This node an do physically correct single scattering and/or multiple scattering."]}