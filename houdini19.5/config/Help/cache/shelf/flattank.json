{"type": "root", "attrs": {"icon": "SHELF/flat_tank", "tags": "oceans"}, "body": [{"level": 0, "type": "title", "indent": 0, "text": ["Flat Tank"], "extent": [38, 52]}, {"type": "summary", "indent": 0, "text": ["Creates a FLIP fluid simulation of a flat tank with a boundary layer."], "extent": [52, 130]}, {"level": 2, "id": null, "container": true, "type": "h", "indent": 0, "text": ["Overview"], "extent": [130, 145], "body": [{"type": "para", "indent": 0, "text": ["This tool creates a FLIP tank simulation of a flat tank of particles similar to the ", {"scheme": null, "value": "/shelf/fliptank", "type": "link", "text": ["FLIP Tank"], "fullpath": "/shelf/fliptank"}, " tool, but with the addition of a ", {"type": "em", "text": ["boundary layer"]}, " of particles that helps suppress reflections at the edge of the tank and maintain the water level over time.  The boundary layer also allows the tank to track a moving object, simulating only the area around the object. "], "extent": [145, 530]}, {"type": "tip_group", "body": [{"type": "tip", "indent": 0, "role": "item", "extent": [530, 535], "body": [{"type": "para", "indent": 4, "text": ["For more information, see the ", {"scheme": null, "value": "/shelf/ocean_differences", "type": "link", "text": ["differences between ocean tank types"], "fullpath": "/shelf/ocean_differences"}, " help page."], "extent": [535, 645]}], "container": true}], "container": true, "role": "item_group"}, {"type": "note_group", "body": [{"type": "note", "indent": 0, "role": "item", "extent": [645, 651], "body": [{"type": "para", "indent": 4, "text": ["Several of the ocean tanks use the ", {"type": "ui", "text": ["Narrow Band"]}, " feature in the ", {"scheme": "Node", "value": "/nodes/dop/flipsolver", "type": "link", "text": ["FLIP Solver"], "fullpath": "/nodes/dop/flipsolver"}, " by default. If the traditional full tank is desired, it can be changed back by selecting ", {"type": "ui", "text": ["Particle Field"]}, " in the ", {"scheme": "Node", "value": "/nodes/dop/flipobject", "type": "link", "text": ["FLIP Object"], "fullpath": "/nodes/dop/flipobject"}, "."], "extent": [8557, 8817]}, {"type": "para", "indent": 4, "text": [{"scheme": "Image", "value": "/news/16_5/images/narrow_band_flip.jpg", "type": "img", "text": ""}], "extent": [8817, 8868]}], "container": true}], "container": true, "role": "item_group"}]}, {"level": 2, "id": null, "container": true, "type": "h", "indent": 0, "text": ["Using Flat Tank"], "extent": [691, 713], "body": [{"type": "ord_group", "body": [{"blevel": 2, "type": "ord", "indent": 0, "text": ["Click the ", {"scheme": "Icon", "value": "SHELF/flat_tank", "type": "link", "text": "", "fullpath": "/shelf/SHELF/flat_tank"}, " ", {"type": "ui", "text": ["Flat Tank"]}, " tool on the ", {"type": "ui", "text": ["Oceans"]}, " tab to create a tank."], "extent": [713, 813]}, {"blevel": 2, "type": "ord", "indent": 0, "text": ["Select an animated object to follow and press ", {"keys": ["Enter"], "type": "keys", "text": null}, " to confirm your selection. If no object is selected, you will be prompted to place a static tank."], "extent": [813, 970]}], "container": true}, {"type": "para", "indent": 0, "text": ["For specific parameter information, see the ", {"scheme": "Node", "value": "/nodes/sop/oceansource", "type": "link", "text": ["Ocean Source"], "fullpath": "/nodes/sop/oceansource"}, " help page."], "extent": [970, 1075]}, {"level": 3, "id": "understand", "container": true, "type": "h", "indent": 0, "text": ["Understanding the network of nodes"], "extent": [2635, 2689], "body": [{"type": "para", "indent": 8, "text": ["There are three important layers to focus on when creating your ocean. First create the ocean, next add whitewater, and finally add specularity for the whitewater. "], "extent": [2689, 2872]}, {"type": "tip_group", "body": [{"type": "tip", "indent": 8, "role": "item", "extent": [2872, 2885], "body": [{"type": "para", "indent": 16, "text": ["Disable all whitewater nodes at the OBJ level while you work on your ocean, then disable the ocean nodes while you work on your whitewater."], "extent": [2885, 3050]}], "container": true}], "container": true, "role": "item_group"}, {"type": "para", "indent": 8, "text": ["The first set of nodes control the ocean itself."], "extent": [3050, 3116]}, {"type": "para", "indent": 8, "text": [{"scheme": "Image", "value": "/images/shelf/wavetank_nodes_ocean.jpg", "type": "img", "text": ""}], "extent": [3116, 3180]}, {"type": "ord_group", "body": [{"blevel": 10, "type": "ord", "indent": 8, "text": [{"type": "code", "text": ["fluidtank_initial"]}, " controls the first frame of your simulation. This is where you can shape the initial frame of your tank with ", {"scheme": "Node", "value": "/nodes/sop/oceanspectrum", "type": "link", "text": ["Ocean Spectrum"], "fullpath": "/nodes/sop/oceanspectrum"}, " and control the outputs with ", {"scheme": "Node", "value": "/nodes/sop/oceansource", "type": "link", "text": ["Ocean Source"], "fullpath": "/nodes/sop/oceansource"}, ". This includes the size of your tank, the depth of the water etc."], "extent": [3180, 3499]}, {"blevel": 10, "type": "ord", "indent": 8, "text": [{"type": "code", "text": ["AutoDopNetwork"]}, " controls the simulation of your tank. This is where you will find the ", {"scheme": "Node", "value": "/nodes/dop/flipobject", "type": "link", "text": ["FLIP Object"], "fullpath": "/nodes/dop/flipobject"}, " and ", {"scheme": "Node", "value": "/nodes/dop/flipsolver", "type": "link", "text": ["FLIP Solver"], "fullpath": "/nodes/dop/flipsolver"}, ".  The FLIP simulation will contain ", {"scheme": "Node", "value": "/nodes/dop/volumesource", "type": "link", "text": ["Volume Source"], "fullpath": "/nodes/dop/volumesource"}, " DOPs to sink and source the boundary layer particles, and a ", {"scheme": "Node", "value": "/nodes/dop/popadvectbyvolumes", "type": "link", "text": ["POP Advect By Volumes"], "fullpath": "/nodes/dop/popadvectbyvolumes"}, " POP to add ocean velocities to the simulation."], "extent": [3499, 3909]}, {"blevel": 10, "type": "ord", "indent": 8, "text": [{"type": "code", "text": ["fluidtank_fluid"]}, " is the result of #1 and #2 combined, and is where the results are rendered. After the simulation is done, this node collects the fluid particles, sets up a material, creates some nodes for surfacing to finish the effect."], "extent": [3909, 4167]}, {"blevel": 10, "type": "ord", "indent": 8, "text": [{"type": "code", "text": ["fluidtank_interior"]}, " is also used for rendering, and for creating the volumetric effect that one of the shaders applies to the interior of the fluid. It controls the volume beneath the surface, such as how cloudy or murky the water will appear."], "extent": [4167, 4431]}], "container": true}, {"type": "para", "indent": 8, "text": ["The next set of nodes are to control the whitewater. "], "extent": [4431, 4502]}, {"type": "note_group", "body": [{"type": "note", "indent": 8, "role": "item", "extent": [4502, 4516], "body": [{"type": "para", "indent": 12, "text": ["To add whitewater to your simulation, use the ", {"scheme": "Icon", "value": "SHELF/whitewater", "type": "link", "text": "", "fullpath": "/shelf/SHELF/whitewater"}, {"scheme": "Tool", "value": "whitewater", "type": "link", "text": ["Whitewater"], "fullpath": "/shelf/whitewater"}, " tool on the ", {"type": "ui", "text": ["Oceans"]}, " shelf."], "extent": [4516, 4665]}], "container": true}], "container": true, "role": "item_group"}, {"type": "para", "indent": 8, "text": [{"scheme": "Image", "value": "/images/shelf/wavetank_nodes_whitewater.jpg", "type": "img", "text": ""}], "extent": [4665, 4734]}, {"type": "ord_group", "body": [{"blevel": 10, "type": "ord", "indent": 8, "text": [{"type": "code", "text": ["whitewater_source"]}, " is where the spray and foam is coming from."], "extent": [4734, 4817]}, {"blevel": 10, "type": "ord", "indent": 8, "text": [{"type": "code", "text": ["whitewater_sim"]}, " is where the whitewater simulated. This is where you can modify the animation."], "extent": [4817, 4932]}, {"blevel": 10, "type": "ord", "indent": 8, "text": [{"type": "code", "text": ["import_whitewater"]}, " is the result of #1 and #2 combined."], "extent": [4932, 5008]}], "container": true}, {"type": "note_group", "body": [{"type": "note", "indent": 8, "role": "item", "extent": [5008, 5022], "body": [{"type": "para", "indent": 16, "text": ["Do not try to set up a whitewater simulation from scratch. Always use the tools. For more information about using whitewater, see the ", {"scheme": "Icon", "value": "SHELF/whitewater", "type": "link", "text": "", "fullpath": "/shelf/SHELF/whitewater"}, {"scheme": null, "value": "/shelf/whitewater", "type": "link", "text": ["Whitewater"], "fullpath": "/shelf/whitewater"}, " help."], "extent": [5022, 5241]}], "container": true}], "container": true, "role": "item_group"}, {"type": "para", "indent": 8, "text": ["For more information see ", {"scheme": null, "value": "/fluid/whitewater", "type": "link", "text": ["How to animate a wave tank with whitewater"], "fullpath": "/fluid/whitewater"}, "."], "extent": [5241, 5339]}]}, {"level": 3, "id": "tips", "container": true, "type": "h", "indent": 0, "text": ["Tips for improving the look of your water"], "extent": [5339, 5394], "body": [{"type": "bullet_group", "body": [{"blevel": 10, "type": "bullet", "indent": 8, "text": ["The defaults for the tank will create a low res simulation, which makes it easy to animate. However, to create a nice looking render, you will need to change some of the defaults. For example, you will need to increase the number of particles in your scene. Decreasing the ", {"type": "ui", "text": ["Particle Separation"]}, " parameter to about ", {"type": "code", "text": ["0.03"]}, " will create a simulation with approximately 30 million particles."], "extent": [5394, 5803]}, {"blevel": 10, "type": "bullet", "indent": 8, "text": ["Add an environment light to your scene. Water reflects and refracts a lot of the environment around it, so having an environment map in your scene will significantly improve the look."], "extent": [5803, 6014], "body": [{"type": "tip_group", "body": [{"type": "tip", "indent": 16, "role": "item", "extent": [6014, 6035], "body": [{"type": "para", "indent": 24, "text": ["In your ", {"type": "ui", "text": ["Environment Map"]}, " parameter, navigate to the ", {"type": "code", "text": ["HFS/houdini/pic/"]}, " folder and choose the sky file ", {"type": "code", "text": ["DOSCH_SKIESV2_${F2}SN_lowres.rat"]}, "."], "extent": [6035, 6201]}], "container": true}], "container": true, "role": "item_group"}, {"type": "para", "indent": 16, "text": [{"scheme": "Image", "value": "/images/shelf/wavetank_render.jpg", "type": "img", "text": ""}], "extent": [6201, 6261]}], "container": true}], "container": true}]}]}, {"level": 2, "id": null, "container": true, "type": "h", "indent": 0, "text": ["Tips"], "extent": [1139, 1150], "body": [{"type": "bullet_group", "body": [{"blevel": 2, "type": "bullet", "indent": 0, "text": ["It is useful to parent your trackable object with a ", {"scheme": "Node", "value": "/nodes/obj/null", "type": "link", "text": ["Null Object"], "fullpath": "/nodes/obj/null"}, " so that you can create a more complex animation on the object and it will still follow your simple animation of the null."], "extent": [1150, 1356], "body": [{"type": "para", "indent": 8, "text": ["You can also parent cameras and lights to the moving null by connecting them to the output of the ", {"scheme": "Node", "value": "/nodes/obj/null", "type": "link", "text": ["Null Object"], "fullpath": "/nodes/obj/null"}, " and enabling the ", {"type": "ui", "text": ["Keep position when parenting"]}, " checkbox on the light or camera object."], "extent": [1356, 1581]}], "container": true}, {"blevel": 2, "type": "bullet", "indent": 0, "text": ["The ", {"type": "ui", "text": ["Particle Separation"]}, " on the ", {"scheme": "Node", "value": "/nodes/sop/oceansource", "type": "link", "text": ["Ocean Source"], "fullpath": "/nodes/sop/oceansource"}, " controls the resolution of you ocean. The lower the number, the closer together the particles will be."], "extent": [1581, 1758]}, {"blevel": 2, "type": "bullet", "indent": 0, "text": ["The ", {"type": "ui", "text": ["Size"]}, " parameter controls the size, shape, and depth of the tank. When you change the size, you will see a handle in the viewport which you can drag to manually set the size and depth of your tank."], "extent": [1758, 1965]}], "container": true}]}, {"level": 1, "id": "related", "container": true, "type": "related_section", "indent": 0, "role": "section", "extent": [1965, 1974], "body": [{"type": "bullet_group", "body": [{"blevel": 6, "type": "bullet", "indent": 4, "text": [{"scheme": "Node", "value": "/nodes/sop/oceansource", "type": "link", "text": ["Ocean Source"], "fullpath": "/nodes/sop/oceansource"}], "extent": [1974, 2016]}, {"blevel": 6, "type": "bullet", "indent": 4, "text": [{"scheme": null, "value": "/shelf/fliptank", "type": "link", "text": ["FLIP Tank"], "fullpath": "/shelf/fliptank"}], "extent": [2016, 2050]}, {"blevel": 6, "type": "bullet", "indent": 4, "text": [{"scheme": null, "value": "/shelf/wavetank", "type": "link", "text": ["Wave Tank"], "fullpath": "/shelf/wavetank"}], "extent": [2050, 2084]}], "container": true}], "text": "Related"}], "title": ["Flat Tank"], "summary": ["Creates a FLIP fluid simulation of a flat tank with a boundary layer."], "included": ["/shelf/common_ocean"]}