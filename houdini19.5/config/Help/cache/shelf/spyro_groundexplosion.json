{"type": "root", "attrs": {"icon": "SHELF/explosion", "tags": "pyro"}, "body": [{"level": 0, "type": "title", "indent": 0, "text": ["Ground Explosion"], "extent": [0, 21]}, {"type": "summary", "indent": 0, "text": [" Creates a large ground explosion. "], "extent": [58, 101]}, {"type": "video_group", "body": [{"ext": null, "type": "video", "indent": 0, "role": "item", "extent": [101, 109], "body": [{"type": "summary", "indent": 4, "text": ["Pyro simulation in the viewport. Colorspace: ACES, Voxels Size: 0.1."], "extent": [174, 257]}], "container": true, "attrs": {"src": "/videos/pyro/shelf/shelf_ground_explosion_viewport.mp4"}}, {"ext": null, "type": "video", "indent": 0, "role": "item", "extent": [257, 265], "body": [{"type": "summary", "indent": 4, "text": ["Pyro simulation rendered with Karma. Colorspace: ACES, Voxels Size: 0.1."], "extent": [327, 419]}], "container": true, "attrs": {"src": "/videos/pyro/shelf/shelf_ground_explosion_karma.mp4"}}], "container": true, "role": "item_group"}, {"level": 2, "id": null, "container": true, "type": "h", "indent": 0, "text": ["Overview"], "extent": [419, 434], "body": [{"type": "para", "indent": 0, "text": ["This shelf tool sets up a sparse pyro simulation of a large ground explosion. The explosion consists of a large initial blast, followed by rising of the resulting fire, combined with trails flying out from the explosion. As long as there are sufficient reactants (corresponding to the emissive ", {"type": "code", "text": ["flame"]}, " field), the fireball will continuously emit soot and heat and continue to expand. These various outputs, as well as the time it takes the fire to burn up, are controlled through parameters on the ", {"type": "ui", "text": ["Flames"]}, " tab of the ", {"scheme": "Node", "value": "/nodes/dop/pyrosolver_sparse", "type": "link", "text": ["Pyro Solver"], "fullpath": "/nodes/dop/pyrosolver_sparse"}, "."], "extent": [434, 1006]}]}, {"level": 2, "id": null, "container": true, "type": "h", "indent": 0, "text": ["Understanding Ground Explosion"], "extent": [1006, 1043], "body": [{"type": "para", "indent": 0, "text": ["The shelf tool creates a node network consisting of the following four components."], "extent": [1043, 1128]}, {"type": "ord_group", "body": [{"blevel": 2, "type": "ord", "indent": 0, "text": ["The ", {"type": "code", "text": ["ground_explosion/pyroburstsource"]}, " chain sets up density, temperature, divergence, burn, and velocity sources. Burn gets merged with the pyro ", {"type": "code", "text": ["flame"]}, " field to refresh the available reactants. The input to this node contains several points with different ", {"type": "code", "text": ["startframe"]}, " attributes. This gives rise to\nmultiple parts of the explosion that engage at slightly different times."], "extent": [1128, 1506], "body": [{"type": "task_group", "body": [{"ext": null, "type": "task", "indent": 4, "text": ["Change the number of bursts"], "role": "item", "extent": [1506, 1545], "body": [{"type": "para", "indent": 8, "text": ["Modify the ", {"type": "ui", "text": ["Force Total Count"]}, " parameter on the ", {"scheme": "Node", "value": "/nodes/sop/scatter", "type": "link", "text": ["scatter"], "fullpath": "/nodes/sop/scatter"}, " node. "], "extent": [1582, 1683]}, {"type": "para", "indent": 8, "text": ["This value directly controls the number of separate bursts that make up the explosion."], "extent": [1683, 1779]}], "container": true, "attrs": {"id": "ge_src_nbursts"}}, {"ext": null, "type": "task", "indent": 4, "text": ["Animate rates of the sourced values"], "role": "item", "extent": [1305, 1352], "body": [{"type": "para", "indent": 8, "text": ["Turn on the ", {"type": "ui", "text": ["Scale Over Duration"]}, " checkbox on the ", {"type": "ui", "text": ["Burst Components"]}, " tab of the the ", {"scheme": "Node", "value": "/nodes/sop/pyroburstsource", "type": "link", "text": ["Pyro Burst Source"], "fullpath": "/nodes/sop/pyroburstsource"}, " node."], "extent": [1388, 1544]}, {"type": "para", "indent": 8, "text": ["This will reveal the ", {"type": "ui", "text": ["Duration Ramp"]}, " that controls a global multiplier for source values over the duration of the burst."], "extent": [1544, 1675]}], "container": true, "attrs": {"id": "fb_src_values"}}, {"ext": null, "type": "task", "indent": 4, "text": ["Set the size of the initial blast"], "role": "item", "extent": [1675, 1720], "body": [{"type": "para", "indent": 8, "text": ["Change the ", {"type": "ui", "text": ["Initial Size"]}, " or ", {"type": "ui", "text": ["Outward Expansion"]}, " parameters on the ", {"scheme": "Node", "value": "/nodes/sop/pyroburstsource", "type": "link", "text": ["Pyro Burst Source"], "fullpath": "/nodes/sop/pyroburstsource"}, " node. "], "extent": [1754, 1894]}, {"type": "para", "indent": 8, "text": [{"type": "ui", "text": ["Initial Size"]}, " controls the starting scale of the explosion, whereas ", {"type": "ui", "text": ["Outward Expansion"]}, " affects its inflation over the duration of expansion."], "extent": [1894, 2049]}], "container": true, "attrs": {"id": "fb_src_size"}}, {"ext": null, "type": "task", "indent": 4, "text": ["Change the shape of the initial blast"], "role": "item", "extent": [2049, 2098], "body": [{"type": "para", "indent": 8, "text": ["Modify ", {"type": "ui", "text": ["Shape Offset"]}, " on the ", {"type": "ui", "text": ["Burst Shape"]}, " tab of the ", {"scheme": "Node", "value": "/nodes/sop/pyroburstsource", "type": "link", "text": ["Pyro Burst Source"], "fullpath": "/nodes/sop/pyroburstsource"}, " node. "], "extent": [2133, 2260]}, {"type": "para", "indent": 8, "text": ["This parameter acts as a seed for the random shape. To more drastically modify the shape, you can adjust the values of the other parameters on the ", {"type": "ui", "text": ["Burst Shape"]}, " tab, such as ", {"type": "ui", "text": ["Spread Angle"]}, ", ", {"type": "ui", "text": ["Roundness"]}, ", and ", {"type": "ui", "text": ["Number of Trailings"]}, "."], "extent": [2260, 2507]}], "container": true, "attrs": {"id": "fb_src_shape"}}], "container": true, "role": "item_group"}], "container": true}, {"blevel": 2, "type": "ord", "indent": 0, "text": ["The ", {"type": "code", "text": ["ground_explosion/pyrotrailpath"]}, " chain sets up the trails flying out from the explosion. The ", {"scheme": "Node", "value": "/nodes/sop/pyrotrailpath", "type": "link", "text": ["Pyro Trail Path"], "fullpath": "/nodes/sop/pyrotrailpath"}, " node directs the trails, while the ", {"scheme": "Node", "value": "/nodes/sop/pyrotrailsource", "type": "link", "text": ["Pyro Trail Source"], "fullpath": "/nodes/sop/pyrotrailsource"}, " node sets up the density and temperature sources for the trails. The generated temperature volume is not sourced into the simulation, but combined with simulation results to light up the leading tip of the trails with fire."], "extent": [1929, 2374], "body": [{"type": "task_group", "body": [{"ext": null, "type": "task", "indent": 4, "text": ["Set the number of trails"], "role": "item", "extent": [2374, 2410], "body": [{"type": "para", "indent": 8, "text": ["Change the ", {"type": "ui", "text": ["Number of Trails"]}, " on the ", {"scheme": "Node", "value": "/nodes/sop/pyrotrailpath", "type": "link", "text": ["Pyro Trail Path"], "fullpath": "/nodes/sop/pyrotrailpath"}, " node."], "extent": [2447, 2550]}], "container": true, "attrs": {"id": "ge_src_ntrails"}}, {"ext": null, "type": "task", "indent": 4, "text": ["Control where the trails are ejected"], "role": "item", "extent": [2550, 2598], "body": [{"type": "para", "indent": 8, "text": ["Modify the ", {"type": "ui", "text": ["Spread Angle"]}, " and ", {"type": "ui", "text": ["Azimuth Angle"]}, " parameters on the ", {"scheme": "Node", "value": "/nodes/sop/pyrotrailpath", "type": "link", "text": ["Pyro Trail Path"], "fullpath": "/nodes/sop/pyrotrailpath"}, " node."], "extent": [2636, 2768]}, {"type": "para", "indent": 8, "text": ["Setting ", {"type": "ui", "text": ["Guide Display"]}, " to ", {"type": "ui", "text": ["Distribution Guide"]}, " can help you visualize where the trails can be emitted."], "extent": [2768, 2885]}], "container": true, "attrs": {"id": "ge_src_traildir"}}], "container": true, "role": "item_group"}], "container": true}, {"blevel": 2, "type": "ord", "indent": 0, "text": [{"type": "code", "text": ["ground_explosion_simulation"]}, " contains the simulation network that consumes the sources and carries out the simulation. The parameters on the ", {"scheme": "Node", "value": "/nodes/dop/pyrosolver_sparse", "type": "link", "text": ["Sparse Pyro Solver"], "fullpath": "/nodes/dop/pyrosolver_sparse"}, " have the greatest influence on the motion and emergent shape of the explosion and its smoke."], "extent": [2885, 3171], "body": [{"type": "task_group", "body": [{"ext": null, "type": "task", "indent": 4, "text": ["Set the expansion rate of the rising fireball"], "role": "item", "extent": [2790, 2847], "body": [{"type": "para", "indent": 8, "text": ["Adjust the ", {"type": "ui", "text": ["Expansion Rate"]}, " and its corresponding ", {"type": "ui", "text": ["Flame Range"]}, " on the ", {"scheme": "Node", "value": "/nodes/dop/pyrosolver_sparse", "type": "link", "text": ["Pyro Solver"], "fullpath": "/nodes/dop/pyrosolver_sparse"}, "."], "extent": [2884, 3018]}, {"type": "para", "indent": 8, "text": ["These parameters are located on the solver\u2019s ", {"type": "ui", "text": ["Flames"]}, " tab, in the ", {"type": "ui", "text": ["Expansion"]}, " collapsible menu. If the rate is increased, you might need to also increase minimum value of the ", {"type": "ui", "text": ["Flame Range"]}, " parameter to avoid undesirably high expansion."], "extent": [3018, 3277]}], "container": true, "attrs": {"id": "fb_sim_exprate"}}, {"ext": null, "type": "task", "indent": 4, "text": ["Change how fast the fireball fades out"], "role": "item", "extent": [3277, 3327], "body": [{"type": "para", "indent": 8, "text": ["Modify the ", {"type": "ui", "text": ["Flame Lifespan"]}, " parameter. "], "extent": [3366, 3425]}, {"type": "para", "indent": 8, "text": ["The ", {"type": "code", "text": ["flame"]}, " field will be reduced more slowly when value of this parameter is larger, resulting in a longer-lasting fireball."], "extent": [3425, 3568]}], "container": true, "attrs": {"id": "fb_sim_flamerate"}}, {"ext": null, "type": "task", "indent": 4, "text": ["Modify the overall rising rate"], "role": "item", "extent": [3568, 3610], "body": [{"type": "para", "indent": 8, "text": ["Experiment with ", {"type": "ui", "text": ["Buoyancy Scale"]}, " values. "], "extent": [3649, 3710]}, {"type": "para", "indent": 8, "text": ["Boosting its value will increase the rising rate and vice versa."], "extent": [3710, 3792]}], "container": true, "attrs": {"id": "fb_sim_buoyancy1"}}, {"ext": null, "type": "task", "indent": 4, "text": ["Control ", {"type": "em", "text": ["how"]}, " the fireball rises"], "role": "item", "extent": [3792, 3836], "body": [{"type": "para", "indent": 8, "text": ["How the fireball will rise is determined by the ", {"type": "code", "text": ["temperature"]}, " field, whose evolution depends on the ", {"type": "ui", "text": ["Cooling Rate"]}, " and the parameters found in the ", {"type": "ui", "text": ["Temperature"]}, " collapsible menu on the ", {"type": "ui", "text": ["Flames"]}, " tab. A higher ", {"type": "ui", "text": ["Cooling Rate"]}, " will result in more rapid temperature loss, making the simulation more reliant on the temperature output from the ", {"type": "code", "text": ["flame"]}, " field to drive the upward motion."], "extent": [3875, 4288]}], "container": true, "attrs": {"id": "fb_sim_buoyancy2"}}, {"ext": null, "type": "task", "indent": 4, "text": ["Specify how the smoke is emitted"], "role": "item", "extent": [4288, 4332], "body": [{"type": "para", "indent": 8, "text": ["Modify the ", {"type": "ui", "text": ["Flame Range"]}, " and ", {"type": "ui", "text": ["Flame Ramp"]}, " parameters in the ", {"type": "ui", "text": ["Smoke"]}, " collapsible menu on the ", {"type": "ui", "text": ["Flames"]}, " tab."], "extent": [4361, 4492]}], "container": true, "attrs": {"id": "fb_sim_sootemit"}}, {"ext": null, "type": "task", "indent": 4, "text": ["Control how fast the smoke disappears"], "role": "item", "extent": [4492, 4541], "body": [{"type": "para", "indent": 8, "text": ["Adjust the ", {"type": "ui", "text": ["Dissipation"]}, " parameter. "], "extent": [4579, 4635]}, {"type": "para", "indent": 8, "text": ["Higher values will make the smoke rapidly disappear and smaller values will force the smoke to stick around for longer."], "extent": [4635, 4764]}], "container": true, "attrs": {"id": "fb_sim_sootdiss"}}], "container": true, "role": "item_group"}], "container": true}, {"blevel": 2, "type": "ord", "indent": 0, "text": ["The ", {"type": "code", "text": ["ground_explosion/object_merge"]}, " chain extracts the results of the simulation back into a SOP geometry. A ", {"scheme": "Node", "value": "/nodes/sop/pyrobakevolume", "type": "link", "text": ["Pyro Bake Volume"], "fullpath": "/nodes/sop/pyrobakevolume"}, " node sets the proper viewport visualization settings and creates a matching render material. If you dive inside this node, you modify some of the parameters on the ", {"scheme": "Node", "value": "/nodes/vop/pyroadvancedshader", "type": "link", "text": ["Pyro Shader"], "fullpath": "/nodes/vop/pyroadvancedshader"}, " to do the following."], "extent": [3491, 3873], "body": [{"type": "task_group", "body": [{"ext": null, "type": "task", "indent": 0, "text": [" Change the color of the smoke based on density"], "role": "item", "extent": [3679, 3735], "body": [{"type": "ord_group", "body": [{"blevel": 6, "type": "ord", "indent": 4, "text": ["Change the menu next to ", {"type": "ui", "text": ["Smoke Color"]}, " from ", {"type": "ui", "text": ["Constant"]}, " to ", {"type": "ui", "text": ["Use Ramp"]}, ". "], "extent": [3749, 3831]}, {"blevel": 6, "type": "ord", "indent": 4, "text": ["Set the ", {"type": "ui", "text": ["Density Range"]}, " parameter to control the color of the smoke at given density values."], "extent": [3831, 3932]}, {"blevel": 6, "type": "ord", "indent": 4, "text": ["Set the ", {"type": "ui", "text": ["Smoke Color Ramp"]}, " to change the color of the smoke based on ", {"type": "ui", "text": ["Density Range"]}, "."], "extent": [3932, 4029]}], "container": true}], "container": true, "attrs": {"id": "tip1"}}, {"ext": null, "type": "task", "indent": 0, "text": [" Change the color of the smoke based on how light scatters through the volume"], "role": "item", "extent": [4029, 4114], "body": [{"type": "para", "indent": 4, "text": ["Change the ", {"type": "ui", "text": ["Absorption Color"]}, ". The value of ", {"type": "code", "text": ["0.425"]}, " (red),", {"type": "code", "text": ["0.36"]}, "(green), ", {"type": "code", "text": ["0.3"]}, "(blue) could be a good starting point for more realistic looking smoke."], "extent": [4128, 4285]}], "container": true, "attrs": {"id": "tip2"}}, {"ext": null, "type": "task", "indent": 0, "text": [" Scale smoke density using an other volume"], "role": "item", "extent": [4285, 4335], "body": [{"type": "ord_group", "body": [{"blevel": 6, "type": "ord", "indent": 4, "text": ["Turn on the ", {"type": "ui", "text": ["Use Control Volume"]}, " checkbox. "], "extent": [4349, 4401]}, {"blevel": 6, "type": "ord", "indent": 4, "text": ["Set ", {"type": "ui", "text": ["Density Control Volume"]}, " on the ", {"type": "ui", "text": ["Bindings"]}, " tabs to the field that you want to use to affect the density. Usually ", {"type": "code", "text": ["temperature"]}, " or ", {"type": "code", "text": ["flame"]}, " are good choices for this purpose."], "extent": [4401, 4589]}], "container": true}], "container": true, "attrs": {"id": "tip3"}}], "container": true, "role": "item_group"}], "container": true}], "container": true}, {"level": 3, "id": null, "container": true, "type": "h", "indent": 0, "text": ["Tips"], "extent": [5280, 5291], "body": [{"type": "bullet_group", "body": [{"blevel": 6, "type": "bullet", "indent": 4, "text": ["For more accurate color display, use the Academy Color Encoding System (ACES). See ", {"scheme": null, "value": "/pyro/shading#aces", "type": "link", "text": ["Shading and rendering"], "fullpath": "/pyro/shading#aces", "fragment": "#aces"}, " in the Pyro chapter for information on how to set this up."], "extent": [5322, 5519]}, {"blevel": 6, "type": "bullet", "indent": 4, "text": ["Add a ", {"scheme": null, "value": "/render/lights", "type": "link", "text": ["Spot Light"], "fullpath": "/render/lights"}, " for better visualization in the viewport and an ", {"scheme": "Node", "value": "/nodes/obj/envlight", "type": "link", "text": ["Environment Light"], "fullpath": "/nodes/obj/envlight"}, " with custom hdri map for rendering."], "extent": [5519, 5686]}, {"blevel": 6, "type": "bullet", "indent": 4, "text": ["Add a small amount of sharpening on the density field to bring out a bit more detail, using the ", {"type": "ui", "text": ["Sharpen Volume"]}, " option in the ", {"scheme": "Node", "value": "/nodes/sop/pyrobakevolume", "type": "link", "text": ["Pyro Bake Volume"], "fullpath": "/nodes/sop/pyrobakevolume"}, "'s ", {"type": "ui", "text": ["Quick Setups"]}, " dropdown menu."], "extent": [5686, 5903]}, {"blevel": 7, "type": "bullet", "indent": 4, "text": ["Choose the ", {"type": "ui", "text": ["Create Lights/Cameras"]}, " option from the Pyro Bake Volume\u2019s  ", {"type": "ui", "text": ["Quick Setups"]}, " dropdown menu to quickly setup the volume for rendering with lights and cameras."], "extent": [5903, 6082]}], "container": true}], "attrs": {"id": "common_spyro_tip"}}, {"type": "note_group", "body": [{"type": "note", "indent": 0, "role": "item", "extent": [4073, 4079], "body": [{"type": "para", "indent": 4, "text": ["You can download a fully configured, production ready version of this shelf tool from the ", {"scheme": null, "value": "https://www.sidefx.com/contentlibrary/ground-explosion/", "type": "link", "text": ["SideFX Content Library"], "exists": true}, "."], "extent": [4079, 4255]}], "container": true}], "container": true, "role": "item_group"}]}], "title": ["Ground Explosion"], "summary": [" Creates a large ground explosion. "], "included": ["/nodes/sop/pyrobakevolume", "/nodes/sop/volumevisualization", "/nodes/vop/pyroadvancedshader", "/shelf/spyro_fireball"]}