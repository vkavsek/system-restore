{"type": "root", "attrs": {"icon": "SHELF/shockwave", "tags": "pyro"}, "body": [{"level": 0, "type": "title", "indent": 0, "text": ["Shockwave"], "extent": [0, 14]}, {"type": "summary", "indent": 0, "text": ["Creates a large rising and expanding explosion with a ground shockwave."], "extent": [51, 130]}, {"type": "video_group", "body": [{"ext": null, "type": "video", "indent": 0, "role": "item", "extent": [130, 138], "body": [{"type": "summary", "indent": 4, "text": ["Pyro simulation in the viewport. Colorspace: ACES, Voxels Size: 0.05."], "extent": [205, 289]}], "container": true, "attrs": {"src": "/videos/pyro/shelf/shelf_fireball_shockwave_viewport.mp4"}}, {"ext": null, "type": "video", "indent": 0, "role": "item", "extent": [289, 297], "body": [{"type": "summary", "indent": 4, "text": ["Pyro simulation rendered with Karma. Colorspace: ACES, Voxels Size: 0.05."], "extent": [361, 454]}], "container": true, "attrs": {"src": "/videos/pyro/shelf/shelf_fireball_shockwave_karma.mp4"}}], "container": true, "role": "item_group"}, {"level": 2, "id": null, "container": true, "type": "h", "indent": 0, "text": ["Overview"], "extent": [454, 469], "body": [{"type": "para", "indent": 0, "text": ["This shelf tool sets up a sparse pyro simulation of a medium-size explosion with a ground shockwave.The explosion consists of an initial blast, followed by a rising fireball, similar to the ", {"scheme": null, "value": "/shelf/pyrosimplefireball", "type": "link", "text": ["Simple Fireball"], "fullpath": "/shelf/pyrosimplefireball"}, " shelf tool. As long as there are sufficient reactants (corresponding to the emissive ", {"type": "code", "text": ["flame"]}, " field), the fireball will continuously emit soot and heat and continue to expand. These various outputs, as well as the time it takes the fireball to burn up, are controlled through the parameters on the ", {"type": "ui", "text": ["Flames"]}, " tab of the ", {"scheme": "Node", "value": "/nodes/sop/pyrosolver", "type": "link", "text": ["Pyro Solver"], "fullpath": "/nodes/sop/pyrosolver"}, "."], "extent": [469, 1067]}, {"type": "para", "indent": 0, "text": ["The shockwave starts slightly after the initial explosion, spreads out radially from the center of the explosion, and has no reactant sources (corresponding to the emissive ", {"type": "code", "text": ["flame"]}, " field). It\u2019s considered to be smoke/dust, so only density and temperature are sourced."], "extent": [1067, 1336]}]}, {"level": 2, "id": null, "container": true, "type": "h", "indent": 0, "text": ["Understanding Shockwave"], "extent": [1336, 1366], "body": [{"type": "para", "indent": 0, "text": ["This shelf tool creates a node network consisting of the following three components."], "extent": [1366, 1453]}, {"type": "ord_group", "body": [{"blevel": 2, "type": "ord", "indent": 0, "text": [{"type": "code", "text": ["fireball/pyroburstsource"]}, " chain sets up density, temperature, burn, and velocity sources. Burn gets merged with the pyro ", {"type": "code", "text": ["flame"]}, " field (to refresh the available reactants) and the ", {"type": "code", "text": ["divergence"]}, " field (causing the initial outward explosion)."], "extent": [1453, 1697], "body": [{"type": "task_group", "body": [{"ext": null, "type": "task", "indent": 4, "text": ["Animate rates of the sourced values"], "role": "item", "extent": [1697, 1744], "body": [{"type": "para", "indent": 8, "text": ["Turn on the ", {"type": "ui", "text": ["Scale Over Duration"]}, " checkbox on the ", {"type": "ui", "text": ["Burst Components"]}, " tab of the the ", {"scheme": "Node", "value": "/nodes/sop/pyroburstsource", "type": "link", "text": ["Pyro Burst Source"], "fullpath": "/nodes/sop/pyroburstsource"}, " node."], "extent": [1780, 1936]}, {"type": "para", "indent": 8, "text": ["This will reveal the ", {"type": "ui", "text": ["Duration Ramp"]}, " that controls a global multiplier for source values over the duration of the burst."], "extent": [1936, 2067]}], "container": true, "attrs": {"id": "fb_src_values"}}, {"ext": null, "type": "task", "indent": 4, "text": ["Set the size of the initial blast"], "role": "item", "extent": [2067, 2112], "body": [{"type": "para", "indent": 8, "text": ["Change the ", {"type": "ui", "text": ["Initial Size"]}, " or ", {"type": "ui", "text": ["Outward Expansion"]}, " parameters on the ", {"scheme": "Node", "value": "/nodes/sop/pyroburstsource", "type": "link", "text": ["Pyro Burst Source"], "fullpath": "/nodes/sop/pyroburstsource"}, " node. "], "extent": [2146, 2286]}, {"type": "para", "indent": 8, "text": [{"type": "ui", "text": ["Initial Size"]}, " controls the starting scale of the explosion, whereas ", {"type": "ui", "text": ["Outward Expansion"]}, " affects its inflation over the duration of expansion."], "extent": [2286, 2442]}], "container": true, "attrs": {"id": "fb_src_size"}}, {"ext": null, "type": "task", "indent": 4, "text": ["Change the shape of the initial blast"], "role": "item", "extent": [2442, 2491], "body": [{"type": "para", "indent": 8, "text": ["Modify ", {"type": "ui", "text": ["Shape Offset"]}, " on the ", {"type": "ui", "text": ["Burst Shape"]}, " tab of the ", {"scheme": "Node", "value": "/nodes/sop/pyroburstsource", "type": "link", "text": ["Pyro Burst Source"], "fullpath": "/nodes/sop/pyroburstsource"}, " node. "], "extent": [2526, 2653]}, {"type": "para", "indent": 8, "text": ["This parameter acts as a seed for the random shape. To more drastically modify the shape, you can adjust the values of the other parameters on the ", {"type": "ui", "text": ["Burst Shape"]}, " tab, such as ", {"type": "ui", "text": ["Spread Angle"]}, ", ", {"type": "ui", "text": ["Roundness"]}, ", and ", {"type": "ui", "text": ["Number of Trailings"]}, "."], "extent": [2653, 2900]}], "container": true, "attrs": {"id": "fb_src_shape"}}], "container": true, "role": "item_group"}], "container": true}, {"blevel": 2, "type": "ord", "indent": 0, "text": [{"type": "code", "text": ["pyroburstsource_ground_shockwave"]}, " sets up the initial shape, the density, and temperature sources for the shockwave. It does not source ", {"type": "code", "text": ["flame"]}, ", since the shockwave is made of dust and smoke. "], "extent": [2900, 3097], "body": [{"type": "task_group", "body": [{"ext": null, "type": "task", "indent": 4, "text": ["Change the expanding size of the shockwave"], "role": "item", "extent": [3097, 3151], "body": [{"type": "para", "indent": 8, "text": ["Modify ", {"type": "ui", "text": ["Interior Expansion"]}, " and ", {"type": "ui", "text": ["Exterior Expansion"]}, " parameters on the ", {"type": "ui", "text": ["Burst Animation"]}, " tab of the ", {"scheme": "Node", "value": "/nodes/sop/pyroburstsource", "type": "link", "text": ["Pyro Burst Source"], "fullpath": "/nodes/sop/pyroburstsource"}, " node.  "], "extent": [3186, 3354]}], "container": true, "attrs": {"id": "fb_src_shape"}}, {"ext": null, "type": "task", "indent": 4, "text": ["Change the shape of the shockwave"], "role": "item", "extent": [3354, 3399], "body": [{"type": "para", "indent": 8, "text": ["Turn on the ", {"type": "ui", "text": ["Add Shape Noise"]}, " checkbox on the ", {"type": "ui", "text": ["Burst Shape"]}, " tab of the ", {"scheme": "Node", "value": "/nodes/sop/pyroburstsource", "type": "link", "text": ["Pyro Burst Source"], "fullpath": "/nodes/sop/pyroburstsource"}, " node. This will change the expanding shockwave from mathematically circular to a more imperfect and natural shape."], "extent": [3434, 3678]}], "container": true, "attrs": {"id": "fb_src_shape"}}], "container": true, "role": "item_group"}], "container": true}, {"blevel": 2, "type": "ord", "indent": 0, "text": [{"type": "code", "text": ["adjust_shockwave_velocities"]}, " is used to further modify the velocity source of the shockwave. Velocity sourcing is an important part of defining the desired look of the shockwave."], "extent": [3678, 3861]}, {"blevel": 2, "type": "ord", "indent": 0, "text": [{"type": "code", "text": ["fireball_simulation"]}, " contains the simulation network that consumes the sources and carries out the fluid simulation. The parameters on the ", {"scheme": "Node", "value": "/nodes/dop/pyrosolver_sparse", "type": "link", "text": ["Sparse Pyro Solver"], "fullpath": "/nodes/dop/pyrosolver_sparse"}, " have the greatest influence on the motion and emergent shape of the fireball and its smoke."], "extent": [3861, 4144], "body": [{"type": "task_group", "body": [{"ext": null, "type": "task", "indent": 4, "text": ["Set the expansion rate of the rising fireball"], "role": "item", "extent": [4144, 4201], "body": [{"type": "para", "indent": 8, "text": ["Adjust the ", {"type": "ui", "text": ["Expansion Rate"]}, " and its corresponding ", {"type": "ui", "text": ["Flame Range"]}, " on the ", {"scheme": "Node", "value": "/nodes/dop/pyrosolver_sparse", "type": "link", "text": ["Pyro Solver"], "fullpath": "/nodes/dop/pyrosolver_sparse"}, "."], "extent": [4238, 4372]}, {"type": "para", "indent": 8, "text": ["These parameters are located on the solver\u2019s ", {"type": "ui", "text": ["Flames"]}, " tab, in the ", {"type": "ui", "text": ["Expansion"]}, " collapsible menu. If the rate is increased, you might need to also increase minimum value of the ", {"type": "ui", "text": ["Flame Range"]}, " parameter to avoid undesirably high expansion."], "extent": [4372, 4631]}], "container": true, "attrs": {"id": "fb_sim_exprate"}}, {"ext": null, "type": "task", "indent": 4, "text": ["Change how fast the fireball fades out"], "role": "item", "extent": [4631, 4681], "body": [{"type": "para", "indent": 8, "text": ["Modify the ", {"type": "ui", "text": ["Flame Lifespan"]}, " parameter. "], "extent": [4720, 4779]}, {"type": "para", "indent": 8, "text": ["The ", {"type": "code", "text": ["flame"]}, " field will be reduced more slowly when value of this parameter is larger, resulting in a longer-lasting fireball."], "extent": [4779, 4922]}], "container": true, "attrs": {"id": "fb_sim_flamerate"}}, {"ext": null, "type": "task", "indent": 4, "text": ["Modify the overall rising rate"], "role": "item", "extent": [4922, 4964], "body": [{"type": "para", "indent": 8, "text": ["Experiment with ", {"type": "ui", "text": ["Buoyancy Scale"]}, " values. "], "extent": [5003, 5064]}, {"type": "para", "indent": 8, "text": ["Boosting its value will increase the rising rate and vice versa."], "extent": [5064, 5146]}], "container": true, "attrs": {"id": "fb_sim_buoyancy1"}}, {"ext": null, "type": "task", "indent": 4, "text": ["Control ", {"type": "em", "text": ["how"]}, " the fireball rises"], "role": "item", "extent": [5146, 5190], "body": [{"type": "para", "indent": 8, "text": ["How the fireball will rise is determined by the ", {"type": "code", "text": ["temperature"]}, " field, whose evolution depends on the ", {"type": "ui", "text": ["Cooling Rate"]}, " and the parameters found in the ", {"type": "ui", "text": ["Temperature"]}, " collapsible menu on the ", {"type": "ui", "text": ["Flames"]}, " tab. A higher ", {"type": "ui", "text": ["Cooling Rate"]}, " will result in more rapid temperature loss, making the simulation more reliant on the temperature output from the ", {"type": "code", "text": ["flame"]}, " field to drive the upward motion."], "extent": [5229, 5642]}], "container": true, "attrs": {"id": "fb_sim_buoyancy2"}}, {"ext": null, "type": "task", "indent": 4, "text": ["Specify how the smoke is emitted"], "role": "item", "extent": [5642, 5686], "body": [{"type": "para", "indent": 8, "text": ["Modify the ", {"type": "ui", "text": ["Flame Range"]}, " and ", {"type": "ui", "text": ["Flame Ramp"]}, " parameters in the ", {"type": "ui", "text": ["Smoke"]}, " collapsible menu on the ", {"type": "ui", "text": ["Flames"]}, " tab."], "extent": [5715, 5846]}], "container": true, "attrs": {"id": "fb_sim_sootemit"}}, {"ext": null, "type": "task", "indent": 4, "text": ["Control how fast the smoke disappears"], "role": "item", "extent": [5846, 5895], "body": [{"type": "para", "indent": 8, "text": ["Adjust the ", {"type": "ui", "text": ["Dissipation"]}, " parameter. "], "extent": [5933, 5989]}, {"type": "para", "indent": 8, "text": ["Higher values will make the smoke rapidly disappear and smaller values will force the smoke to stick around for longer."], "extent": [5989, 6118]}], "container": true, "attrs": {"id": "fb_sim_sootdiss"}}], "container": true, "role": "item_group"}], "container": true}, {"blevel": 2, "type": "ord", "indent": 0, "text": [{"type": "code", "text": ["fireball/object_merge"]}, " chain extracts results of the simulation back into a SOP geometry. A ", {"scheme": "Node", "value": "/nodes/sop/pyrobakevolume", "type": "link", "text": ["Pyro Bake Volume"], "fullpath": "/nodes/sop/pyrobakevolume"}, " node sets the proper viewport visualization settings and creates a matching render material. If you dive inside this node, you modify some of the parameters on the ", {"scheme": "Node", "value": "/nodes/vop/pyroadvancedshader", "type": "link", "text": ["Pyro Shader"], "fullpath": "/nodes/vop/pyroadvancedshader"}, " to do the following."], "extent": [6118, 6484], "body": [{"type": "task_group", "body": [{"ext": null, "type": "task", "indent": 0, "text": [" Change the color of the smoke based on density"], "role": "item", "extent": [3679, 3735], "body": [{"type": "ord_group", "body": [{"blevel": 6, "type": "ord", "indent": 4, "text": ["Change the menu next to ", {"type": "ui", "text": ["Smoke Color"]}, " from ", {"type": "ui", "text": ["Constant"]}, " to ", {"type": "ui", "text": ["Use Ramp"]}, ". "], "extent": [3749, 3831]}, {"blevel": 6, "type": "ord", "indent": 4, "text": ["Set the ", {"type": "ui", "text": ["Density Range"]}, " parameter to control the color of the smoke at given density values."], "extent": [3831, 3932]}, {"blevel": 6, "type": "ord", "indent": 4, "text": ["Set the ", {"type": "ui", "text": ["Smoke Color Ramp"]}, " to change the color of the smoke based on ", {"type": "ui", "text": ["Density Range"]}, "."], "extent": [3932, 4029]}], "container": true}], "container": true, "attrs": {"id": "tip1"}}, {"ext": null, "type": "task", "indent": 0, "text": [" Change the color of the smoke based on how light scatters through the volume"], "role": "item", "extent": [4029, 4114], "body": [{"type": "para", "indent": 4, "text": ["Change the ", {"type": "ui", "text": ["Absorption Color"]}, ". The value of ", {"type": "code", "text": ["0.425"]}, " (red),", {"type": "code", "text": ["0.36"]}, "(green), ", {"type": "code", "text": ["0.3"]}, "(blue) could be a good starting point for more realistic looking smoke."], "extent": [4128, 4285]}], "container": true, "attrs": {"id": "tip2"}}, {"ext": null, "type": "task", "indent": 0, "text": [" Scale smoke density using an other volume"], "role": "item", "extent": [4285, 4335], "body": [{"type": "ord_group", "body": [{"blevel": 6, "type": "ord", "indent": 4, "text": ["Turn on the ", {"type": "ui", "text": ["Use Control Volume"]}, " checkbox. "], "extent": [4349, 4401]}, {"blevel": 6, "type": "ord", "indent": 4, "text": ["Set ", {"type": "ui", "text": ["Density Control Volume"]}, " on the ", {"type": "ui", "text": ["Bindings"]}, " tabs to the field that you want to use to affect the density. Usually ", {"type": "code", "text": ["temperature"]}, " or ", {"type": "code", "text": ["flame"]}, " are good choices for this purpose."], "extent": [4401, 4589]}], "container": true}], "container": true, "attrs": {"id": "tip3"}}], "container": true, "role": "item_group"}], "container": true}], "container": true}, {"level": 3, "id": null, "container": true, "type": "h", "indent": 0, "text": ["Tips"], "extent": [5280, 5291], "body": [{"type": "bullet_group", "body": [{"blevel": 6, "type": "bullet", "indent": 4, "text": ["For more accurate color display, use the Academy Color Encoding System (ACES). See ", {"scheme": null, "value": "/pyro/shading#aces", "type": "link", "text": ["Shading and rendering"], "fullpath": "/pyro/shading#aces", "fragment": "#aces"}, " in the Pyro chapter for information on how to set this up."], "extent": [5322, 5519]}, {"blevel": 6, "type": "bullet", "indent": 4, "text": ["Add a ", {"scheme": null, "value": "/render/lights", "type": "link", "text": ["Spot Light"], "fullpath": "/render/lights"}, " for better visualization in the viewport and an ", {"scheme": "Node", "value": "/nodes/obj/envlight", "type": "link", "text": ["Environment Light"], "fullpath": "/nodes/obj/envlight"}, " with custom hdri map for rendering."], "extent": [5519, 5686]}, {"blevel": 6, "type": "bullet", "indent": 4, "text": ["Add a small amount of sharpening on the density field to bring out a bit more detail, using the ", {"type": "ui", "text": ["Sharpen Volume"]}, " option in the ", {"scheme": "Node", "value": "/nodes/sop/pyrobakevolume", "type": "link", "text": ["Pyro Bake Volume"], "fullpath": "/nodes/sop/pyrobakevolume"}, "'s ", {"type": "ui", "text": ["Quick Setups"]}, " dropdown menu."], "extent": [5686, 5903]}, {"blevel": 7, "type": "bullet", "indent": 4, "text": ["Choose the ", {"type": "ui", "text": ["Create Lights/Cameras"]}, " option from the Pyro Bake Volume\u2019s  ", {"type": "ui", "text": ["Quick Setups"]}, " dropdown menu to quickly setup the volume for rendering with lights and cameras."], "extent": [5903, 6082]}], "container": true}], "attrs": {"id": "common_spyro_tip"}}]}], "title": ["Shockwave"], "summary": ["Creates a large rising and expanding explosion with a ground shockwave."], "included": ["/nodes/sop/pyrobakevolume", "/nodes/sop/volumevisualization", "/nodes/vop/pyroadvancedshader", "/shelf/spyro_fireball"]}