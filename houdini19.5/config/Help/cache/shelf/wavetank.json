{"type": "root", "attrs": {"icon": "SHELF/wave_tank", "tags": "oceans"}, "body": [{"level": 0, "type": "title", "indent": 0, "text": ["Wave Tank"], "extent": [38, 52]}, {"type": "summary", "indent": 0, "text": ["Creates a FLIP fluid simulation from an underlying ocean surface."], "extent": [52, 126]}, {"level": 2, "id": null, "container": true, "type": "h", "indent": 0, "text": ["Overview"], "extent": [126, 141], "body": [{"type": "para", "indent": 0, "text": ["This tool creates a FLIP tank simulation with particles initialized from an ocean surface with velocities. A ", {"type": "em", "text": ["boundary layer"]}, " of particles suppresses reflections at the edge of the tank, contributes ocean velocities back to the simulation, and maintains the water volume level to match the ocean. This ", {"type": "em", "text": ["boundary layer"]}, " also applies ocean velocities at the ", {"type": "em", "text": ["closed boundaries"]}, " to allow in/out-flow of the FLIP simulation."], "extent": [141, 564]}, {"type": "para", "indent": 0, "text": ["The Wave Tank can be a static tank or can follow a moving object through the ocean."], "extent": [564, 649]}, {"type": "para", "indent": 0, "text": ["The ", {"scheme": "Node", "value": "/nodes/sop/oceanspectrum", "type": "link", "text": ["Ocean Spectrum"], "fullpath": "/nodes/sop/oceanspectrum"}, " node allows you to shape the initial frame of your simulated ocean, and ", {"scheme": "Node", "value": "/nodes/sop/oceansource", "type": "link", "text": ["Ocean Source"], "fullpath": "/nodes/sop/oceansource"}, " controls the outputs. "], "extent": [649, 825]}, {"type": "tip_group", "body": [{"type": "tip", "indent": 0, "role": "item", "extent": [825, 830], "body": [{"type": "para", "indent": 4, "text": ["For more information, see the ", {"scheme": null, "value": "/shelf/ocean_differences", "type": "link", "text": ["differences between ocean tank types"], "fullpath": "/shelf/ocean_differences"}, " help page."], "extent": [830, 940]}], "container": true}], "container": true, "role": "item_group"}, {"type": "note_group", "body": [{"type": "note", "indent": 0, "role": "item", "extent": [940, 946], "body": [{"type": "para", "indent": 4, "text": ["Several of the ocean tanks use the ", {"type": "ui", "text": ["Narrow Band"]}, " feature in the ", {"scheme": "Node", "value": "/nodes/dop/flipsolver", "type": "link", "text": ["FLIP Solver"], "fullpath": "/nodes/dop/flipsolver"}, " by default. If the traditional full tank is desired, it can be changed back by selecting ", {"type": "ui", "text": ["Particle Field"]}, " in the ", {"scheme": "Node", "value": "/nodes/dop/flipobject", "type": "link", "text": ["FLIP Object"], "fullpath": "/nodes/dop/flipobject"}, "."], "extent": [8557, 8817]}, {"type": "para", "indent": 4, "text": [{"scheme": "Image", "value": "/news/16_5/images/narrow_band_flip.jpg", "type": "img", "text": ""}], "extent": [8817, 8868]}], "container": true}], "container": true, "role": "item_group"}]}, {"level": 2, "id": null, "container": true, "type": "h", "indent": 0, "text": ["Using Wave Tank"], "extent": [986, 1008], "body": [{"type": "ord_group", "body": [{"blevel": 2, "type": "ord", "indent": 0, "text": ["Click the ", {"scheme": "Icon", "value": "SHELF/wave_tank", "type": "link", "text": "", "fullpath": "/shelf/SHELF/wave_tank"}, " ", {"type": "ui", "text": ["Wave Tank"]}, " tool on the ", {"type": "ui", "text": ["Oceans"]}, " tab to create a tank.  "], "extent": [1008, 1110]}, {"blevel": 2, "type": "ord", "indent": 0, "text": ["Select an animated object to follow and press ", {"keys": ["Enter"], "type": "keys", "text": null}, " to confirm your selection. If no object is selected, you will be prompted to place a static tank."], "extent": [1110, 1267]}], "container": true}, {"type": "para", "indent": 0, "text": [{"scheme": "Image", "value": "/images/shelf/wavetank.jpg", "type": "img", "text": ""}], "extent": [1267, 1304]}, {"level": 3, "id": "howto", "container": true, "type": "h", "indent": 0, "text": ["Changing the look of your ocean"], "extent": [16, 62], "body": [{"type": "task_group", "body": [{"ext": null, "type": "task", "indent": 8, "text": [" Set the height of the wave"], "role": "item", "extent": [62, 106], "body": [{"type": "para", "indent": 16, "text": ["Navigate to the ", {"scheme": "Node", "value": "/nodes/sop/oceanspectrum", "type": "link", "text": ["Ocean Spectrum"], "fullpath": "/nodes/sop/oceanspectrum"}, " node and adjust the ", {"type": "ui", "text": ["Wave Scale"]}, " parameter on the ", {"type": "ui", "text": ["Wave Amplitude"]}, " tab."], "extent": [106, 263]}, {"type": "para", "indent": 16, "text": ["This value is multiplied by the ", {"type": "ui", "text": ["Speed"]}, " parameter on the ", {"type": "ui", "text": ["Wind"]}, " tab."], "extent": [263, 369]}, {"type": "col_group", "body": [{"ext": null, "type": "col", "indent": 16, "role": "item", "extent": [369, 391], "body": [{"type": "para", "indent": 20, "text": [{"scheme": "Image", "value": "/images/shelf/wave_height_low.jpg", "type": "img", "text": ""}], "extent": [391, 453]}], "container": true}, {"ext": null, "type": "col", "indent": 16, "role": "item", "extent": [453, 475], "body": [{"type": "para", "indent": 20, "text": [{"scheme": "Image", "value": "/images/shelf/wave_height_high.jpg", "type": "img", "text": ""}], "extent": [475, 555]}], "container": true}], "container": true, "role": "item_group"}], "container": true}, {"ext": null, "type": "task", "indent": 8, "text": [" Set the direction of the waves"], "role": "item", "extent": [555, 602], "body": [{"type": "para", "indent": 16, "text": ["Navigate to the ", {"scheme": "Node", "value": "/nodes/sop/oceanspectrum", "type": "link", "text": ["Ocean Spectrum"], "fullpath": "/nodes/sop/oceanspectrum"}, " node and adjust the ", {"type": "ui", "text": ["Directional Bias"]}, " parameter on the ", {"type": "ui", "text": ["Wind"]}, " tab."], "extent": [602, 755]}, {"type": "para", "indent": 16, "text": ["This controls how many frequencies are moving in the same direction as the wind. Increasing this value will cause more frequencies to travel in the same direction, which is useful for creating shoreline effects."], "extent": [755, 1000]}, {"type": "para", "indent": 16, "text": ["You can also try increasing the ", {"type": "ui", "text": ["Directional Movement"]}, " parameter. This will dampen the waves moving in the opposite direction of the wind, leaving only the ones moving in the same direction."], "extent": [1000, 1226]}, {"type": "col_group", "body": [{"ext": null, "type": "col", "indent": 16, "role": "item", "extent": [1226, 1248], "body": [{"type": "para", "indent": 20, "text": [{"scheme": "Image", "value": "/images/shelf/wave_direction1.jpg", "type": "img", "text": ""}], "extent": [1248, 1310]}], "container": true}, {"ext": null, "type": "col", "indent": 16, "role": "item", "extent": [1310, 1332], "body": [{"type": "para", "indent": 20, "text": [{"scheme": "Image", "value": "/images/shelf/wave_direction.jpg", "type": "img", "text": ""}], "extent": [1332, 1402]}], "container": true}], "container": true, "role": "item_group"}], "container": true}, {"ext": null, "type": "task", "indent": 8, "text": [" Control the height of the peak"], "role": "item", "extent": [1402, 1449], "body": [{"type": "para", "indent": 16, "text": ["Navigate to the ", {"scheme": "Node", "value": "/nodes/sop/oceanspectrum", "type": "link", "text": ["Ocean Spectrum"], "fullpath": "/nodes/sop/oceanspectrum"}, " node and adjust the ", {"type": "ui", "text": ["Chop"]}, " parameter on the ", {"type": "ui", "text": ["Wind"]}, " tab."], "extent": [1449, 1598]}, {"type": "para", "indent": 16, "text": ["Increasing this parameter creates sharp peaks on waves. However, if this value is too high waves, may invert on themselves."], "extent": [1598, 1755]}, {"type": "col_group", "body": [{"ext": null, "type": "col", "indent": 16, "role": "item", "extent": [1755, 1777], "body": [{"type": "para", "indent": 20, "text": [{"scheme": "Image", "value": "/images/shelf/wave_peak_low.jpg", "type": "img", "text": ""}], "extent": [1777, 1837]}], "container": true}, {"ext": null, "type": "col", "indent": 16, "role": "item", "extent": [1837, 1859], "body": [{"type": "para", "indent": 20, "text": [{"scheme": "Image", "value": "/images/shelf/wave_peak_high.jpg", "type": "img", "text": ""}], "extent": [1859, 1937]}], "container": true}], "container": true, "role": "item_group"}], "container": true}, {"ext": null, "type": "task", "indent": 8, "text": [" Add more detail to your ocean"], "role": "item", "extent": [1937, 1983], "body": [{"type": "para", "indent": 16, "text": ["Increase the ", {"type": "ui", "text": ["Resolution Exponent"]}, " parameter on the ", {"scheme": "Node", "value": "/nodes/sop/oceanspectrum", "type": "link", "text": ["Ocean Spectrum"], "fullpath": "/nodes/sop/oceanspectrum"}, " node."], "extent": [1983, 2116]}, {"type": "note_group", "body": [{"type": "note", "indent": 16, "role": "item", "extent": [2116, 2138], "body": [{"type": "para", "indent": 24, "text": ["The ", {"type": "ui", "text": ["Resolution Exponent"]}, " parameter will not only determine the quality of your ocean, but also the size of the texture maps that you will eventually write out."], "extent": [2138, 2342]}], "container": true}], "container": true, "role": "item_group"}, {"type": "col_group", "body": [{"ext": null, "type": "col", "indent": 16, "role": "item", "extent": [2342, 2365], "body": [{"type": "para", "indent": 20, "text": [{"scheme": "Image", "value": "/images/shelf/wave_regular.jpg", "type": "img", "text": ""}, " "], "extent": [2365, 2425]}], "container": true}, {"ext": null, "type": "col", "indent": 16, "role": "item", "extent": [2425, 2448], "body": [{"type": "para", "indent": 20, "text": [{"scheme": "Image", "value": "/images/shelf/wave_detailed.jpg", "type": "img", "text": ""}], "extent": [2448, 2525]}], "container": true}], "container": true, "role": "item_group"}], "container": true}, {"ext": null, "type": "task", "indent": 8, "text": [" Create a large ocean"], "role": "item", "extent": [2525, 2562], "body": [{"type": "para", "indent": 12, "text": ["Use the ", {"scheme": null, "value": "/shelf/largeocean", "type": "link", "text": ["Large Ocean"], "fullpath": "/shelf/largeocean"}, " shelf tool."], "extent": [2562, 2635]}], "container": true}], "container": true, "role": "item_group"}]}, {"level": 3, "id": "understand", "container": true, "type": "h", "indent": 0, "text": ["Understanding the network of nodes"], "extent": [2635, 2689], "body": [{"type": "para", "indent": 8, "text": ["There are three important layers to focus on when creating your ocean. First create the ocean, next add whitewater, and finally add specularity for the whitewater. "], "extent": [2689, 2872]}, {"type": "tip_group", "body": [{"type": "tip", "indent": 8, "role": "item", "extent": [2872, 2885], "body": [{"type": "para", "indent": 16, "text": ["Disable all whitewater nodes at the OBJ level while you work on your ocean, then disable the ocean nodes while you work on your whitewater."], "extent": [2885, 3050]}], "container": true}], "container": true, "role": "item_group"}, {"type": "para", "indent": 8, "text": ["The first set of nodes control the ocean itself."], "extent": [3050, 3116]}, {"type": "para", "indent": 8, "text": [{"scheme": "Image", "value": "/images/shelf/wavetank_nodes_ocean.jpg", "type": "img", "text": ""}], "extent": [3116, 3180]}, {"type": "ord_group", "body": [{"blevel": 10, "type": "ord", "indent": 8, "text": [{"type": "code", "text": ["fluidtank_initial"]}, " controls the first frame of your simulation. This is where you can shape the initial frame of your tank with ", {"scheme": "Node", "value": "/nodes/sop/oceanspectrum", "type": "link", "text": ["Ocean Spectrum"], "fullpath": "/nodes/sop/oceanspectrum"}, " and control the outputs with ", {"scheme": "Node", "value": "/nodes/sop/oceansource", "type": "link", "text": ["Ocean Source"], "fullpath": "/nodes/sop/oceansource"}, ". This includes the size of your tank, the depth of the water etc."], "extent": [3180, 3499]}, {"blevel": 10, "type": "ord", "indent": 8, "text": [{"type": "code", "text": ["AutoDopNetwork"]}, " controls the simulation of your tank. This is where you will find the ", {"scheme": "Node", "value": "/nodes/dop/flipobject", "type": "link", "text": ["FLIP Object"], "fullpath": "/nodes/dop/flipobject"}, " and ", {"scheme": "Node", "value": "/nodes/dop/flipsolver", "type": "link", "text": ["FLIP Solver"], "fullpath": "/nodes/dop/flipsolver"}, ".  The FLIP simulation will contain ", {"scheme": "Node", "value": "/nodes/dop/volumesource", "type": "link", "text": ["Volume Source"], "fullpath": "/nodes/dop/volumesource"}, " DOPs to sink and source the boundary layer particles, and a ", {"scheme": "Node", "value": "/nodes/dop/popadvectbyvolumes", "type": "link", "text": ["POP Advect By Volumes"], "fullpath": "/nodes/dop/popadvectbyvolumes"}, " POP to add ocean velocities to the simulation."], "extent": [3499, 3909]}, {"blevel": 10, "type": "ord", "indent": 8, "text": [{"type": "code", "text": ["fluidtank_fluid"]}, " is the result of #1 and #2 combined, and is where the results are rendered. After the simulation is done, this node collects the fluid particles, sets up a material, creates some nodes for surfacing to finish the effect."], "extent": [3909, 4167]}, {"blevel": 10, "type": "ord", "indent": 8, "text": [{"type": "code", "text": ["fluidtank_interior"]}, " is also used for rendering, and for creating the volumetric effect that one of the shaders applies to the interior of the fluid. It controls the volume beneath the surface, such as how cloudy or murky the water will appear."], "extent": [4167, 4431]}], "container": true}, {"type": "para", "indent": 8, "text": ["The next set of nodes are to control the whitewater. "], "extent": [4431, 4502]}, {"type": "note_group", "body": [{"type": "note", "indent": 8, "role": "item", "extent": [4502, 4516], "body": [{"type": "para", "indent": 12, "text": ["To add whitewater to your simulation, use the ", {"scheme": "Icon", "value": "SHELF/whitewater", "type": "link", "text": "", "fullpath": "/shelf/SHELF/whitewater"}, {"scheme": "Tool", "value": "whitewater", "type": "link", "text": ["Whitewater"], "fullpath": "/shelf/whitewater"}, " tool on the ", {"type": "ui", "text": ["Oceans"]}, " shelf."], "extent": [4516, 4665]}], "container": true}], "container": true, "role": "item_group"}, {"type": "para", "indent": 8, "text": [{"scheme": "Image", "value": "/images/shelf/wavetank_nodes_whitewater.jpg", "type": "img", "text": ""}], "extent": [4665, 4734]}, {"type": "ord_group", "body": [{"blevel": 10, "type": "ord", "indent": 8, "text": [{"type": "code", "text": ["whitewater_source"]}, " is where the spray and foam is coming from."], "extent": [4734, 4817]}, {"blevel": 10, "type": "ord", "indent": 8, "text": [{"type": "code", "text": ["whitewater_sim"]}, " is where the whitewater simulated. This is where you can modify the animation."], "extent": [4817, 4932]}, {"blevel": 10, "type": "ord", "indent": 8, "text": [{"type": "code", "text": ["import_whitewater"]}, " is the result of #1 and #2 combined."], "extent": [4932, 5008]}], "container": true}, {"type": "note_group", "body": [{"type": "note", "indent": 8, "role": "item", "extent": [5008, 5022], "body": [{"type": "para", "indent": 16, "text": ["Do not try to set up a whitewater simulation from scratch. Always use the tools. For more information about using whitewater, see the ", {"scheme": "Icon", "value": "SHELF/whitewater", "type": "link", "text": "", "fullpath": "/shelf/SHELF/whitewater"}, {"scheme": null, "value": "/shelf/whitewater", "type": "link", "text": ["Whitewater"], "fullpath": "/shelf/whitewater"}, " help."], "extent": [5022, 5241]}], "container": true}], "container": true, "role": "item_group"}, {"type": "para", "indent": 8, "text": ["For more information see ", {"scheme": null, "value": "/fluid/whitewater", "type": "link", "text": ["How to animate a wave tank with whitewater"], "fullpath": "/fluid/whitewater"}, "."], "extent": [5241, 5339]}]}, {"level": 3, "id": "tips", "container": true, "type": "h", "indent": 0, "text": ["Tips for improving the look of your water"], "extent": [5339, 5394], "body": [{"type": "bullet_group", "body": [{"blevel": 10, "type": "bullet", "indent": 8, "text": ["The defaults for the tank will create a low res simulation, which makes it easy to animate. However, to create a nice looking render, you will need to change some of the defaults. For example, you will need to increase the number of particles in your scene. Decreasing the ", {"type": "ui", "text": ["Particle Separation"]}, " parameter to about ", {"type": "code", "text": ["0.03"]}, " will create a simulation with approximately 30 million particles."], "extent": [5394, 5803]}, {"blevel": 10, "type": "bullet", "indent": 8, "text": ["Add an environment light to your scene. Water reflects and refracts a lot of the environment around it, so having an environment map in your scene will significantly improve the look."], "extent": [5803, 6014], "body": [{"type": "tip_group", "body": [{"type": "tip", "indent": 16, "role": "item", "extent": [6014, 6035], "body": [{"type": "para", "indent": 24, "text": ["In your ", {"type": "ui", "text": ["Environment Map"]}, " parameter, navigate to the ", {"type": "code", "text": ["HFS/houdini/pic/"]}, " folder and choose the sky file ", {"type": "code", "text": ["DOSCH_SKIESV2_${F2}SN_lowres.rat"]}, "."], "extent": [6035, 6201]}], "container": true}], "container": true, "role": "item_group"}, {"type": "para", "indent": 16, "text": [{"scheme": "Image", "value": "/images/shelf/wavetank_render.jpg", "type": "img", "text": ""}], "extent": [6201, 6261]}], "container": true}], "container": true}]}]}, {"level": 1, "id": "related", "container": true, "type": "related_section", "indent": 0, "role": "section", "extent": [1414, 1423], "body": [{"type": "bullet_group", "body": [{"blevel": 6, "type": "bullet", "indent": 4, "text": [{"scheme": "Node", "value": "/nodes/sop/oceanspectrum", "type": "link", "text": ["Ocean Spectrum"], "fullpath": "/nodes/sop/oceanspectrum"}], "extent": [1423, 1469]}, {"blevel": 6, "type": "bullet", "indent": 4, "text": [{"scheme": "Node", "value": "/nodes/sop/oceansource", "type": "link", "text": ["Ocean Source"], "fullpath": "/nodes/sop/oceansource"}], "extent": [1469, 1511]}], "container": true}], "text": "Related"}], "title": ["Wave Tank"], "summary": ["Creates a FLIP fluid simulation from an underlying ocean surface."], "included": ["/shelf/common_ocean"]}