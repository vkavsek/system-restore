{"type": "root", "attrs": {"type": "vex", "context": "all", "tags": "matrix", "group": "math", "since": "18.0", "showtags": "true"}, "body": [{"level": 0, "type": "title", "indent": 0, "text": ["combinelocaltransform"], "extent": [0, 26]}, {"type": "summary", "indent": 0, "text": ["Combines Local and Parent Transforms with Scale Inheritance."], "extent": [93, 161]}, {"type": "usage_group", "body": [{"ext": null, "type": "usage", "indent": 0, "text": [" ", {"type": "code", "text": ["matrix combinelocaltransform(matrix local, matrix parent_world, matrix parent_local, int scale_inherit_mode)"]}], "role": "item", "extent": [161, 281]}], "container": true, "role": "item_group"}, {"type": "para", "indent": 0, "text": ["Returns a new world transform given its local and parent world transforms."], "extent": [281, 357]}, {"type": "usage_group", "body": [{"ext": null, "type": "usage", "indent": 0, "text": [" ", {"type": "code", "text": ["matrix combinelocaltransform(matrix local, matrix parent_world, matrix parent_local, int scale_inherit_mode, matrix &effective_local_transform)"]}], "role": "item", "extent": [357, 512]}], "container": true, "role": "item_group"}, {"type": "para", "indent": 0, "text": ["Returns a new world transform given its local and parent world transforms. The local transform including any inherited scales is stored in the effective_local_transform matrix - this value will differ from the local matrix when the mode is set to SCALE_INHERIT_OFFSET_AND_SCALE or SCALE_INHERIT_SCALE_ONLY where we pass a parent\u2019s local scales onto its children as part of their own local transforms."], "extent": [512, 914]}, {"type": "arg_group", "body": [{"ext": null, "type": "arg", "indent": 0, "text": {"type": "code", "text": {"type": "code", "text": ["scale_inherit_mode"]}}, "role": "item", "extent": [6892, 6917], "body": [{"type": "para", "indent": 4, "text": ["Specifies how scale inheritance from the parent transform is applied to the result. It is one of the following defines from ", {"type": "code", "text": ["math.h"]}, ":"], "extent": [6946, 7084]}, {"type": "bullet_group", "body": [{"blevel": 6, "type": "bullet", "indent": 4, "text": [{"type": "code", "text": ["SCALE_INHERIT_DEFAULT"]}, " (0) - simple inheritance:"], "extent": [7084, 7140], "body": [{"lang": null, "type": "pre", "indent": 6, "text": ["\n      world = local * parent_world\n      "], "extent": [7140, 7195]}], "container": true}, {"blevel": 6, "type": "bullet", "indent": 4, "text": [{"type": "code", "text": ["SCALE_INHERIT_OFFSET_ONLY"]}, " (1) - child doesn\u2019t scale with the parent local scales, but local translation is scaled:"], "extent": [7195, 7318], "body": [{"lang": null, "type": "pre", "indent": 6, "text": ["\n      world = local_scale_rotates * invert(parent_local_scales) * local_translates * parent_world\n      "], "extent": [7318, 7436]}], "container": true}, {"blevel": 6, "type": "bullet", "indent": 4, "text": [{"type": "code", "text": ["SCALE_INHERIT_OFFSET_AND_SCALE"]}, " (2) - local translation is scaled as before but parent local scaling is also reapplied by the child in local space:"], "extent": [7436, 7591], "body": [{"lang": null, "type": "pre", "indent": 6, "text": ["\n      world = parent_local_scales * local_scale_rotates * invert(parent_local_scales) * T * parent_world\n      "], "extent": [7591, 7716]}], "container": true}, {"blevel": 6, "type": "bullet", "indent": 4, "text": [{"type": "code", "text": ["SCALE_INHERIT_SCALE_ONLY"]}, " (3) - local translation is not scaled, but parent local scaling is reapplied by the child in local space:"], "extent": [7716, 7855], "body": [{"lang": null, "type": "pre", "indent": 6, "text": ["\n      world = parent_local_scales * local * invert(parent_local_scales) * parent_world\n      "], "extent": [7855, 7962]}], "container": true}, {"blevel": 6, "type": "bullet", "indent": 4, "text": [{"type": "code", "text": ["SCALE_INHERIT_IGNORE"]}, " (4) - child completely ignores any parent local scaling:"], "extent": [7962, 8048], "body": [{"lang": null, "type": "pre", "indent": 6, "text": ["\n      world = local * invert(parent_local_scales) * parent_world\n      "], "extent": [8048, 8133]}], "container": true}], "container": true}], "container": true, "attrs": {"id": "scale_inherit_mode"}}], "container": true, "role": "item_group"}, {"level": 1, "id": "related", "container": true, "type": "related_section", "indent": 0, "role": "section", "extent": [952, 961], "body": [{"type": "bullet_group", "body": [{"blevel": 2, "type": "bullet", "indent": 0, "text": [{"scheme": "Vex", "value": "/vex/functions/extractlocaltransform", "type": "link", "text": "", "fallback_text": "extractlocaltransform()", "fullpath": "/vex/functions/extractlocaltransform"}], "extent": [961, 991]}], "container": true}], "text": "Related"}], "title": ["combinelocaltransform"], "summary": ["Combines Local and Parent Transforms with Scale Inheritance."], "included": ["/vex/functions/_common"]}