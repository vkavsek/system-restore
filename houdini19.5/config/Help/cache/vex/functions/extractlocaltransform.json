{"type": "root", "attrs": {"type": "vex", "context": "all", "tags": "matrix", "group": "math", "since": "18.0", "showtags": "true"}, "body": [{"level": 0, "type": "title", "indent": 0, "text": ["extractlocaltransform"], "extent": [0, 26]}, {"type": "summary", "indent": 0, "text": ["Extracts Local Transform from a World Transform with Scale Inheritance."], "extent": [93, 172]}, {"type": "usage_group", "body": [{"ext": null, "type": "usage", "indent": 0, "text": [" ", {"type": "code", "text": ["matrix extractlocaltransform(matrix world, matrix parent_world, matrix parent_local, int scale_inherit_mode)"]}], "role": "item", "extent": [172, 292]}], "container": true, "role": "item_group"}, {"type": "para", "indent": 0, "text": ["Returns a new local transform given its world and new parent transforms."], "extent": [292, 366]}, {"type": "usage_group", "body": [{"ext": null, "type": "usage", "indent": 0, "text": [" ", {"type": "code", "text": ["matrix extractlocaltransform(matrix world, matrix parent_world, matrix parent_local, int mode, matrix &effective_local_transform)"]}], "role": "item", "extent": [366, 507]}], "container": true, "role": "item_group"}, {"type": "para", "indent": 0, "text": ["Returns a new world transform given its local and parent world transforms. The local transform including any inherited scales is stored in the effective_local_transform matrix;"], "extent": [507, 685]}, {"type": "arg_group", "body": [{"ext": null, "type": "arg", "indent": 0, "text": {"type": "code", "text": {"type": "code", "text": ["scale_inherit_mode"]}}, "role": "item", "extent": [6700, 6725], "body": [{"type": "para", "indent": 4, "text": ["Specifies how scale inheritance from the parent transform is applied to the result. It is one of the following defines from ", {"type": "code", "text": ["math.h"]}, ":"], "extent": [6754, 6892]}, {"type": "bullet_group", "body": [{"blevel": 6, "type": "bullet", "indent": 4, "text": [{"type": "code", "text": ["SCALE_INHERIT_DEFAULT"]}, " (0) - simple inheritance:"], "extent": [6892, 6948], "body": [{"lang": null, "type": "pre", "indent": 6, "text": ["\n      world = local * parent_world\n      "], "extent": [6948, 7003]}], "container": true}, {"blevel": 6, "type": "bullet", "indent": 4, "text": [{"type": "code", "text": ["SCALE_INHERIT_OFFSET_ONLY"]}, " (1) - child doesn\u2019t scale with the parent local scales, but local translation is scaled:"], "extent": [7003, 7126], "body": [{"lang": null, "type": "pre", "indent": 6, "text": ["\n      world = local_scale_rotates * invert(parent_local_scales) * local_translates * parent_world\n      "], "extent": [7126, 7244]}], "container": true}, {"blevel": 6, "type": "bullet", "indent": 4, "text": [{"type": "code", "text": ["SCALE_INHERIT_OFFSET_AND_SCALE"]}, " (2) - local translation is scaled as before but parent local scaling is also reapplied by the child in local space:"], "extent": [7244, 7399], "body": [{"lang": null, "type": "pre", "indent": 6, "text": ["\n      world = parent_local_scales * local_scale_rotates * invert(parent_local_scales) * T * parent_world\n      "], "extent": [7399, 7524]}], "container": true}, {"blevel": 6, "type": "bullet", "indent": 4, "text": [{"type": "code", "text": ["SCALE_INHERIT_SCALE_ONLY"]}, " (3) - local translation is not scaled, but parent local scaling is reapplied by the child in local space:"], "extent": [7524, 7663], "body": [{"lang": null, "type": "pre", "indent": 6, "text": ["\n      world = parent_local_scales * local * invert(parent_local_scales) * parent_world\n      "], "extent": [7663, 7770]}], "container": true}, {"blevel": 6, "type": "bullet", "indent": 4, "text": [{"type": "code", "text": ["SCALE_INHERIT_IGNORE"]}, " (4) - child completely ignores any parent local scaling:"], "extent": [7770, 7856], "body": [{"lang": null, "type": "pre", "indent": 6, "text": ["\n      world = local * invert(parent_local_scales) * parent_world\n      "], "extent": [7856, 7941]}], "container": true}], "container": true}], "container": true, "attrs": {"id": "scale_inherit_mode"}}], "container": true, "role": "item_group"}, {"level": 1, "id": "related", "container": true, "type": "related_section", "indent": 0, "role": "section", "extent": [723, 732], "body": [{"type": "bullet_group", "body": [{"blevel": 2, "type": "bullet", "indent": 0, "text": [{"scheme": "Vex", "value": "/vex/functions/combinelocaltransform", "type": "link", "text": "", "fallback_text": "combinelocaltransform()", "fullpath": "/vex/functions/combinelocaltransform"}], "extent": [732, 763]}], "container": true}], "text": "Related"}], "title": ["extractlocaltransform"], "summary": ["Extracts Local Transform from a World Transform with Scale Inheritance."], "included": ["/vex/functions/_common"]}